{"version":3,"file":"index.bundled.js","sources":["../../node_modules/hybrids/esm/utils.js","../../node_modules/hybrids/esm/property.js","../../node_modules/hybrids/esm/emitter.js","../../node_modules/hybrids/esm/cache.js","../../node_modules/hybrids/esm/define.js","../../node_modules/hybrids/esm/render.js","../../node_modules/hybrids/esm/template/utils.js","../../node_modules/hybrids/esm/template/resolvers/array.js","../../node_modules/hybrids/esm/template/resolvers/value.js","../../node_modules/hybrids/esm/template/resolvers/event.js","../../node_modules/hybrids/esm/template/resolvers/class.js","../../node_modules/hybrids/esm/template/resolvers/style.js","../../node_modules/hybrids/esm/template/resolvers/property.js","../../node_modules/hybrids/esm/template/core.js","../../node_modules/hybrids/esm/template/helpers.js","../../node_modules/hybrids/esm/template/index.js","../../node_modules/prismjs/prism.js","index.js"],"sourcesContent":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar camelToDashMap = new Map();\nexport function camelToDash(str) {\n  var result = camelToDashMap.get(str);\n\n  if (result === undefined) {\n    result = str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    camelToDashMap.set(str, result);\n  }\n\n  return result;\n}\nexport function pascalToDash(str) {\n  return camelToDash(str.replace(/((?!([A-Z]{2}|^))[A-Z])/g, '-$1'));\n}\nexport function dispatch(host, eventType) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return host.dispatchEvent(new CustomEvent(eventType, _objectSpread({\n    bubbles: false\n  }, options)));\n}\nexport function shadyCSS(fn, fallback) {\n  var shady = window.ShadyCSS;\n  /* istanbul ignore next */\n\n  if (shady && !shady.nativeShadow) {\n    return fn(shady);\n  }\n\n  return fallback;\n}\nexport function stringifyElement(element) {\n  var tagName = String(element.tagName).toLowerCase();\n  return \"<\".concat(tagName, \">\");\n}\nexport var IS_IE = 'ActiveXObject' in window;\nexport var deferred = Promise.resolve();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy91dGlscy5qcyJdLCJuYW1lcyI6WyJjYW1lbFRvRGFzaE1hcCIsIk1hcCIsImNhbWVsVG9EYXNoIiwic3RyIiwicmVzdWx0IiwiZ2V0IiwidW5kZWZpbmVkIiwicmVwbGFjZSIsInRvTG93ZXJDYXNlIiwic2V0IiwicGFzY2FsVG9EYXNoIiwiZGlzcGF0Y2giLCJob3N0IiwiZXZlbnRUeXBlIiwib3B0aW9ucyIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJzaGFkeUNTUyIsImZuIiwiZmFsbGJhY2siLCJzaGFkeSIsIndpbmRvdyIsIlNoYWR5Q1NTIiwibmF0aXZlU2hhZG93Iiwic3RyaW5naWZ5RWxlbWVudCIsImVsZW1lbnQiLCJ0YWdOYW1lIiwiU3RyaW5nIiwiSVNfSUUiLCJkZWZlcnJlZCIsIlByb21pc2UiLCJyZXNvbHZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFNQSxjQUFjLEdBQUcsSUFBSUMsR0FBSixFQUF2QjtBQUNBLE9BQU8sU0FBU0MsV0FBVCxDQUFxQkMsR0FBckIsRUFBMEI7QUFDL0IsTUFBSUMsTUFBTSxHQUFHSixjQUFjLENBQUNLLEdBQWYsQ0FBbUJGLEdBQW5CLENBQWI7O0FBQ0EsTUFBSUMsTUFBTSxLQUFLRSxTQUFmLEVBQTBCO0FBQ3hCRixJQUFBQSxNQUFNLEdBQUdELEdBQUcsQ0FBQ0ksT0FBSixDQUFZLGlCQUFaLEVBQStCLE9BQS9CLEVBQXdDQyxXQUF4QyxFQUFUO0FBQ0FSLElBQUFBLGNBQWMsQ0FBQ1MsR0FBZixDQUFtQk4sR0FBbkIsRUFBd0JDLE1BQXhCO0FBQ0Q7O0FBQ0QsU0FBT0EsTUFBUDtBQUNEO0FBRUQsT0FBTyxTQUFTTSxZQUFULENBQXNCUCxHQUF0QixFQUEyQjtBQUNoQyxTQUFPRCxXQUFXLENBQUNDLEdBQUcsQ0FBQ0ksT0FBSixDQUFZLDBCQUFaLEVBQXdDLEtBQXhDLENBQUQsQ0FBbEI7QUFDRDtBQUVELE9BQU8sU0FBU0ksUUFBVCxDQUFrQkMsSUFBbEIsRUFBd0JDLFNBQXhCLEVBQWlEO0FBQUEsTUFBZEMsT0FBYyx1RUFBSixFQUFJO0FBQ3RELFNBQU9GLElBQUksQ0FBQ0csYUFBTCxDQUFtQixJQUFJQyxXQUFKLENBQWdCSCxTQUFoQjtBQUE2QkksSUFBQUEsT0FBTyxFQUFFO0FBQXRDLEtBQWdESCxPQUFoRCxFQUFuQixDQUFQO0FBQ0Q7QUFFRCxPQUFPLFNBQVNJLFFBQVQsQ0FBa0JDLEVBQWxCLEVBQXNCQyxRQUF0QixFQUFnQztBQUNyQyxNQUFNQyxLQUFLLEdBQUdDLE1BQU0sQ0FBQ0MsUUFBckI7QUFFQTs7QUFDQSxNQUFJRixLQUFLLElBQUksQ0FBQ0EsS0FBSyxDQUFDRyxZQUFwQixFQUFrQztBQUNoQyxXQUFPTCxFQUFFLENBQUNFLEtBQUQsQ0FBVDtBQUNEOztBQUVELFNBQU9ELFFBQVA7QUFDRDtBQUVELE9BQU8sU0FBU0ssZ0JBQVQsQ0FBMEJDLE9BQTFCLEVBQW1DO0FBQ3hDLE1BQU1DLE9BQU8sR0FBR0MsTUFBTSxDQUFDRixPQUFPLENBQUNDLE9BQVQsQ0FBTixDQUF3Qm5CLFdBQXhCLEVBQWhCO0FBQ0Esb0JBQVdtQixPQUFYO0FBQ0Q7QUFFRCxPQUFPLElBQU1FLEtBQUssR0FBRyxtQkFBbUJQLE1BQWpDO0FBQ1AsT0FBTyxJQUFNUSxRQUFRLEdBQUdDLE9BQU8sQ0FBQ0MsT0FBUixFQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNhbWVsVG9EYXNoTWFwID0gbmV3IE1hcCgpO1xuZXhwb3J0IGZ1bmN0aW9uIGNhbWVsVG9EYXNoKHN0cikge1xuICBsZXQgcmVzdWx0ID0gY2FtZWxUb0Rhc2hNYXAuZ2V0KHN0cik7XG4gIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHJlc3VsdCA9IHN0ci5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNhbWVsVG9EYXNoTWFwLnNldChzdHIsIHJlc3VsdCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhc2NhbFRvRGFzaChzdHIpIHtcbiAgcmV0dXJuIGNhbWVsVG9EYXNoKHN0ci5yZXBsYWNlKC8oKD8hKFtBLVpdezJ9fF4pKVtBLVpdKS9nLCAnLSQxJykpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2goaG9zdCwgZXZlbnRUeXBlLCBvcHRpb25zID0ge30pIHtcbiAgcmV0dXJuIGhvc3QuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoZXZlbnRUeXBlLCB7IGJ1YmJsZXM6IGZhbHNlLCAuLi5vcHRpb25zIH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYWR5Q1NTKGZuLCBmYWxsYmFjaykge1xuICBjb25zdCBzaGFkeSA9IHdpbmRvdy5TaGFkeUNTUztcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoc2hhZHkgJiYgIXNoYWR5Lm5hdGl2ZVNoYWRvdykge1xuICAgIHJldHVybiBmbihzaGFkeSk7XG4gIH1cblxuICByZXR1cm4gZmFsbGJhY2s7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlFbGVtZW50KGVsZW1lbnQpIHtcbiAgY29uc3QgdGFnTmFtZSA9IFN0cmluZyhlbGVtZW50LnRhZ05hbWUpLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiBgPCR7dGFnTmFtZX0+YDtcbn1cblxuZXhwb3J0IGNvbnN0IElTX0lFID0gJ0FjdGl2ZVhPYmplY3QnIGluIHdpbmRvdztcbmV4cG9ydCBjb25zdCBkZWZlcnJlZCA9IFByb21pc2UucmVzb2x2ZSgpO1xuIl19","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { camelToDash } from './utils';\n\nvar defaultTransform = function defaultTransform(v) {\n  return v;\n};\n\nvar objectTransform = function objectTransform(value) {\n  if (_typeof(value) !== 'object') {\n    throw TypeError(\"Assigned value must be an object: \".concat(_typeof(value)));\n  }\n\n  return value && Object.freeze(value);\n};\n\nexport default function property(value, connect) {\n  var type = _typeof(value);\n\n  var transform = defaultTransform;\n\n  switch (type) {\n    case 'string':\n      transform = String;\n      break;\n\n    case 'number':\n      transform = Number;\n      break;\n\n    case 'boolean':\n      transform = Boolean;\n      break;\n\n    case 'function':\n      transform = value;\n      value = transform();\n      break;\n\n    case 'object':\n      if (value) Object.freeze(value);\n      transform = objectTransform;\n      break;\n\n    default:\n      break;\n  }\n\n  return {\n    get: function get(host) {\n      var val = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : value;\n      return val;\n    },\n    set: function set(host, val, oldValue) {\n      return transform(val, oldValue);\n    },\n    connect: type !== 'object' && type !== 'undefined' ? function (host, key, invalidate) {\n      if (host[key] === value) {\n        var attrName = camelToDash(key);\n\n        if (host.hasAttribute(attrName)) {\n          var attrValue = host.getAttribute(attrName);\n          host[key] = attrValue === '' && transform === Boolean ? true : attrValue;\n        }\n      }\n\n      return connect && connect(host, key, invalidate);\n    } : connect\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9wcm9wZXJ0eS5qcyJdLCJuYW1lcyI6WyJjYW1lbFRvRGFzaCIsImRlZmF1bHRUcmFuc2Zvcm0iLCJ2Iiwib2JqZWN0VHJhbnNmb3JtIiwidmFsdWUiLCJUeXBlRXJyb3IiLCJPYmplY3QiLCJmcmVlemUiLCJwcm9wZXJ0eSIsImNvbm5lY3QiLCJ0eXBlIiwidHJhbnNmb3JtIiwiU3RyaW5nIiwiTnVtYmVyIiwiQm9vbGVhbiIsImdldCIsImhvc3QiLCJ2YWwiLCJzZXQiLCJvbGRWYWx1ZSIsImtleSIsImludmFsaWRhdGUiLCJhdHRyTmFtZSIsImhhc0F0dHJpYnV0ZSIsImF0dHJWYWx1ZSIsImdldEF0dHJpYnV0ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxXQUFULFFBQTRCLFNBQTVCOztBQUVBLElBQU1DLGdCQUFnQixHQUFHLFNBQW5CQSxnQkFBbUIsQ0FBQ0MsQ0FBRDtBQUFBLFNBQU9BLENBQVA7QUFBQSxDQUF6Qjs7QUFFQSxJQUFNQyxlQUFlLEdBQUcsU0FBbEJBLGVBQWtCLENBQUNDLEtBQUQsRUFBVztBQUNqQyxNQUFJLFFBQU9BLEtBQVAsTUFBaUIsUUFBckIsRUFBK0I7QUFDN0IsVUFBTUMsU0FBUyxxREFBNkNELEtBQTdDLEdBQWY7QUFDRDs7QUFDRCxTQUFPQSxLQUFLLElBQUlFLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjSCxLQUFkLENBQWhCO0FBQ0QsQ0FMRDs7QUFPQSxlQUFlLFNBQVNJLFFBQVQsQ0FBa0JKLEtBQWxCLEVBQXlCSyxPQUF6QixFQUFrQztBQUMvQyxNQUFNQyxJQUFJLFdBQVVOLEtBQVYsQ0FBVjs7QUFDQSxNQUFJTyxTQUFTLEdBQUdWLGdCQUFoQjs7QUFFQSxVQUFRUyxJQUFSO0FBQ0UsU0FBSyxRQUFMO0FBQ0VDLE1BQUFBLFNBQVMsR0FBR0MsTUFBWjtBQUNBOztBQUNGLFNBQUssUUFBTDtBQUNFRCxNQUFBQSxTQUFTLEdBQUdFLE1BQVo7QUFDQTs7QUFDRixTQUFLLFNBQUw7QUFDRUYsTUFBQUEsU0FBUyxHQUFHRyxPQUFaO0FBQ0E7O0FBQ0YsU0FBSyxVQUFMO0FBQ0VILE1BQUFBLFNBQVMsR0FBR1AsS0FBWjtBQUNBQSxNQUFBQSxLQUFLLEdBQUdPLFNBQVMsRUFBakI7QUFDQTs7QUFDRixTQUFLLFFBQUw7QUFDRSxVQUFJUCxLQUFKLEVBQVdFLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjSCxLQUFkO0FBQ1hPLE1BQUFBLFNBQVMsR0FBR1IsZUFBWjtBQUNBOztBQUNGO0FBQVM7QUFsQlg7O0FBcUJBLFNBQU87QUFDTFksSUFBQUEsR0FBRyxFQUFFLGFBQUNDLElBQUQ7QUFBQSxVQUFPQyxHQUFQLHVFQUFhYixLQUFiO0FBQUEsYUFBdUJhLEdBQXZCO0FBQUEsS0FEQTtBQUVMQyxJQUFBQSxHQUFHLEVBQUUsYUFBQ0YsSUFBRCxFQUFPQyxHQUFQLEVBQVlFLFFBQVo7QUFBQSxhQUF5QlIsU0FBUyxDQUFDTSxHQUFELEVBQU1FLFFBQU4sQ0FBbEM7QUFBQSxLQUZBO0FBR0xWLElBQUFBLE9BQU8sRUFBRUMsSUFBSSxLQUFLLFFBQVQsSUFBcUJBLElBQUksS0FBSyxXQUE5QixHQUNMLFVBQUNNLElBQUQsRUFBT0ksR0FBUCxFQUFZQyxVQUFaLEVBQTJCO0FBQzNCLFVBQUlMLElBQUksQ0FBQ0ksR0FBRCxDQUFKLEtBQWNoQixLQUFsQixFQUF5QjtBQUN2QixZQUFNa0IsUUFBUSxHQUFHdEIsV0FBVyxDQUFDb0IsR0FBRCxDQUE1Qjs7QUFFQSxZQUFJSixJQUFJLENBQUNPLFlBQUwsQ0FBa0JELFFBQWxCLENBQUosRUFBaUM7QUFDL0IsY0FBTUUsU0FBUyxHQUFHUixJQUFJLENBQUNTLFlBQUwsQ0FBa0JILFFBQWxCLENBQWxCO0FBQ0FOLFVBQUFBLElBQUksQ0FBQ0ksR0FBRCxDQUFKLEdBQVlJLFNBQVMsS0FBSyxFQUFkLElBQW9CYixTQUFTLEtBQUtHLE9BQWxDLEdBQTRDLElBQTVDLEdBQW1EVSxTQUEvRDtBQUNEO0FBQ0Y7O0FBRUQsYUFBT2YsT0FBTyxJQUFJQSxPQUFPLENBQUNPLElBQUQsRUFBT0ksR0FBUCxFQUFZQyxVQUFaLENBQXpCO0FBQ0QsS0FaTSxHQWFMWjtBQWhCQyxHQUFQO0FBa0JEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2FtZWxUb0Rhc2ggfSBmcm9tICcuL3V0aWxzJztcblxuY29uc3QgZGVmYXVsdFRyYW5zZm9ybSA9ICh2KSA9PiB2O1xuXG5jb25zdCBvYmplY3RUcmFuc2Zvcm0gPSAodmFsdWUpID0+IHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoYEFzc2lnbmVkIHZhbHVlIG11c3QgYmUgYW4gb2JqZWN0OiAke3R5cGVvZiB2YWx1ZX1gKTtcbiAgfVxuICByZXR1cm4gdmFsdWUgJiYgT2JqZWN0LmZyZWV6ZSh2YWx1ZSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcm9wZXJ0eSh2YWx1ZSwgY29ubmVjdCkge1xuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZXQgdHJhbnNmb3JtID0gZGVmYXVsdFRyYW5zZm9ybTtcblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgdHJhbnNmb3JtID0gU3RyaW5nO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHRyYW5zZm9ybSA9IE51bWJlcjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgdHJhbnNmb3JtID0gQm9vbGVhbjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHRyYW5zZm9ybSA9IHZhbHVlO1xuICAgICAgdmFsdWUgPSB0cmFuc2Zvcm0oKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICBpZiAodmFsdWUpIE9iamVjdC5mcmVlemUodmFsdWUpO1xuICAgICAgdHJhbnNmb3JtID0gb2JqZWN0VHJhbnNmb3JtO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDogYnJlYWs7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldDogKGhvc3QsIHZhbCA9IHZhbHVlKSA9PiB2YWwsXG4gICAgc2V0OiAoaG9zdCwgdmFsLCBvbGRWYWx1ZSkgPT4gdHJhbnNmb3JtKHZhbCwgb2xkVmFsdWUpLFxuICAgIGNvbm5lY3Q6IHR5cGUgIT09ICdvYmplY3QnICYmIHR5cGUgIT09ICd1bmRlZmluZWQnXG4gICAgICA/IChob3N0LCBrZXksIGludmFsaWRhdGUpID0+IHtcbiAgICAgICAgaWYgKGhvc3Rba2V5XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICBjb25zdCBhdHRyTmFtZSA9IGNhbWVsVG9EYXNoKGtleSk7XG5cbiAgICAgICAgICBpZiAoaG9zdC5oYXNBdHRyaWJ1dGUoYXR0ck5hbWUpKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSBob3N0LmdldEF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgICAgICBob3N0W2tleV0gPSBhdHRyVmFsdWUgPT09ICcnICYmIHRyYW5zZm9ybSA9PT0gQm9vbGVhbiA/IHRydWUgOiBhdHRyVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbm5lY3QgJiYgY29ubmVjdChob3N0LCBrZXksIGludmFsaWRhdGUpO1xuICAgICAgfVxuICAgICAgOiBjb25uZWN0LFxuICB9O1xufVxuIl19","var callbacks = new WeakMap();\nvar queue = new Set();\n\nfunction execute() {\n  try {\n    queue.forEach(function (target) {\n      try {\n        callbacks.get(target)();\n        queue.delete(target);\n      } catch (e) {\n        queue.delete(target);\n        throw e;\n      }\n    });\n  } catch (e) {\n    if (queue.size) execute();\n    throw e;\n  }\n}\n\nexport function dispatch(target) {\n  if (!queue.size) {\n    requestAnimationFrame(execute);\n  }\n\n  queue.add(target);\n}\nexport function subscribe(target, cb) {\n  callbacks.set(target, cb);\n  dispatch(target);\n  return function unsubscribe() {\n    queue.delete(target);\n    callbacks.delete(target);\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9lbWl0dGVyLmpzIl0sIm5hbWVzIjpbImNhbGxiYWNrcyIsIldlYWtNYXAiLCJxdWV1ZSIsIlNldCIsImV4ZWN1dGUiLCJmb3JFYWNoIiwidGFyZ2V0IiwiZ2V0IiwiZGVsZXRlIiwiZSIsInNpemUiLCJkaXNwYXRjaCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImFkZCIsInN1YnNjcmliZSIsImNiIiwic2V0IiwidW5zdWJzY3JpYmUiXSwibWFwcGluZ3MiOiJBQUFBLElBQU1BLFNBQVMsR0FBRyxJQUFJQyxPQUFKLEVBQWxCO0FBQ0EsSUFBTUMsS0FBSyxHQUFHLElBQUlDLEdBQUosRUFBZDs7QUFFQSxTQUFTQyxPQUFULEdBQW1CO0FBQ2pCLE1BQUk7QUFDRkYsSUFBQUEsS0FBSyxDQUFDRyxPQUFOLENBQWMsVUFBQ0MsTUFBRCxFQUFZO0FBQ3hCLFVBQUk7QUFDRk4sUUFBQUEsU0FBUyxDQUFDTyxHQUFWLENBQWNELE1BQWQ7QUFDQUosUUFBQUEsS0FBSyxDQUFDTSxNQUFOLENBQWFGLE1BQWI7QUFDRCxPQUhELENBR0UsT0FBT0csQ0FBUCxFQUFVO0FBQ1ZQLFFBQUFBLEtBQUssQ0FBQ00sTUFBTixDQUFhRixNQUFiO0FBQ0EsY0FBTUcsQ0FBTjtBQUNEO0FBQ0YsS0FSRDtBQVNELEdBVkQsQ0FVRSxPQUFPQSxDQUFQLEVBQVU7QUFDVixRQUFJUCxLQUFLLENBQUNRLElBQVYsRUFBZ0JOLE9BQU87QUFDdkIsVUFBTUssQ0FBTjtBQUNEO0FBQ0Y7O0FBRUQsT0FBTyxTQUFTRSxRQUFULENBQWtCTCxNQUFsQixFQUEwQjtBQUMvQixNQUFJLENBQUNKLEtBQUssQ0FBQ1EsSUFBWCxFQUFpQjtBQUNmRSxJQUFBQSxxQkFBcUIsQ0FBQ1IsT0FBRCxDQUFyQjtBQUNEOztBQUNERixFQUFBQSxLQUFLLENBQUNXLEdBQU4sQ0FBVVAsTUFBVjtBQUNEO0FBRUQsT0FBTyxTQUFTUSxTQUFULENBQW1CUixNQUFuQixFQUEyQlMsRUFBM0IsRUFBK0I7QUFDcENmLEVBQUFBLFNBQVMsQ0FBQ2dCLEdBQVYsQ0FBY1YsTUFBZCxFQUFzQlMsRUFBdEI7QUFDQUosRUFBQUEsUUFBUSxDQUFDTCxNQUFELENBQVI7QUFFQSxTQUFPLFNBQVNXLFdBQVQsR0FBdUI7QUFDNUJmLElBQUFBLEtBQUssQ0FBQ00sTUFBTixDQUFhRixNQUFiO0FBQ0FOLElBQUFBLFNBQVMsQ0FBQ1EsTUFBVixDQUFpQkYsTUFBakI7QUFDRCxHQUhEO0FBSUQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjYWxsYmFja3MgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgcXVldWUgPSBuZXcgU2V0KCk7XG5cbmZ1bmN0aW9uIGV4ZWN1dGUoKSB7XG4gIHRyeSB7XG4gICAgcXVldWUuZm9yRWFjaCgodGFyZ2V0KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjYWxsYmFja3MuZ2V0KHRhcmdldCkoKTtcbiAgICAgICAgcXVldWUuZGVsZXRlKHRhcmdldCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHF1ZXVlLmRlbGV0ZSh0YXJnZXQpO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKHF1ZXVlLnNpemUpIGV4ZWN1dGUoKTtcbiAgICB0aHJvdyBlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwYXRjaCh0YXJnZXQpIHtcbiAgaWYgKCFxdWV1ZS5zaXplKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGV4ZWN1dGUpO1xuICB9XG4gIHF1ZXVlLmFkZCh0YXJnZXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlKHRhcmdldCwgY2IpIHtcbiAgY2FsbGJhY2tzLnNldCh0YXJnZXQsIGNiKTtcbiAgZGlzcGF0Y2godGFyZ2V0KTtcblxuICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgcXVldWUuZGVsZXRlKHRhcmdldCk7XG4gICAgY2FsbGJhY2tzLmRlbGV0ZSh0YXJnZXQpO1xuICB9O1xufVxuIl19","import { stringifyElement } from './utils';\nimport * as emitter from './emitter';\nvar entries = new WeakMap();\nexport function getEntry(target, key) {\n  var targetMap = entries.get(target);\n\n  if (!targetMap) {\n    targetMap = new Map();\n    entries.set(target, targetMap);\n  }\n\n  var entry = targetMap.get(key);\n\n  if (!entry) {\n    entry = {\n      target: target,\n      key: key,\n      value: undefined,\n      contexts: undefined,\n      deps: undefined,\n      state: 0,\n      checksum: 0,\n      observed: false\n    };\n    targetMap.set(key, entry);\n  }\n\n  return entry;\n}\n\nfunction calculateChecksum(entry) {\n  var checksum = entry.state;\n\n  if (entry.deps) {\n    entry.deps.forEach(function (depEntry) {\n      checksum += depEntry.state;\n    });\n  }\n\n  return checksum;\n}\n\nfunction dispatchDeep(entry) {\n  if (entry.observed) emitter.dispatch(entry);\n  if (entry.contexts) entry.contexts.forEach(dispatchDeep);\n}\n\nvar contextStack = new Set();\nexport function get(target, key, getter) {\n  var entry = getEntry(target, key);\n\n  if (contextStack.size && contextStack.has(entry)) {\n    throw Error(\"Circular get invocation of the '\".concat(key, \"' property in '\").concat(stringifyElement(target), \"'\"));\n  }\n\n  contextStack.forEach(function (context) {\n    context.deps = context.deps || new Set();\n    context.deps.add(entry);\n\n    if (context.observed) {\n      entry.contexts = entry.contexts || new Set();\n      entry.contexts.add(context);\n    }\n  });\n\n  if (entry.checksum && entry.checksum === calculateChecksum(entry)) {\n    return entry.value;\n  }\n\n  try {\n    contextStack.add(entry);\n\n    if (entry.observed && entry.deps && entry.deps.size) {\n      entry.deps.forEach(function (depEntry) {\n        depEntry.contexts.delete(entry);\n      });\n    }\n\n    entry.deps = undefined;\n    var nextValue = getter(target, entry.value);\n\n    if (nextValue !== entry.value) {\n      entry.state += 1;\n      entry.value = nextValue;\n      dispatchDeep(entry);\n    }\n\n    entry.checksum = calculateChecksum(entry);\n    contextStack.delete(entry);\n  } catch (e) {\n    entry.checksum = 0;\n    contextStack.delete(entry);\n    contextStack.forEach(function (context) {\n      context.deps.delete(entry);\n      if (context.observed) entry.contexts.delete(context);\n    });\n    throw e;\n  }\n\n  return entry.value;\n}\nexport function set(target, key, setter, value, force) {\n  if (contextStack.size && !force) {\n    throw Error(\"Try to set '\".concat(key, \"' of '\").concat(stringifyElement(target), \"' in get call\"));\n  }\n\n  var entry = getEntry(target, key);\n  var newValue = setter(target, value, entry.value);\n\n  if (newValue !== entry.value) {\n    entry.checksum = 0;\n    entry.state += 1;\n    entry.value = newValue;\n    dispatchDeep(entry);\n  }\n}\nexport function invalidate(target, key, clearValue) {\n  if (contextStack.size) {\n    throw Error(\"Try to invalidate '\".concat(key, \"' in '\").concat(stringifyElement(target), \"' get call\"));\n  }\n\n  var entry = getEntry(target, key);\n  entry.checksum = 0;\n  entry.state += 1;\n  dispatchDeep(entry);\n\n  if (clearValue) {\n    entry.value = undefined;\n  }\n}\nexport function observe(target, key, getter, fn) {\n  var entry = getEntry(target, key);\n  entry.observed = true;\n  var lastValue;\n  var unsubscribe = emitter.subscribe(entry, function () {\n    var value = get(target, key, getter);\n\n    if (value !== lastValue) {\n      fn(target, value, lastValue);\n      lastValue = value;\n    }\n  });\n  return function unobserve() {\n    unsubscribe();\n    entry.observed = false;\n\n    if (entry.deps && entry.deps.size) {\n      entry.deps.forEach(function (depEntry) {\n        depEntry.contexts.delete(entry);\n      });\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jYWNoZS5qcyJdLCJuYW1lcyI6WyJzdHJpbmdpZnlFbGVtZW50IiwiZW1pdHRlciIsImVudHJpZXMiLCJXZWFrTWFwIiwiZ2V0RW50cnkiLCJ0YXJnZXQiLCJrZXkiLCJ0YXJnZXRNYXAiLCJnZXQiLCJNYXAiLCJzZXQiLCJlbnRyeSIsInZhbHVlIiwidW5kZWZpbmVkIiwiY29udGV4dHMiLCJkZXBzIiwic3RhdGUiLCJjaGVja3N1bSIsIm9ic2VydmVkIiwiY2FsY3VsYXRlQ2hlY2tzdW0iLCJmb3JFYWNoIiwiZGVwRW50cnkiLCJkaXNwYXRjaERlZXAiLCJkaXNwYXRjaCIsImNvbnRleHRTdGFjayIsIlNldCIsImdldHRlciIsInNpemUiLCJoYXMiLCJFcnJvciIsImNvbnRleHQiLCJhZGQiLCJkZWxldGUiLCJuZXh0VmFsdWUiLCJlIiwic2V0dGVyIiwiZm9yY2UiLCJuZXdWYWx1ZSIsImludmFsaWRhdGUiLCJjbGVhclZhbHVlIiwib2JzZXJ2ZSIsImZuIiwibGFzdFZhbHVlIiwidW5zdWJzY3JpYmUiLCJzdWJzY3JpYmUiLCJ1bm9ic2VydmUiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGdCQUFULFFBQWlDLFNBQWpDO0FBQ0EsT0FBTyxLQUFLQyxPQUFaLE1BQXlCLFdBQXpCO0FBRUEsSUFBTUMsT0FBTyxHQUFHLElBQUlDLE9BQUosRUFBaEI7QUFDQSxPQUFPLFNBQVNDLFFBQVQsQ0FBa0JDLE1BQWxCLEVBQTBCQyxHQUExQixFQUErQjtBQUNwQyxNQUFJQyxTQUFTLEdBQUdMLE9BQU8sQ0FBQ00sR0FBUixDQUFZSCxNQUFaLENBQWhCOztBQUNBLE1BQUksQ0FBQ0UsU0FBTCxFQUFnQjtBQUNkQSxJQUFBQSxTQUFTLEdBQUcsSUFBSUUsR0FBSixFQUFaO0FBQ0FQLElBQUFBLE9BQU8sQ0FBQ1EsR0FBUixDQUFZTCxNQUFaLEVBQW9CRSxTQUFwQjtBQUNEOztBQUVELE1BQUlJLEtBQUssR0FBR0osU0FBUyxDQUFDQyxHQUFWLENBQWNG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QUVELE9BQU8sU0FBUzJCLE9BQVQsQ0FBaUJuQyxNQUFqQixFQUF5QkMsR0FBekIsRUFBOEJvQixNQUE5QixFQUFzQ2UsRUFBdEMsRUFBMEM7QUFDL0MsTUFBTTlCLEtBQUssR0FBR1AsUUFBUSxDQUFDQyxNQUFELEVBQVNDLEdBQVQsQ0FBdEI7QUFDQUssRUFBQUEsS0FBSyxDQUFDTyxRQUFOLEdBQWlCLElBQWpCO0FBRUEsTUFBSXdCLFNBQUo7QUFDQSxNQUFNQyxXQUFXLEdBQUcxQyxPQUFPLENBQUMyQyxTQUFSLENBQWtCakMsS0FBbEIsRUFBeUIsWUFBTTtBQUNqRCxRQUFNQyxLQUFLLEdBQUdKLEdBQUcsQ0FBQ0gsTUFBRCxFQUFTQyxHQUFULEVBQWNvQixNQUFkLENBQWpCOztBQUNBLFFBQUlkLEtBQUssS0FBSzhCLFNBQWQsRUFBeUI7QUFDdkJELE1BQUFBLEVBQUUsQ0FBQ3BDLE1BQUQsRUFBU08sS0FBVCxFQUFnQjhCLFNBQWhCLENBQUY7QUFDQUEsTUFBQUEsU0FBUyxHQUFHOUIsS0FBWjtBQUNEO0FBQ0YsR0FObUIsQ0FBcEI7QUFRQSxTQUFPLFNBQVNpQyxTQUFULEdBQXFCO0FBQzFCRixJQUFBQSxXQUFXO0FBQ1hoQyxJQUFBQSxLQUFLLENBQUNPLFFBQU4sR0FBaUIsS0FBakI7O0FBQ0EsUUFBSVAsS0FBSyxDQUFDSSxJQUFOLElBQWNKLEtBQUssQ0FBQ0ksSUFBTixDQUFXWSxJQUE3QixFQUFtQztBQUNqQ2hCLE1BQUFBLEtBQUssQ0FBQ0ksSUFBTixDQUFXSyxPQUFYLENBQW1CLFVBQUNDLFFBQUQsRUFBYztBQUMvQkEsUUFBQUEsUUFBUSxDQUFDUCxRQUFULENBQWtCa0IsTUFBbEIsQ0FBeUJyQixLQUF6QjtBQUNELE9BRkQ7QUFHRDtBQUNGLEdBUkQ7QUFTRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0cmluZ2lmeUVsZW1lbnQgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCAqIGFzIGVtaXR0ZXIgZnJvbSAnLi9lbWl0dGVyJztcblxuY29uc3QgZW50cmllcyA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0RW50cnkodGFyZ2V0LCBrZXkpIHtcbiAgbGV0IHRhcmdldE1hcCA9IGVudHJpZXMuZ2V0KHRhcmdldCk7XG4gIGlmICghdGFyZ2V0TWFwKSB7XG4gICAgdGFyZ2V0TWFwID0gbmV3IE1hcCgpO1xuICAgIGVudHJpZXMuc2V0KHRhcmdldCwgdGFyZ2V0TWFwKTtcbiAgfVxuXG4gIGxldCBlbnRyeSA9IHRhcmdldE1hcC5nZXQoa2V5KTtcblxuICBpZiAoIWVudHJ5KSB7XG4gICAgZW50cnkgPSB7XG4gICAgICB0YXJnZXQsXG4gICAgICBrZXksXG4gICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgY29udGV4dHM6IHVuZGVmaW5lZCxcbiAgICAgIGRlcHM6IHVuZGVmaW5lZCxcbiAgICAgIHN0YXRlOiAwLFxuICAgICAgY2hlY2tzdW06IDAsXG4gICAgICBvYnNlcnZlZDogZmFsc2UsXG4gICAgfTtcbiAgICB0YXJnZXRNYXAuc2V0KGtleSwgZW50cnkpO1xuICB9XG5cbiAgcmV0dXJuIGVudHJ5O1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVDaGVja3N1bShlbnRyeSkge1xuICBsZXQgY2hlY2tzdW0gPSBlbnRyeS5zdGF0ZTtcbiAgaWYgKGVudHJ5LmRlcHMpIHtcbiAgICBlbnRyeS5kZXBzLmZvckVhY2goKGRlcEVudHJ5KSA9PiB7XG4gICAgICBjaGVja3N1bSArPSBkZXBFbnRyeS5zdGF0ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBjaGVja3N1bTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hEZWVwKGVudHJ5KSB7XG4gIGlmIChlbnRyeS5vYnNlcnZlZCkgZW1pdHRlci5kaXNwYXRjaChlbnRyeSk7XG4gIGlmIChlbnRyeS5jb250ZXh0cykgZW50cnkuY29udGV4dHMuZm9yRWFjaChkaXNwYXRjaERlZXApO1xufVxuXG5jb25zdCBjb250ZXh0U3RhY2sgPSBuZXcgU2V0KCk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0KHRhcmdldCwga2V5LCBnZXR0ZXIpIHtcbiAgY29uc3QgZW50cnkgPSBnZXRFbnRyeSh0YXJnZXQsIGtleSk7XG5cbiAgaWYgKGNvbnRleHRTdGFjay5zaXplICYmIGNvbnRleHRTdGFjay5oYXMoZW50cnkpKSB7XG4gICAgdGhyb3cgRXJyb3IoYENpcmN1bGFyIGdldCBpbnZvY2F0aW9uIG9mIHRoZSAnJHtrZXl9JyBwcm9wZXJ0eSBpbiAnJHtzdHJpbmdpZnlFbGVtZW50KHRhcmdldCl9J2ApO1xuICB9XG5cbiAgY29udGV4dFN0YWNrLmZvckVhY2goKGNvbnRleHQpID0+IHtcbiAgICBjb250ZXh0LmRlcHMgPSBjb250ZXh0LmRlcHMgfHwgbmV3IFNldCgpO1xuICAgIGNvbnRleHQuZGVwcy5hZGQoZW50cnkpO1xuXG4gICAgaWYgKGNvbnRleHQub2JzZXJ2ZWQpIHtcbiAgICAgIGVudHJ5LmNvbnRleHRzID0gZW50cnkuY29udGV4dHMgfHwgbmV3IFNldCgpO1xuICAgICAgZW50cnkuY29udGV4dHMuYWRkKGNvbnRleHQpO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGVudHJ5LmNoZWNrc3VtICYmIGVudHJ5LmNoZWNrc3VtID09PSBjYWxjdWxhdGVDaGVja3N1bShlbnRyeSkpIHtcbiAgICByZXR1cm4gZW50cnkudmFsdWU7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnRleHRTdGFjay5hZGQoZW50cnkpO1xuXG4gICAgaWYgKGVudHJ5Lm9ic2VydmVkICYmIGVudHJ5LmRlcHMgJiYgZW50cnkuZGVwcy5zaXplKSB7XG4gICAgICBlbnRyeS5kZXBzLmZvckVhY2goKGRlcEVudHJ5KSA9PiB7XG4gICAgICAgIGRlcEVudHJ5LmNvbnRleHRzLmRlbGV0ZShlbnRyeSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBlbnRyeS5kZXBzID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IG5leHRWYWx1ZSA9IGdldHRlcih0YXJnZXQsIGVudHJ5LnZhbHVlKTtcblxuICAgIGlmIChuZXh0VmFsdWUgIT09IGVudHJ5LnZhbHVlKSB7XG4gICAgICBlbnRyeS5zdGF0ZSArPSAxO1xuICAgICAgZW50cnkudmFsdWUgPSBuZXh0VmFsdWU7XG5cbiAgICAgIGRpc3BhdGNoRGVlcChlbnRyeSk7XG4gICAgfVxuXG4gICAgZW50cnkuY2hlY2tzdW0gPSBjYWxjdWxhdGVDaGVja3N1bShlbnRyeSk7XG4gICAgY29udGV4dFN0YWNrLmRlbGV0ZShlbnRyeSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlbnRyeS5jaGVja3N1bSA9IDA7XG5cbiAgICBjb250ZXh0U3RhY2suZGVsZXRlKGVudHJ5KTtcbiAgICBjb250ZXh0U3RhY2suZm9yRWFjaCgoY29udGV4dCkgPT4ge1xuICAgICAgY29udGV4dC5kZXBzLmRlbGV0ZShlbnRyeSk7XG4gICAgICBpZiAoY29udGV4dC5vYnNlcnZlZCkgZW50cnkuY29udGV4dHMuZGVsZXRlKGNvbnRleHQpO1xuICAgIH0pO1xuXG4gICAgdGhyb3cgZTtcbiAgfVxuXG4gIHJldHVybiBlbnRyeS52YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldCh0YXJnZXQsIGtleSwgc2V0dGVyLCB2YWx1ZSwgZm9yY2UpIHtcbiAgaWYgKGNvbnRleHRTdGFjay5zaXplICYmICFmb3JjZSkge1xuICAgIHRocm93IEVycm9yKGBUcnkgdG8gc2V0ICcke2tleX0nIG9mICcke3N0cmluZ2lmeUVsZW1lbnQodGFyZ2V0KX0nIGluIGdldCBjYWxsYCk7XG4gIH1cblxuICBjb25zdCBlbnRyeSA9IGdldEVudHJ5KHRhcmdldCwga2V5KTtcbiAgY29uc3QgbmV3VmFsdWUgPSBzZXR0ZXIodGFyZ2V0LCB2YWx1ZSwgZW50cnkudmFsdWUpO1xuXG4gIGlmIChuZXdWYWx1ZSAhPT0gZW50cnkudmFsdWUpIHtcbiAgICBlbnRyeS5jaGVja3N1bSA9IDA7XG4gICAgZW50cnkuc3RhdGUgKz0gMTtcbiAgICBlbnRyeS52YWx1ZSA9IG5ld1ZhbHVlO1xuXG4gICAgZGlzcGF0Y2hEZWVwKGVudHJ5KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW52YWxpZGF0ZSh0YXJnZXQsIGtleSwgY2xlYXJWYWx1ZSkge1xuICBpZiAoY29udGV4dFN0YWNrLnNpemUpIHtcbiAgICB0aHJvdyBFcnJvcihgVHJ5IHRvIGludmFsaWRhdGUgJyR7a2V5fScgaW4gJyR7c3RyaW5naWZ5RWxlbWVudCh0YXJnZXQpfScgZ2V0IGNhbGxgKTtcbiAgfVxuXG4gIGNvbnN0IGVudHJ5ID0gZ2V0RW50cnkodGFyZ2V0LCBrZXkpO1xuXG4gIGVudHJ5LmNoZWNrc3VtID0gMDtcbiAgZW50cnkuc3RhdGUgKz0gMTtcblxuICBkaXNwYXRjaERlZXAoZW50cnkpO1xuXG4gIGlmIChjbGVhclZhbHVlKSB7XG4gICAgZW50cnkudmFsdWUgPSB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9ic2VydmUodGFyZ2V0LCBrZXksIGdldHRlciwgZm4pIHtcbiAgY29uc3QgZW50cnkgPSBnZXRFbnRyeSh0YXJnZXQsIGtleSk7XG4gIGVudHJ5Lm9ic2VydmVkID0gdHJ1ZTtcblxuICBsZXQgbGFzdFZhbHVlO1xuICBjb25zdCB1bnN1YnNjcmliZSA9IGVtaXR0ZXIuc3Vic2NyaWJlKGVudHJ5LCAoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBnZXQodGFyZ2V0LCBrZXksIGdldHRlcik7XG4gICAgaWYgKHZhbHVlICE9PSBsYXN0VmFsdWUpIHtcbiAgICAgIGZuKHRhcmdldCwgdmFsdWUsIGxhc3RWYWx1ZSk7XG4gICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbiB1bm9ic2VydmUoKSB7XG4gICAgdW5zdWJzY3JpYmUoKTtcbiAgICBlbnRyeS5vYnNlcnZlZCA9IGZhbHNlO1xuICAgIGlmIChlbnRyeS5kZXBzICYmIGVudHJ5LmRlcHMuc2l6ZSkge1xuICAgICAgZW50cnkuZGVwcy5mb3JFYWNoKChkZXBFbnRyeSkgPT4ge1xuICAgICAgICBkZXBFbnRyeS5jb250ZXh0cy5kZWxldGUoZW50cnkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuIl19","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport property from './property';\nimport render from './render';\nimport * as cache from './cache';\nimport { pascalToDash, deferred } from './utils';\n/* istanbul ignore next */\n\ntry {\n  process.env.NODE_ENV;\n} catch (e) {\n  var process = {\n    env: {\n      NODE_ENV: 'production'\n    }\n  };\n} // eslint-disable-line\n\n\nvar defaultMethod = function defaultMethod(host, value) {\n  return value;\n};\n\nfunction compile(Hybrid, descriptors) {\n  Hybrid.hybrids = descriptors;\n  Hybrid.callbacks = [];\n  Object.keys(descriptors).forEach(function (key) {\n    var desc = descriptors[key];\n\n    var type = _typeof(desc);\n\n    var config;\n\n    if (type === 'function') {\n      config = key === 'render' ? render(desc) : {\n        get: desc\n      };\n    } else if (type !== 'object' || desc === null || Array.isArray(desc)) {\n      config = property(desc);\n    } else {\n      config = {\n        get: desc.get || defaultMethod,\n        set: desc.set || !desc.get && defaultMethod || undefined,\n        connect: desc.connect,\n        observe: desc.observe\n      };\n    }\n\n    Object.defineProperty(Hybrid.prototype, key, {\n      get: function get() {\n        return cache.get(this, key, config.get);\n      },\n      set: config.set && function set(newValue) {\n        cache.set(this, key, config.set, newValue);\n      },\n      enumerable: true,\n      configurable: process.env.NODE_ENV !== 'production'\n    });\n\n    if (config.observe) {\n      Hybrid.callbacks.push(function (host) {\n        return cache.observe(host, key, config.get, config.observe);\n      });\n    }\n\n    if (config.connect) {\n      Hybrid.callbacks.push(function (host) {\n        return config.connect(host, key, function () {\n          cache.invalidate(host, key);\n        });\n      });\n    }\n  });\n}\n\nvar update;\n/* istanbul ignore else */\n\nif (process.env.NODE_ENV !== 'production') {\n  var walkInShadow = function walkInShadow(node, fn) {\n    fn(node);\n    Array.from(node.children).forEach(function (el) {\n      return walkInShadow(el, fn);\n    });\n\n    if (node.shadowRoot) {\n      Array.from(node.shadowRoot.children).forEach(function (el) {\n        return walkInShadow(el, fn);\n      });\n    }\n  };\n\n  var updateQueue = new Map();\n\n  update = function update(Hybrid, lastHybrids) {\n    if (!updateQueue.size) {\n      deferred.then(function () {\n        walkInShadow(document.body, function (node) {\n          if (updateQueue.has(node.constructor)) {\n            var hybrids = updateQueue.get(node.constructor);\n            node.disconnectedCallback();\n            Object.keys(node.constructor.hybrids).forEach(function (key) {\n              cache.invalidate(node, key, node.constructor.hybrids[key] !== hybrids[key]);\n            });\n            node.connectedCallback();\n          }\n        });\n        updateQueue.clear();\n      });\n    }\n\n    updateQueue.set(Hybrid, lastHybrids);\n  };\n}\n\nvar disconnects = new WeakMap();\n\nfunction defineElement(tagName, hybridsOrConstructor) {\n  var type = _typeof(hybridsOrConstructor);\n\n  if (type !== 'object' && type !== 'function') {\n    throw TypeError(\"Second argument must be an object or a function: \".concat(type));\n  }\n\n  var CustomElement = window.customElements.get(tagName);\n\n  if (type === 'function') {\n    if (CustomElement !== hybridsOrConstructor) {\n      return window.customElements.define(tagName, hybridsOrConstructor);\n    }\n\n    return CustomElement;\n  }\n\n  if (CustomElement) {\n    if (CustomElement.hybrids === hybridsOrConstructor) {\n      return CustomElement;\n    }\n\n    if (process.env.NODE_ENV !== 'production' && CustomElement.hybrids) {\n      Object.keys(CustomElement.hybrids).forEach(function (key) {\n        delete CustomElement.prototype[key];\n      });\n      var lastHybrids = CustomElement.hybrids;\n      compile(CustomElement, hybridsOrConstructor);\n      update(CustomElement, lastHybrids);\n      return CustomElement;\n    }\n\n    throw Error(\"Element '\".concat(tagName, \"' already defined\"));\n  }\n\n  var Hybrid =\n  /*#__PURE__*/\n  function (_HTMLElement) {\n    _inherits(Hybrid, _HTMLElement);\n\n    function Hybrid() {\n      _classCallCheck(this, Hybrid);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(Hybrid).apply(this, arguments));\n    }\n\n    _createClass(Hybrid, [{\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        var callbacks = this.constructor.callbacks;\n        var list = [];\n\n        for (var index = 0; index < callbacks.length; index += 1) {\n          var cb = callbacks[index](this);\n          if (cb) list.push(cb);\n        }\n\n        disconnects.set(this, list);\n      }\n    }, {\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        var list = disconnects.get(this);\n\n        for (var index = 0; index < list.length; index += 1) {\n          list[index]();\n        }\n      }\n    }], [{\n      key: \"name\",\n      get: function get() {\n        return tagName;\n      }\n    }]);\n\n    return Hybrid;\n  }(_wrapNativeSuper(HTMLElement));\n\n  compile(Hybrid, hybridsOrConstructor);\n  customElements.define(tagName, Hybrid);\n  return Hybrid;\n}\n\nfunction defineMap(elements) {\n  return Object.keys(elements).reduce(function (acc, key) {\n    var tagName = pascalToDash(key);\n    acc[key] = defineElement(tagName, elements[key]);\n    return acc;\n  }, {});\n}\n\nexport default function define() {\n  if (_typeof(arguments.length <= 0 ? undefined : arguments[0]) === 'object') {\n    return defineMap(arguments.length <= 0 ? undefined : arguments[0]);\n  }\n\n  return defineElement.apply(void 0, arguments);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9kZWZpbmUuanMiXSwibmFtZXMiOlsicHJvcGVydHkiLCJyZW5kZXIiLCJjYWNoZSIsInBhc2NhbFRvRGFzaCIsImRlZmVycmVkIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiZSIsImRlZmF1bHRNZXRob2QiLCJob3N0IiwidmFsdWUiLCJjb21waWxlIiwiSHlicmlkIiwiZGVzY3JpcHRvcnMiLCJoeWJyaWRzIiwiY2FsbGJhY2tzIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJkZXNjIiwidHlwZSIsImNvbmZpZyIsImdldCIsIkFycmF5IiwiaXNBcnJheSIsInNldCIsInVuZGVmaW5lZCIsImNvbm5lY3QiLCJvYnNlcnZlIiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b3R5cGUiLCJuZXdWYWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJwdXNoIiwiaW52YWxpZGF0ZSIsInVwZGF0ZSIsIndhbGtJblNoYWRvdyIsIm5vZGUiLCJmbiIsImZyb20iLCJjaGlsZHJlbiIsImVsIiwic2hhZG93Um9vdCIsInVwZGF0ZVF1ZXVlIiwiTWFwIiwibGFzdEh5YnJpZHMiLCJzaXplIiwidGhlbiIsImRvY3VtZW50IiwiYm9keSIsImhhcyIsImNvbnN0cnVjdG9yIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJjb25uZWN0ZWRDYWxsYmFjayIsImNsZWFyIiwiZGlzY29ubmVjdHMiLCJXZWFrTWFwIiwiZGVmaW5lRWxlbWVudCIsInRhZ05hbWUiLCJoeWJyaWRzT3JDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIkN1c3RvbUVsZW1lbnQiLCJ3aW5kb3ciLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsIkVycm9yIiwibGlzdCIsImluZGV4IiwibGVuZ3RoIiwiY2IiLCJIVE1MRWxlbWVudCIsImRlZmluZU1hcCIsImVsZW1lbnRzIiwicmVkdWNlIiwiYWNjIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QSxTQUFPQSxNQUFQO0FBQ0Q7O0FBRUQsU0FBUzZELFNBQVQsQ0FBbUJDLFFBQW5CLEVBQTZCO0FBQzNCLFNBQU8xRCxNQUFNLENBQUNDLElBQVAsQ0FBWXlELFFBQVosRUFBc0JDLE1BQXRCLENBQTZCLFVBQUNDLEdBQUQsRUFBTXpELEdBQU4sRUFBYztBQUNoRCxRQUFNeUMsT0FBTyxHQUFHMUQsWUFBWSxDQUFDaUIsR0FBRCxDQUE1QjtBQUNBeUQsSUFBQUEsR0FBRyxDQUFDekQsR0FBRCxDQUFILEdBQVd3QyxhQUFhLENBQUNDLE9BQUQsRUFBVWMsUUFBUSxDQUFDdkQsR0FBRCxDQUFsQixDQUF4QjtBQUVBLFdBQU95RCxHQUFQO0FBQ0QsR0FMTSxFQUtKLEVBTEksQ0FBUDtBQU1EOztBQUVELGVBQWUsU0FBU1YsTUFBVCxHQUF5QjtBQUN0QyxNQUFJLDhEQUFtQixRQUF2QixFQUFpQztBQUMvQixXQUFPTyxTQUFTLGtEQUFoQjtBQUNEOztBQUVELFNBQU9kLGFBQWEsTUFBYixtQkFBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHByb3BlcnR5IGZyb20gJy4vcHJvcGVydHknO1xuaW1wb3J0IHJlbmRlciBmcm9tICcuL3JlbmRlcic7XG5cbmltcG9ydCAqIGFzIGNhY2hlIGZyb20gJy4vY2FjaGUnO1xuaW1wb3J0IHsgcGFzY2FsVG9EYXNoLCBkZWZlcnJlZCB9IGZyb20gJy4vdXRpbHMnO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xudHJ5IHsgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfSBjYXRjaChlKSB7IHZhciBwcm9jZXNzID0geyBlbnY6IHsgTk9ERV9FTlY6ICdwcm9kdWN0aW9uJyB9IH07IH0gLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG5jb25zdCBkZWZhdWx0TWV0aG9kID0gKGhvc3QsIHZhbHVlKSA9PiB2YWx1ZTtcblxuZnVuY3Rpb24gY29tcGlsZShIeWJyaWQsIGRlc2NyaXB0b3JzKSB7XG4gIEh5YnJpZC5oeWJyaWRzID0gZGVzY3JpcHRvcnM7XG4gIEh5YnJpZC5jYWxsYmFja3MgPSBbXTtcblxuICBPYmplY3Qua2V5cyhkZXNjcmlwdG9ycykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgZGVzYyA9IGRlc2NyaXB0b3JzW2tleV07XG4gICAgY29uc3QgdHlwZSA9IHR5cGVvZiBkZXNjO1xuXG4gICAgbGV0IGNvbmZpZztcblxuICAgIGlmICh0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25maWcgPSBrZXkgPT09ICdyZW5kZXInID8gcmVuZGVyKGRlc2MpIDogeyBnZXQ6IGRlc2MgfTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgIT09ICdvYmplY3QnIHx8IGRlc2MgPT09IG51bGwgfHwgKEFycmF5LmlzQXJyYXkoZGVzYykpKSB7XG4gICAgICBjb25maWcgPSBwcm9wZXJ0eShkZXNjKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmlnID0ge1xuICAgICAgICBnZXQ6IGRlc2MuZ2V0IHx8IGRlZmF1bHRNZXRob2QsXG4gICAgICAgIHNldDogZGVzYy5zZXQgfHwgKCFkZXNjLmdldCAmJiBkZWZhdWx0TWV0aG9kKSB8fCB1bmRlZmluZWQsXG4gICAgICAgIGNvbm5lY3Q6IGRlc2MuY29ubmVjdCxcbiAgICAgICAgb2JzZXJ2ZTogZGVzYy5vYnNlcnZlLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSHlicmlkLnByb3RvdHlwZSwga2V5LCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlLmdldCh0aGlzLCBrZXksIGNvbmZpZy5nZXQpO1xuICAgICAgfSxcbiAgICAgIHNldDogY29uZmlnLnNldCAmJiBmdW5jdGlvbiBzZXQobmV3VmFsdWUpIHtcbiAgICAgICAgY2FjaGUuc2V0KHRoaXMsIGtleSwgY29uZmlnLnNldCwgbmV3VmFsdWUpO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsXG4gICAgfSk7XG5cbiAgICBpZiAoY29uZmlnLm9ic2VydmUpIHtcbiAgICAgIEh5YnJpZC5jYWxsYmFja3MucHVzaChcbiAgICAgICAgKGhvc3QpID0+IGNhY2hlLm9ic2VydmUoaG9zdCwga2V5LCBjb25maWcuZ2V0LCBjb25maWcub2JzZXJ2ZSksXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY29ubmVjdCkge1xuICAgICAgSHlicmlkLmNhbGxiYWNrcy5wdXNoKFxuICAgICAgICAoaG9zdCkgPT4gY29uZmlnLmNvbm5lY3QoaG9zdCwga2V5LCAoKSA9PiB7IGNhY2hlLmludmFsaWRhdGUoaG9zdCwga2V5KTsgfSksXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG59XG5cbmxldCB1cGRhdGU7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgY29uc3Qgd2Fsa0luU2hhZG93ID0gKG5vZGUsIGZuKSA9PiB7XG4gICAgZm4obm9kZSk7XG5cbiAgICBBcnJheS5mcm9tKG5vZGUuY2hpbGRyZW4pXG4gICAgICAuZm9yRWFjaCgoZWwpID0+IHdhbGtJblNoYWRvdyhlbCwgZm4pKTtcblxuICAgIGlmIChub2RlLnNoYWRvd1Jvb3QpIHtcbiAgICAgIEFycmF5LmZyb20obm9kZS5zaGFkb3dSb290LmNoaWxkcmVuKVxuICAgICAgICAuZm9yRWFjaCgoZWwpID0+IHdhbGtJblNoYWRvdyhlbCwgZm4pKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlUXVldWUgPSBuZXcgTWFwKCk7XG4gIHVwZGF0ZSA9IChIeWJyaWQsIGxhc3RIeWJyaWRzKSA9PiB7XG4gICAgaWYgKCF1cGRhdGVRdWV1ZS5zaXplKSB7XG4gICAgICBkZWZlcnJlZC50aGVuKCgpID0+IHtcbiAgICAgICAgd2Fsa0luU2hhZG93KGRvY3VtZW50LmJvZHksIChub2RlKSA9PiB7XG4gICAgICAgICAgaWYgKHVwZGF0ZVF1ZXVlLmhhcyhub2RlLmNvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgY29uc3QgaHlicmlkcyA9IHVwZGF0ZVF1ZXVlLmdldChub2RlLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIG5vZGUuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcblxuICAgICAgICAgICAgT2JqZWN0LmtleXMobm9kZS5jb25zdHJ1Y3Rvci5oeWJyaWRzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgY2FjaGUuaW52YWxpZGF0ZShub2RlLCBrZXksIG5vZGUuY29uc3RydWN0b3IuaHlicmlkc1trZXldICE9PSBoeWJyaWRzW2tleV0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG5vZGUuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB1cGRhdGVRdWV1ZS5jbGVhcigpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHVwZGF0ZVF1ZXVlLnNldChIeWJyaWQsIGxhc3RIeWJyaWRzKTtcbiAgfTtcbn1cblxuY29uc3QgZGlzY29ubmVjdHMgPSBuZXcgV2Vha01hcCgpO1xuXG5mdW5jdGlvbiBkZWZpbmVFbGVtZW50KHRhZ05hbWUsIGh5YnJpZHNPckNvbnN0cnVjdG9yKSB7XG4gIGNvbnN0IHR5cGUgPSB0eXBlb2YgaHlicmlkc09yQ29uc3RydWN0b3I7XG4gIGlmICh0eXBlICE9PSAnb2JqZWN0JyAmJiB0eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKGBTZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbjogJHt0eXBlfWApO1xuICB9XG5cbiAgY29uc3QgQ3VzdG9tRWxlbWVudCA9IHdpbmRvdy5jdXN0b21FbGVtZW50cy5nZXQodGFnTmFtZSk7XG5cbiAgaWYgKHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoQ3VzdG9tRWxlbWVudCAhPT0gaHlicmlkc09yQ29uc3RydWN0b3IpIHtcbiAgICAgIHJldHVybiB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGh5YnJpZHNPckNvbnN0cnVjdG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIEN1c3RvbUVsZW1lbnQ7XG4gIH1cblxuICBpZiAoQ3VzdG9tRWxlbWVudCkge1xuICAgIGlmIChDdXN0b21FbGVtZW50Lmh5YnJpZHMgPT09IGh5YnJpZHNPckNvbnN0cnVjdG9yKSB7XG4gICAgICByZXR1cm4gQ3VzdG9tRWxlbWVudDtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgQ3VzdG9tRWxlbWVudC5oeWJyaWRzKSB7XG4gICAgICBPYmplY3Qua2V5cyhDdXN0b21FbGVtZW50Lmh5YnJpZHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBkZWxldGUgQ3VzdG9tRWxlbWVudC5wcm90b3R5cGVba2V5XTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBsYXN0SHlicmlkcyA9IEN1c3RvbUVsZW1lbnQuaHlicmlkcztcblxuICAgICAgY29tcGlsZShDdXN0b21FbGVtZW50LCBoeWJyaWRzT3JDb25zdHJ1Y3Rvcik7XG4gICAgICB1cGRhdGUoQ3VzdG9tRWxlbWVudCwgbGFzdEh5YnJpZHMpO1xuXG4gICAgICByZXR1cm4gQ3VzdG9tRWxlbWVudDtcbiAgICB9XG5cbiAgICB0aHJvdyBFcnJvcihgRWxlbWVudCAnJHt0YWdOYW1lfScgYWxyZWFkeSBkZWZpbmVkYCk7XG4gIH1cblxuICBjbGFzcyBIeWJyaWQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgc3RhdGljIGdldCBuYW1lKCkgeyByZXR1cm4gdGFnTmFtZTsgfVxuXG4gICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICBjb25zdCB7IGNhbGxiYWNrcyB9ID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgIGNvbnN0IGxpc3QgPSBbXTtcblxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNhbGxiYWNrcy5sZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICAgICAgY29uc3QgY2IgPSBjYWxsYmFja3NbaW5kZXhdKHRoaXMpO1xuICAgICAgICBpZiAoY2IpIGxpc3QucHVzaChjYik7XG4gICAgICB9XG5cbiAgICAgIGRpc2Nvbm5lY3RzLnNldCh0aGlzLCBsaXN0KTtcbiAgICB9XG5cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIGNvbnN0IGxpc3QgPSBkaXNjb25uZWN0cy5nZXQodGhpcyk7XG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbGlzdC5sZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICAgICAgbGlzdFtpbmRleF0oKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21waWxlKEh5YnJpZCwgaHlicmlkc09yQ29uc3RydWN0b3IpO1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgSHlicmlkKTtcblxuICByZXR1cm4gSHlicmlkO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVNYXAoZWxlbWVudHMpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGVsZW1lbnRzKS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgY29uc3QgdGFnTmFtZSA9IHBhc2NhbFRvRGFzaChrZXkpO1xuICAgIGFjY1trZXldID0gZGVmaW5lRWxlbWVudCh0YWdOYW1lLCBlbGVtZW50c1trZXldKTtcblxuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVmaW5lKC4uLmFyZ3MpIHtcbiAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBkZWZpbmVNYXAoYXJnc1swXSk7XG4gIH1cblxuICByZXR1cm4gZGVmaW5lRWxlbWVudCguLi5hcmdzKTtcbn1cbiJdfQ==","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nexport default function render(fn) {\n  var customOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (typeof fn !== 'function') {\n    throw TypeError(\"The first argument must be a function: \".concat(_typeof(fn)));\n  }\n\n  var options = _objectSpread({\n    shadowRoot: true\n  }, customOptions);\n\n  var shadowRootInit = {\n    mode: 'open'\n  };\n\n  if (_typeof(options.shadowRoot) === 'object') {\n    Object.assign(shadowRootInit, options.shadowRoot);\n  }\n\n  return {\n    get: function get(host) {\n      var update = fn(host);\n      var target = host;\n\n      if (options.shadowRoot) {\n        if (!host.shadowRoot) host.attachShadow(shadowRootInit);\n        target = host.shadowRoot;\n      }\n\n      return function flush() {\n        update(host, target);\n        return target;\n      };\n    },\n    observe: function observe(host, flush) {\n      flush();\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9yZW5kZXIuanMiXSwibmFtZXMiOlsicmVuZGVyIiwiZm4iLCJjdXN0b21PcHRpb25zIiwiVHlwZUVycm9yIiwib3B0aW9ucyIsInNoYWRvd1Jvb3QiLCJzaGFkb3dSb290SW5pdCIsIm1vZGUiLCJPYmplY3QiLCJhc3NpZ24iLCJnZXQiLCJob3N0IiwidXBkYXRlIiwidGFyZ2V0IiwiYXR0YWNoU2hhZG93IiwiZmx1c2giLCJvYnNlcnZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLGVBQWUsU0FBU0EsTUFBVCxDQUFnQkMsRUFBaEIsRUFBd0M7QUFBQSxNQUFwQkMsYUFBb0IsdUVBQUosRUFBSTs7QUFDckQsTUFBSSxPQUFPRCxFQUFQLEtBQWMsVUFBbEIsRUFBOEI7QUFDNUIsVUFBTUUsU0FBUywwREFBa0RGLEVBQWxELEdBQWY7QUFDRDs7QUFFRCxNQUFNRyxPQUFPO0FBQUtDLElBQUFBLFVBQVUsRUFBRTtBQUFqQixLQUEwQkgsYUFBMUIsQ0FBYjs7QUFDQSxNQUFNSSxjQUFjLEdBQUc7QUFBRUMsSUFBQUEsSUFBSSxFQUFFO0FBQVIsR0FBdkI7O0FBRUEsTUFBSSxRQUFPSCxPQUFPLENBQUNDLFVBQWYsTUFBOEIsUUFBbEMsRUFBNEM7QUFDMUNHLElBQUFBLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjSCxjQUFkLEVBQThCRixPQUFPLENBQUNDLFVBQXRDO0FBQ0Q7O0FBRUQsU0FBTztBQUNMSyxJQUFBQSxHQURLLGVBQ0RDLElBREMsRUFDSztBQUNSLFVBQU1DLE1BQU0sR0FBR1gsRUFBRSxDQUFDVSxJQUFELENBQWpCO0FBQ0EsVUFBSUUsTUFBTSxHQUFHRixJQUFiOztBQUVBLFVBQUlQLE9BQU8sQ0FBQ0MsVUFBWixFQUF3QjtBQUN0QixZQUFJLENBQUNNLElBQUksQ0FBQ04sVUFBVixFQUFzQk0sSUFBSSxDQUFDRyxZQUFMLENBQWtCUixjQUFsQjtBQUN0Qk8sUUFBQUEsTUFBTSxHQUFHRixJQUFJLENBQUNOLFVBQWQ7QUFDRDs7QUFFRCxhQUFPLFNBQVNVLEtBQVQsR0FBaUI7QUFDdEJILFFBQUFBLE1BQU0sQ0FBQ0QsSUFBRCxFQUFPRSxNQUFQLENBQU47QUFDQSxlQUFPQSxNQUFQO0FBQ0QsT0FIRDtBQUlELEtBZEk7QUFlTEcsSUFBQUEsT0FmSyxtQkFlR0wsSUFmSCxFQWVTSSxLQWZULEVBZWdCO0FBQ25CQSxNQUFBQSxLQUFLO0FBQ047QUFqQkksR0FBUDtBQW1CRCIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbmRlcihmbiwgY3VzdG9tT3B0aW9ucyA9IHt9KSB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoYFRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgZnVuY3Rpb246ICR7dHlwZW9mIGZufWApO1xuICB9XG5cbiAgY29uc3Qgb3B0aW9ucyA9IHsgc2hhZG93Um9vdDogdHJ1ZSwgLi4uY3VzdG9tT3B0aW9ucyB9O1xuICBjb25zdCBzaGFkb3dSb290SW5pdCA9IHsgbW9kZTogJ29wZW4nIH07XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLnNoYWRvd1Jvb3QgPT09ICdvYmplY3QnKSB7XG4gICAgT2JqZWN0LmFzc2lnbihzaGFkb3dSb290SW5pdCwgb3B0aW9ucy5zaGFkb3dSb290KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0KGhvc3QpIHtcbiAgICAgIGNvbnN0IHVwZGF0ZSA9IGZuKGhvc3QpO1xuICAgICAgbGV0IHRhcmdldCA9IGhvc3Q7XG5cbiAgICAgIGlmIChvcHRpb25zLnNoYWRvd1Jvb3QpIHtcbiAgICAgICAgaWYgKCFob3N0LnNoYWRvd1Jvb3QpIGhvc3QuYXR0YWNoU2hhZG93KHNoYWRvd1Jvb3RJbml0KTtcbiAgICAgICAgdGFyZ2V0ID0gaG9zdC5zaGFkb3dSb290O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgICAgIHVwZGF0ZShob3N0LCB0YXJnZXQpO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfTtcbiAgICB9LFxuICAgIG9ic2VydmUoaG9zdCwgZmx1c2gpIHtcbiAgICAgIGZsdXNoKCk7XG4gICAgfSxcbiAgfTtcbn1cbiJdfQ==","var map = new WeakMap();\nexport var dataMap = {\n  get: function get(key, defaultValue) {\n    var value = map.get(key);\n    if (value) return value;\n\n    if (defaultValue) {\n      map.set(key, defaultValue);\n    }\n\n    return defaultValue;\n  },\n  set: function set(key, value) {\n    map.set(key, value);\n    return value;\n  }\n};\nexport function getTemplateEnd(node) {\n  var data; // eslint-disable-next-line no-cond-assign\n\n  while (node && (data = dataMap.get(node)) && data.endNode) {\n    node = data.endNode;\n  }\n\n  return node;\n}\nexport function removeTemplate(target) {\n  if (target.nodeType !== Node.TEXT_NODE) {\n    var child = target.childNodes[0];\n\n    while (child) {\n      target.removeChild(child);\n      child = target.childNodes[0];\n    }\n  } else {\n    var data = dataMap.get(target);\n\n    if (data.startNode) {\n      var endNode = getTemplateEnd(data.endNode);\n      var node = data.startNode;\n      var lastNextSibling = endNode.nextSibling;\n\n      while (node) {\n        var nextSibling = node.nextSibling;\n        node.parentNode.removeChild(node);\n        node = nextSibling !== lastNextSibling && nextSibling;\n      }\n    }\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZW1wbGF0ZS91dGlscy5qcyJdLCJuYW1lcyI6WyJtYXAiLCJXZWFrTWFwIiwiZGF0YU1hcCIsImdldCIsImtleSIsImRlZmF1bHRWYWx1ZSIsInZhbHVlIiwic2V0IiwiZ2V0VGVtcGxhdGVFbmQiLCJub2RlIiwiZGF0YSIsImVuZE5vZGUiLCJyZW1vdmVUZW1wbGF0ZSIsInRhcmdldCIsIm5vZGVUeXBlIiwiTm9kZSIsIlRFWFRfTk9ERSIsImNoaWxkIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwic3RhcnROb2RlIiwibGFzdE5leHRTaWJsaW5nIiwibmV4dFNpYmxpbmciLCJwYXJlbnROb2RlIl0sIm1hcHBpbmdzIjoiQUFBQSxJQUFNQSxHQUFHLEdBQUcsSUFBSUMsT0FBSixFQUFaO0FBQ0EsT0FBTyxJQUFNQyxPQUFPLEdBQUc7QUFDckJDLEVBQUFBLEdBRHFCLGVBQ2pCQyxHQURpQixFQUNaQyxZQURZLEVBQ0U7QUFDckIsUUFBTUMsS0FBSyxHQUFHTixHQUFHLENBQUNHLEdBQUosQ0FBUUMsR0FBUixDQUFkO0FBQ0EsUUFBSUUsS0FBSixFQUFXLE9BQU9BLEtBQVA7O0FBRVgsUUFBSUQsWUFBSixFQUFrQjtBQUNoQkwsTUFBQUEsR0FBRyxDQUFDTyxHQUFKLENBQVFILEdBQVIsRUFBYUMsWUFBYjtBQUNEOztBQUVELFdBQU9BLFlBQVA7QUFDRCxHQVZvQjtBQVdyQkUsRUFBQUEsR0FYcUIsZUFXakJILEdBWGlCLEVBV1pFLEtBWFksRUFXTDtBQUNkTixJQUFBQSxHQUFHLENBQUNPLEdBQUosQ0FBUUgsR0FBUixFQUFhRSxLQUFiO0FBQ0EsV0FBT0EsS0FBUDtBQUNEO0FBZG9CLENBQWhCO0FBaUJQLE9BQU8sU0FBU0UsY0FBVCxDQUF3QkMsSUFBeEIsRUFBOEI7QUFDbkMsTUFBSUMsSUFBSixDQURtQyxDQUVuQzs7QUFDQSxTQUFPRCxJQUFJLEtBQUtDLElBQUksR0FBR1IsT0FBTyxDQUFDQyxHQUFSLENBQVlNLElBQVosQ0FBWixDQUFKLElBQXNDQyxJQUFJLENBQUNDLE9BQWxELEVBQTJEO0FBQ3pERixJQUFBQSxJQUFJLEdBQUdDLElBQUksQ0FBQ0MsT0FBWjtBQUNEOztBQUVELFNBQU9GLElBQVA7QUFDRDtBQUVELE9BQU8sU0FBU0csY0FBVCxDQUF3QkMsTUFBeEIsRUFBZ0M7QUFDckMsTUFBSUEsTUFBTSxDQUFDQyxRQUFQLEtBQW9CQyxJQUFJLENBQUNDLFNBQTdCLEVBQXdDO0FBQ3RDLFFBQUlDLEtBQUssR0FBR0osTUFBTSxDQUFDSyxVQUFQLENBQWtCLENBQWxCLENBQVo7O0FBQ0EsV0FBT0QsS0FBUCxFQUFjO0FBQ1pKLE1BQUFBLE1BQU0sQ0FBQ00sV0FBUCxDQUFtQkYsS0FBbkI7QUFDQUEsTUFBQUEsS0FBSyxHQUFHSixNQUFNLENBQUNLLFVBQVAsQ0FBa0IsQ0FBbEIsQ0FBUjtBQUNEO0FBQ0YsR0FORCxNQU1PO0FBQ0wsUUFBTVIsSUFBSSxHQUFHUixPQUFPLENBQUNDLEdBQVIsQ0FBWVUsTUFBWixDQUFiOztBQUVBLFFBQUlILElBQUksQ0FBQ1UsU0FBVCxFQUFvQjtBQUNsQixVQUFNVCxPQUFPLEdBQUdILGNBQWMsQ0FBQ0UsSUFBSSxDQUFDQyxPQUFOLENBQTlCO0FBRUEsVUFBSUYsSUFBSSxHQUFHQyxJQUFJLENBQUNVLFNBQWhCO0FBQ0EsVUFBTUMsZUFBZSxHQUFHVixPQUFPLENBQUNXLFdBQWhDOztBQUVBLGFBQU9iLElBQVAsRUFBYTtBQUNYLFlBQU1hLFdBQVcsR0FBR2IsSUFBSSxDQUFDYSxXQUF6QjtBQUNBYixRQUFBQSxJQUFJLENBQUNjLFVBQUwsQ0FBZ0JKLFdBQWhCLENBQTRCVixJQUE1QjtBQUNBQSxRQUFBQSxJQUFJLEdBQUdhLFdBQVcsS0FBS0QsZUFBaEIsSUFBbUNDLFdBQTFDO0FBQ0Q7QUFDRjtBQUNGO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtYXAgPSBuZXcgV2Vha01hcCgpO1xuZXhwb3J0IGNvbnN0IGRhdGFNYXAgPSB7XG4gIGdldChrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgIGNvbnN0IHZhbHVlID0gbWFwLmdldChrZXkpO1xuICAgIGlmICh2YWx1ZSkgcmV0dXJuIHZhbHVlO1xuXG4gICAgaWYgKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgbWFwLnNldChrZXksIGRlZmF1bHRWYWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfSxcbiAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICBtYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUZW1wbGF0ZUVuZChub2RlKSB7XG4gIGxldCBkYXRhO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uZC1hc3NpZ25cbiAgd2hpbGUgKG5vZGUgJiYgKGRhdGEgPSBkYXRhTWFwLmdldChub2RlKSkgJiYgZGF0YS5lbmROb2RlKSB7XG4gICAgbm9kZSA9IGRhdGEuZW5kTm9kZTtcbiAgfVxuXG4gIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVGVtcGxhdGUodGFyZ2V0KSB7XG4gIGlmICh0YXJnZXQubm9kZVR5cGUgIT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgbGV0IGNoaWxkID0gdGFyZ2V0LmNoaWxkTm9kZXNbMF07XG4gICAgd2hpbGUgKGNoaWxkKSB7XG4gICAgICB0YXJnZXQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgY2hpbGQgPSB0YXJnZXQuY2hpbGROb2Rlc1swXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZGF0YSA9IGRhdGFNYXAuZ2V0KHRhcmdldCk7XG5cbiAgICBpZiAoZGF0YS5zdGFydE5vZGUpIHtcbiAgICAgIGNvbnN0IGVuZE5vZGUgPSBnZXRUZW1wbGF0ZUVuZChkYXRhLmVuZE5vZGUpO1xuXG4gICAgICBsZXQgbm9kZSA9IGRhdGEuc3RhcnROb2RlO1xuICAgICAgY29uc3QgbGFzdE5leHRTaWJsaW5nID0gZW5kTm9kZS5uZXh0U2libGluZztcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgY29uc3QgbmV4dFNpYmxpbmcgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgIG5vZGUgPSBuZXh0U2libGluZyAhPT0gbGFzdE5leHRTaWJsaW5nICYmIG5leHRTaWJsaW5nO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19","import { dataMap, removeTemplate, getTemplateEnd } from '../utils'; // eslint-disable-next-line import/no-cycle\n\nimport resolveValue from './value';\nexport var arrayMap = new WeakMap();\n\nfunction movePlaceholder(target, previousSibling) {\n  var data = dataMap.get(target);\n  var startNode = data.startNode;\n  var endNode = getTemplateEnd(data.endNode);\n  previousSibling.parentNode.insertBefore(target, previousSibling.nextSibling);\n  var prevNode = target;\n  var node = startNode;\n\n  while (node) {\n    var nextNode = node.nextSibling;\n    prevNode.parentNode.insertBefore(node, prevNode.nextSibling);\n    prevNode = node;\n    node = nextNode !== endNode.nextSibling && nextNode;\n  }\n}\n\nexport default function resolveArray(host, target, value) {\n  var lastEntries = arrayMap.get(target);\n  var entries = value.map(function (item, index) {\n    return {\n      id: Object.prototype.hasOwnProperty.call(item, 'id') ? item.id : index,\n      value: item,\n      placeholder: null,\n      available: true\n    };\n  });\n  arrayMap.set(target, entries);\n\n  if (lastEntries) {\n    var ids = new Set();\n    entries.forEach(function (entry) {\n      return ids.add(entry.id);\n    });\n    lastEntries = lastEntries.filter(function (entry) {\n      if (!ids.has(entry.id)) {\n        removeTemplate(entry.placeholder);\n        entry.placeholder.parentNode.removeChild(entry.placeholder);\n        return false;\n      }\n\n      return true;\n    });\n  }\n\n  var previousSibling = target;\n  var lastIndex = value.length - 1;\n  var data = dataMap.get(target);\n\n  for (var index = 0; index < entries.length; index += 1) {\n    var entry = entries[index];\n    var matchedEntry = void 0;\n\n    if (lastEntries) {\n      for (var i = 0; i < lastEntries.length; i += 1) {\n        if (lastEntries[i].available && lastEntries[i].id === entry.id) {\n          matchedEntry = lastEntries[i];\n          break;\n        }\n      }\n    }\n\n    var placeholder = void 0;\n\n    if (matchedEntry) {\n      matchedEntry.available = false;\n      placeholder = matchedEntry.placeholder;\n\n      if (placeholder.previousSibling !== previousSibling) {\n        movePlaceholder(placeholder, previousSibling);\n      }\n\n      if (matchedEntry.value !== entry.value) {\n        resolveValue(host, placeholder, entry.value);\n      }\n    } else {\n      placeholder = document.createTextNode('');\n      previousSibling.parentNode.insertBefore(placeholder, previousSibling.nextSibling);\n      resolveValue(host, placeholder, entry.value);\n    }\n\n    previousSibling = getTemplateEnd(dataMap.get(placeholder).endNode || placeholder);\n    if (index === 0) data.startNode = placeholder;\n    if (index === lastIndex) data.endNode = previousSibling;\n    entry.placeholder = placeholder;\n  }\n\n  if (lastEntries) {\n    lastEntries.forEach(function (entry) {\n      if (entry.available) {\n        removeTemplate(entry.placeholder);\n        entry.placeholder.parentNode.removeChild(entry.placeholder);\n      }\n    });\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlcnMvYXJyYXkuanMiXSwibmFtZXMiOlsiZGF0YU1hcCIsInJlbW92ZVRlbXBsYXRlIiwiZ2V0VGVtcGxhdGVFbmQiLCJyZXNvbHZlVmFsdWUiLCJhcnJheU1hcCIsIldlYWtNYXAiLCJtb3ZlUGxhY2Vob2xkZXIiLCJ0YXJnZXQiLCJwcmV2aW91c1NpYmxpbmciLCJkYXRhIiwiZ2V0Iiwic3RhcnROb2RlIiwiZW5kTm9kZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJuZXh0U2libGluZyIsInByZXZOb2RlIiwibm9kZSIsIm5leHROb2RlIiwicmVzb2x2ZUFycmF5IiwiaG9zdCIsInZhbHVlIiwibGFzdEVudHJpZXMiLCJlbnRyaWVzIiwibWFwIiwiaXRlbSIsImluZGV4IiwiaWQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJwbGFjZWhvbGRlciIsImF2YWlsYWJsZSIsInNldCIsImlkcyIsIlNldCIsImZvckVhY2giLCJlbnRyeSIsImFkZCIsImZpbHRlciIsImhhcyIsInJlbW92ZUNoaWxkIiwibGFzdEluZGV4IiwibGVuZ3RoIiwibWF0Y2hlZEVudHJ5IiwiaSIsImRvY3VtZW50IiwiY3JlYXRlVGV4dE5vZGUiXSwibWFwcGluZ3MiOiJBQUFBLFNBQ0VBLE9BREYsRUFDV0MsY0FEWCxFQUMyQkMsY0FEM0IsUUFFTyxVQUZQLEMsQ0FJQTs7QUFDQSxPQUFPQyxZQUFQLE1BQXlCLFNBQXpCO0FBRUEsT0FBTyxJQUFNQyxRQUFRLEdBQUcsSUFBSUMsT0FBSixFQUFqQjs7QUFFUCxTQUFTQyxlQUFULENBQXlCQyxNQUF6QixFQUFpQ0MsZUFBakMsRUFBa0Q7QUFDaEQsTUFBTUMsSUFBSSxHQUFHVCxPQUFPLENBQUNVLEdBQVIsQ0FBWUgsTUFBWixDQUFiO0FBQ0EsTUFBTUksU0FBUyxHQUFHRixJQUFJLENBQUNFLFNBQXZCO0FBQ0EsTUFBTUMsT0FBTyxH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TixLQUFLLEtBQUssQ0FBZCxFQUFpQmpCLElBQUksQ0FBQ0UsU0FBTCxHQUFpQnFCLFdBQWpCO0FBQ2pCLFFBQUlOLEtBQUssS0FBS2lCLFNBQWQsRUFBeUJsQyxJQUFJLENBQUNHLE9BQUwsR0FBZUosZUFBZjtBQUV6QjhCLElBQUFBLEtBQUssQ0FBQ04sV0FBTixHQUFvQkEsV0FBcEI7QUFDRDs7QUFFRCxNQUFJVixXQUFKLEVBQWlCO0FBQ2ZBLElBQUFBLFdBQVcsQ0FBQ2UsT0FBWixDQUFvQixVQUFDQyxLQUFELEVBQVc7QUFDN0IsVUFBSUEsS0FBSyxDQUFDTCxTQUFWLEVBQXFCO0FBQ25CaEMsUUFBQUEsY0FBYyxDQUFDcUMsS0FBSyxDQUFDTixXQUFQLENBQWQ7QUFDQU0sUUFBQUEsS0FBSyxDQUFDTixXQUFOLENBQWtCbkIsVUFBbEIsQ0FBNkI2QixXQUE3QixDQUF5Q0osS0FBSyxDQUFDTixXQUEvQztBQUNEO0FBQ0YsS0FMRDtBQU1EO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBkYXRhTWFwLCByZW1vdmVUZW1wbGF0ZSwgZ2V0VGVtcGxhdGVFbmQsXG59IGZyb20gJy4uL3V0aWxzJztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1jeWNsZVxuaW1wb3J0IHJlc29sdmVWYWx1ZSBmcm9tICcuL3ZhbHVlJztcblxuZXhwb3J0IGNvbnN0IGFycmF5TWFwID0gbmV3IFdlYWtNYXAoKTtcblxuZnVuY3Rpb24gbW92ZVBsYWNlaG9sZGVyKHRhcmdldCwgcHJldmlvdXNTaWJsaW5nKSB7XG4gIGNvbnN0IGRhdGEgPSBkYXRhTWFwLmdldCh0YXJnZXQpO1xuICBjb25zdCBzdGFydE5vZGUgPSBkYXRhLnN0YXJ0Tm9kZTtcbiAgY29uc3QgZW5kTm9kZSA9IGdldFRlbXBsYXRlRW5kKGRhdGEuZW5kTm9kZSk7XG5cbiAgcHJldmlvdXNTaWJsaW5nLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRhcmdldCwgcHJldmlvdXNTaWJsaW5nLm5leHRTaWJsaW5nKTtcblxuICBsZXQgcHJldk5vZGUgPSB0YXJnZXQ7XG4gIGxldCBub2RlID0gc3RhcnROb2RlO1xuICB3aGlsZSAobm9kZSkge1xuICAgIGNvbnN0IG5leHROb2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICBwcmV2Tm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBwcmV2Tm9kZS5uZXh0U2libGluZyk7XG4gICAgcHJldk5vZGUgPSBub2RlO1xuICAgIG5vZGUgPSBuZXh0Tm9kZSAhPT0gZW5kTm9kZS5uZXh0U2libGluZyAmJiBuZXh0Tm9kZTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXNvbHZlQXJyYXkoaG9zdCwgdGFyZ2V0LCB2YWx1ZSkge1xuICBsZXQgbGFzdEVudHJpZXMgPSBhcnJheU1hcC5nZXQodGFyZ2V0KTtcbiAgY29uc3QgZW50cmllcyA9IHZhbHVlLm1hcCgoaXRlbSwgaW5kZXgpID0+ICh7XG4gICAgaWQ6IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpdGVtLCAnaWQnKSA/IGl0ZW0uaWQgOiBpbmRleCxcbiAgICB2YWx1ZTogaXRlbSxcbiAgICBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICBhdmFpbGFibGU6IHRydWUsXG4gIH0pKTtcblxuICBhcnJheU1hcC5zZXQodGFyZ2V0LCBlbnRyaWVzKTtcblxuICBpZiAobGFzdEVudHJpZXMpIHtcbiAgICBjb25zdCBpZHMgPSBuZXcgU2V0KCk7XG4gICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4gaWRzLmFkZChlbnRyeS5pZCkpO1xuXG4gICAgbGFzdEVudHJpZXMgPSBsYXN0RW50cmllcy5maWx0ZXIoKGVudHJ5KSA9PiB7XG4gICAgICBpZiAoIWlkcy5oYXMoZW50cnkuaWQpKSB7XG4gICAgICAgIHJlbW92ZVRlbXBsYXRlKGVudHJ5LnBsYWNlaG9sZGVyKTtcbiAgICAgICAgZW50cnkucGxhY2Vob2xkZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbnRyeS5wbGFjZWhvbGRlcik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH1cblxuICBsZXQgcHJldmlvdXNTaWJsaW5nID0gdGFyZ2V0O1xuICBjb25zdCBsYXN0SW5kZXggPSB2YWx1ZS5sZW5ndGggLSAxO1xuICBjb25zdCBkYXRhID0gZGF0YU1hcC5nZXQodGFyZ2V0KTtcblxuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZW50cmllcy5sZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBjb25zdCBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIGxldCBtYXRjaGVkRW50cnk7XG4gICAgaWYgKGxhc3RFbnRyaWVzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhc3RFbnRyaWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChsYXN0RW50cmllc1tpXS5hdmFpbGFibGUgJiYgbGFzdEVudHJpZXNbaV0uaWQgPT09IGVudHJ5LmlkKSB7XG4gICAgICAgICAgbWF0Y2hlZEVudHJ5ID0gbGFzdEVudHJpZXNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcGxhY2Vob2xkZXI7XG4gICAgaWYgKG1hdGNoZWRFbnRyeSkge1xuICAgICAgbWF0Y2hlZEVudHJ5LmF2YWlsYWJsZSA9IGZhbHNlO1xuICAgICAgcGxhY2Vob2xkZXIgPSBtYXRjaGVkRW50cnkucGxhY2Vob2xkZXI7XG5cbiAgICAgIGlmIChwbGFjZWhvbGRlci5wcmV2aW91c1NpYmxpbmcgIT09IHByZXZpb3VzU2libGluZykge1xuICAgICAgICBtb3ZlUGxhY2Vob2xkZXIocGxhY2Vob2xkZXIsIHByZXZpb3VzU2libGluZyk7XG4gICAgICB9XG4gICAgICBpZiAobWF0Y2hlZEVudHJ5LnZhbHVlICE9PSBlbnRyeS52YWx1ZSkge1xuICAgICAgICByZXNvbHZlVmFsdWUoaG9zdCwgcGxhY2Vob2xkZXIsIGVudHJ5LnZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgICBwcmV2aW91c1NpYmxpbmcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocGxhY2Vob2xkZXIsIHByZXZpb3VzU2libGluZy5uZXh0U2libGluZyk7XG4gICAgICByZXNvbHZlVmFsdWUoaG9zdCwgcGxhY2Vob2xkZXIsIGVudHJ5LnZhbHVlKTtcbiAgICB9XG5cbiAgICBwcmV2aW91c1NpYmxpbmcgPSBnZXRUZW1wbGF0ZUVuZChkYXRhTWFwLmdldChwbGFjZWhvbGRlcikuZW5kTm9kZSB8fCBwbGFjZWhvbGRlcik7XG5cbiAgICBpZiAoaW5kZXggPT09IDApIGRhdGEuc3RhcnROb2RlID0gcGxhY2Vob2xkZXI7XG4gICAgaWYgKGluZGV4ID09PSBsYXN0SW5kZXgpIGRhdGEuZW5kTm9kZSA9IHByZXZpb3VzU2libGluZztcblxuICAgIGVudHJ5LnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gIH1cblxuICBpZiAobGFzdEVudHJpZXMpIHtcbiAgICBsYXN0RW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgaWYgKGVudHJ5LmF2YWlsYWJsZSkge1xuICAgICAgICByZW1vdmVUZW1wbGF0ZShlbnRyeS5wbGFjZWhvbGRlcik7XG4gICAgICAgIGVudHJ5LnBsYWNlaG9sZGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZW50cnkucGxhY2Vob2xkZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXX0=","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { dataMap, removeTemplate } from '../utils'; // eslint-disable-next-line import/no-cycle\n\nimport resolveArray, { arrayMap } from './array';\nexport default function resolveValue(host, target, value) {\n  var type = Array.isArray(value) ? 'array' : _typeof(value);\n  var data = dataMap.get(target, {});\n\n  if (data.type !== type) {\n    removeTemplate(target);\n    if (type === 'array') arrayMap.delete(target);\n    data = dataMap.set(target, {\n      type: type\n    });\n\n    if (target.textContent !== '') {\n      target.textContent = '';\n    }\n  }\n\n  switch (type) {\n    case 'function':\n      value(host, target);\n      break;\n\n    case 'array':\n      resolveArray(host, target, value);\n      break;\n\n    default:\n      target.textContent = type === 'number' || value ? value : '';\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlcnMvdmFsdWUuanMiXSwibmFtZXMiOlsiZGF0YU1hcCIsInJlbW92ZVRlbXBsYXRlIiwicmVzb2x2ZUFycmF5IiwiYXJyYXlNYXAiLCJyZXNvbHZlVmFsdWUiLCJob3N0IiwidGFyZ2V0IiwidmFsdWUiLCJ0eXBlIiwiQXJyYXkiLCJpc0FycmF5IiwiZGF0YSIsImdldCIsImRlbGV0ZSIsInNldCIsInRleHRDb250ZW50Il0sIm1hcHBpbmdzIjoiOztBQUFBLFNBQVNBLE9BQVQsRUFBa0JDLGNBQWxCLFFBQXdDLFVBQXhDLEMsQ0FDQTs7QUFDQSxPQUFPQyxZQUFQLElBQXVCQyxRQUF2QixRQUF1QyxTQUF2QztBQUVBLGVBQWUsU0FBU0MsWUFBVCxDQUFzQkMsSUFBdEIsRUFBNEJDLE1BQTVCLEVBQW9DQyxLQUFwQyxFQUEyQztBQUN4RCxNQUFNQyxJQUFJLEdBQUdDLEtBQUssQ0FBQ0MsT0FBTixDQUFjSCxLQUFkLElBQXVCLE9BQXZCLFdBQXdDQSxLQUF4QyxDQUFiO0FBQ0EsTUFBSUksSUFBSSxHQUFHWCxPQUFPLENBQUNZLEdBQVIsQ0FBWU4sTUFBWixFQUFvQixFQUFwQixDQUFYOztBQUVBLE1BQUlLLElBQUksQ0FBQ0gsSUFBTCxLQUFjQSxJQUFsQixFQUF3QjtBQUN0QlAsSUFBQUEsY0FBYyxDQUFDSyxNQUFELENBQWQ7QUFDQSxRQUFJRSxJQUFJLEtBQUssT0FBYixFQUFzQkwsUUFBUSxDQUFDVSxNQUFULENBQWdCUCxNQUFoQjtBQUV0QkssSUFBQUEsSUFBSSxHQUFHWCxPQUFPLENBQUNjLEdBQVIsQ0FBWVIsTUFBWixFQUFvQjtBQUFFRSxNQUFBQSxJQUFJLEVBQUpBO0FBQUYsS0FBcEIsQ0FBUDs7QUFFQSxRQUFJRixNQUFNLENBQUNTLFdBQVAsS0FBdUIsRUFBM0IsRUFBK0I7QUFDN0JULE1BQUFBLE1BQU0sQ0FBQ1MsV0FBUCxHQUFxQixFQUFyQjtBQUNEO0FBQ0Y7O0FBRUQsVUFBUVAsSUFBUjtBQUNFLFNBQUssVUFBTDtBQUNFRCxNQUFBQSxLQUFLLENBQUNGLElBQUQsRUFBT0MsTUFBUCxDQUFMO0FBQ0E7O0FBQ0YsU0FBSyxPQUFMO0FBQ0VKLE1BQUFBLFlBQVksQ0FBQ0csSUFBRCxFQUFPQyxNQUFQLEVBQWVDLEtBQWYsQ0FBWjtBQUNBOztBQUNGO0FBQ0VELE1BQUFBLE1BQU0sQ0FBQ1MsV0FBUCxHQUFxQlAsSUFBSSxLQUFLLFFBQVQsSUFBcUJELEtBQXJCLEdBQTZCQSxLQUE3QixHQUFxQyxFQUExRDtBQVJKO0FBVUQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYXRhTWFwLCByZW1vdmVUZW1wbGF0ZSB9IGZyb20gJy4uL3V0aWxzJztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tY3ljbGVcbmltcG9ydCByZXNvbHZlQXJyYXksIHsgYXJyYXlNYXAgfSBmcm9tICcuL2FycmF5JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVzb2x2ZVZhbHVlKGhvc3QsIHRhcmdldCwgdmFsdWUpIHtcbiAgY29uc3QgdHlwZSA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gJ2FycmF5JyA6IHR5cGVvZiB2YWx1ZTtcbiAgbGV0IGRhdGEgPSBkYXRhTWFwLmdldCh0YXJnZXQsIHt9KTtcblxuICBpZiAoZGF0YS50eXBlICE9PSB0eXBlKSB7XG4gICAgcmVtb3ZlVGVtcGxhdGUodGFyZ2V0KTtcbiAgICBpZiAodHlwZSA9PT0gJ2FycmF5JykgYXJyYXlNYXAuZGVsZXRlKHRhcmdldCk7XG5cbiAgICBkYXRhID0gZGF0YU1hcC5zZXQodGFyZ2V0LCB7IHR5cGUgfSk7XG5cbiAgICBpZiAodGFyZ2V0LnRleHRDb250ZW50ICE9PSAnJykge1xuICAgICAgdGFyZ2V0LnRleHRDb250ZW50ID0gJyc7XG4gICAgfVxuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgdmFsdWUoaG9zdCwgdGFyZ2V0KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHJlc29sdmVBcnJheShob3N0LCB0YXJnZXQsIHZhbHVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0YXJnZXQudGV4dENvbnRlbnQgPSB0eXBlID09PSAnbnVtYmVyJyB8fCB2YWx1ZSA/IHZhbHVlIDogJyc7XG4gIH1cbn1cbiJdfQ==","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar targets = new WeakMap();\nexport default function resolveEventListener(eventType) {\n  return function (host, target, value, lastValue) {\n    if (lastValue) {\n      var eventMap = targets.get(target);\n\n      if (eventMap) {\n        target.removeEventListener(eventType, eventMap.get(lastValue), lastValue.options !== undefined ? lastValue.options : false);\n      }\n    }\n\n    if (value) {\n      if (typeof value !== 'function') {\n        throw Error(\"Event listener must be a function: \".concat(_typeof(value)));\n      }\n\n      var _eventMap = targets.get(target);\n\n      if (!_eventMap) {\n        _eventMap = new WeakMap();\n        targets.set(target, _eventMap);\n      }\n\n      var callback = value.bind(null, host);\n\n      _eventMap.set(value, callback);\n\n      target.addEventListener(eventType, callback, value.options !== undefined ? value.options : false);\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlcnMvZXZlbnQuanMiXSwibmFtZXMiOlsidGFyZ2V0cyIsIldlYWtNYXAiLCJyZXNvbHZlRXZlbnRMaXN0ZW5lciIsImV2ZW50VHlwZSIsImhvc3QiLCJ0YXJnZXQiLCJ2YWx1ZSIsImxhc3RWYWx1ZSIsImV2ZW50TWFwIiwiZ2V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9wdGlvbnMiLCJ1bmRlZmluZWQiLCJFcnJvciIsInNldCIsImNhbGxiYWNrIiwiYmluZCIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsT0FBTyxHQUFHLElBQUlDLE9BQUosRUFBaEI7QUFFQSxlQUFlLFNBQVNDLG9CQUFULENBQThCQyxTQUE5QixFQUF5QztBQUN0RCxTQUFPLFVBQUNDLElBQUQsRUFBT0MsTUFBUCxFQUFlQyxLQUFmLEVBQXNCQyxTQUF0QixFQUFvQztBQUN6QyxRQUFJQSxTQUFKLEVBQWU7QUFDYixVQUFNQyxRQUFRLEdBQUdSLE9BQU8sQ0FBQ1MsR0FBUixDQUFZSixNQUFaLENBQWpCOztBQUNBLFVBQUlHLFFBQUosRUFBYztBQUNaSCxRQUFBQSxNQUFNLENBQUNLLG1CQUFQLENBQ0VQLFNBREYsRUFFRUssUUFBUSxDQUFDQyxHQUFULENBQWFGLFNBQWIsQ0FGRixFQUdFQSxTQUFTLENBQUNJLE9BQVYsS0FBc0JDLFNBQXRCLEdBQWtDTCxTQUFTLENBQUNJLE9BQTVDLEdBQXNELEtBSHhEO0FBS0Q7QUFDRjs7QUFFRCxRQUFJTCxLQUFKLEVBQVc7QUFDVCxVQUFJLE9BQU9BLEtBQVAsS0FBaUIsVUFBckIsRUFBaUM7QUFDL0IsY0FBTU8sS0FBSyxzREFBOENQLEtBQTlDLEdBQVg7QUFDRDs7QUFFRCxVQUFJRSxTQUFRLEdBQUdSLE9BQU8sQ0FBQ1MsR0FBUixDQUFZSixNQUFaLENBQWY7O0FBQ0EsVUFBSSxDQUFDRyxTQUFMLEVBQWU7QUFDYkEsUUFBQUEsU0FBUSxHQUFHLElBQUlQLE9BQUosRUFBWDtBQUNBRCxRQUFBQSxPQUFPLENBQUNjLEdBQVIsQ0FBWVQsTUFBWixFQUFvQkcsU0FBcEI7QUFDRDs7QUFFRCxVQUFNTyxRQUFRLEdBQUdULEtBQUssQ0FBQ1UsSUFBTixDQUFXLElBQVgsRUFBaUJaLElBQWpCLENBQWpCOztBQUNBSSxNQUFBQSxTQUFRLENBQUNNLEdBQVQsQ0FBYVIsS0FBYixFQUFvQlMsUUFBcEI7O0FBRUFWLE1BQUFBLE1BQU0sQ0FBQ1ksZ0JBQVAsQ0FDRWQsU0FERixFQUVFWSxRQUZGLEVBR0VULEtBQUssQ0FBQ0ssT0FBTixLQUFrQkMsU0FBbEIsR0FBOEJOLEtBQUssQ0FBQ0ssT0FBcEMsR0FBOEMsS0FIaEQ7QUFLRDtBQUNGLEdBaENEO0FBaUNEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdGFyZ2V0cyA9IG5ldyBXZWFrTWFwKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc29sdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSkge1xuICByZXR1cm4gKGhvc3QsIHRhcmdldCwgdmFsdWUsIGxhc3RWYWx1ZSkgPT4ge1xuICAgIGlmIChsYXN0VmFsdWUpIHtcbiAgICAgIGNvbnN0IGV2ZW50TWFwID0gdGFyZ2V0cy5nZXQodGFyZ2V0KTtcbiAgICAgIGlmIChldmVudE1hcCkge1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICBldmVudFR5cGUsXG4gICAgICAgICAgZXZlbnRNYXAuZ2V0KGxhc3RWYWx1ZSksXG4gICAgICAgICAgbGFzdFZhbHVlLm9wdGlvbnMgIT09IHVuZGVmaW5lZCA/IGxhc3RWYWx1ZS5vcHRpb25zIDogZmFsc2UsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBFdmVudCBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb246ICR7dHlwZW9mIHZhbHVlfWApO1xuICAgICAgfVxuXG4gICAgICBsZXQgZXZlbnRNYXAgPSB0YXJnZXRzLmdldCh0YXJnZXQpO1xuICAgICAgaWYgKCFldmVudE1hcCkge1xuICAgICAgICBldmVudE1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRhcmdldHMuc2V0KHRhcmdldCwgZXZlbnRNYXApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjYWxsYmFjayA9IHZhbHVlLmJpbmQobnVsbCwgaG9zdCk7XG4gICAgICBldmVudE1hcC5zZXQodmFsdWUsIGNhbGxiYWNrKTtcblxuICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIGV2ZW50VHlwZSxcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIHZhbHVlLm9wdGlvbnMgIT09IHVuZGVmaW5lZCA/IHZhbHVlLm9wdGlvbnMgOiBmYWxzZSxcbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuIl19","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction normalizeValue(value) {\n  var set = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Set();\n\n  if (Array.isArray(value)) {\n    value.forEach(function (className) {\n      return set.add(className);\n    });\n  } else if (value !== null && _typeof(value) === 'object') {\n    Object.keys(value).forEach(function (key) {\n      return value[key] && set.add(key);\n    });\n  } else {\n    set.add(value);\n  }\n\n  return set;\n}\n\nvar classMap = new WeakMap();\nexport default function resolveClassList(host, target, value) {\n  var previousList = classMap.get(target) || new Set();\n  var list = normalizeValue(value);\n  classMap.set(target, list);\n  list.forEach(function (className) {\n    target.classList.add(className);\n    previousList.delete(className);\n  });\n  previousList.forEach(function (className) {\n    target.classList.remove(className);\n  });\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlcnMvY2xhc3MuanMiXSwibmFtZXMiOlsibm9ybWFsaXplVmFsdWUiLCJ2YWx1ZSIsInNldCIsIlNldCIsIkFycmF5IiwiaXNBcnJheSIsImZvckVhY2giLCJjbGFzc05hbWUiLCJhZGQiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiY2xhc3NNYXAiLCJXZWFrTWFwIiwicmVzb2x2ZUNsYXNzTGlzdCIsImhvc3QiLCJ0YXJnZXQiLCJwcmV2aW91c0xpc3QiLCJnZXQiLCJsaXN0IiwiY2xhc3NMaXN0IiwiZGVsZXRlIiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOztBQUFBLFNBQVNBLGNBQVQsQ0FBd0JDLEtBQXhCLEVBQWdEO0FBQUEsTUFBakJDLEdBQWlCLHVFQUFYLElBQUlDLEdBQUosRUFBVzs7QUFDOUMsTUFBSUMsS0FBSyxDQUFDQyxPQUFOLENBQWNKLEtBQWQsQ0FBSixFQUEwQjtBQUN4QkEsSUFBQUEsS0FBSyxDQUFDSyxPQUFOLENBQWMsVUFBQ0MsU0FBRDtBQUFBLGFBQWVMLEdBQUcsQ0FBQ00sR0FBSixDQUFRRCxTQUFSLENBQWY7QUFBQSxLQUFkO0FBQ0QsR0FGRCxNQUVPLElBQUlOLEtBQUssS0FBSyxJQUFWLElBQWtCLFFBQU9BLEtBQVAsTUFBaUIsUUFBdkMsRUFBaUQ7QUFDdERRLElBQUFBLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZVCxLQUFaLEVBQW1CSyxPQUFuQixDQUEyQixVQUFDSyxHQUFEO0FBQUEsYUFBU1YsS0FBSyxDQUFDVSxHQUFELENBQUwsSUFBY1QsR0FBRyxDQUFDTSxHQUFKLENBQVFHLEdBQVIsQ0FBdkI7QUFBQSxLQUEzQjtBQUNELEdBRk0sTUFFQTtBQUNMVCxJQUFBQSxHQUFHLENBQUNNLEdBQUosQ0FBUVAsS0FBUjtBQUNEOztBQUVELFNBQU9DLEdBQVA7QUFDRDs7QUFFRCxJQUFNVSxRQUFRLEdBQUcsSUFBSUMsT0FBSixFQUFqQjtBQUVBLGVBQWUsU0FBU0MsZ0JBQVQsQ0FBMEJDLElBQTFCLEVBQWdDQyxNQUFoQyxFQUF3Q2YsS0FBeEMsRUFBK0M7QUFDNUQsTUFBTWdCLFlBQVksR0FBR0wsUUFBUSxDQUFDTSxHQUFULENBQWFGLE1BQWIsS0FBd0IsSUFBSWIsR0FBSixFQUE3QztBQUNBLE1BQU1nQixJQUFJLEdBQUduQixjQUFjLENBQUNDLEtBQUQsQ0FBM0I7QUFFQVcsRUFBQUEsUUFBUSxDQUFDVixHQUFULENBQWFjLE1BQWIsRUFBcUJHLElBQXJCO0FBRUFBLEVBQUFBLElBQUksQ0FBQ2IsT0FBTCxDQUFhLFVBQUNDLFNBQUQsRUFBZTtBQUMxQlMsSUFBQUEsTUFBTSxDQUFDSSxTQUFQLENBQWlCWixHQUFqQixDQUFxQkQsU0FBckI7QUFDQVUsSUFBQUEsWUFBWSxDQUFDSSxNQUFiLENBQW9CZCxTQUFwQjtBQUNELEdBSEQ7QUFLQVUsRUFBQUEsWUFBWSxDQUFDWCxPQUFiLENBQXFCLFVBQUNDLFNBQUQsRUFBZTtBQUNsQ1MsSUFBQUEsTUFBTSxDQUFDSSxTQUFQLENBQWlCRSxNQUFqQixDQUF3QmYsU0FBeEI7QUFDRCxHQUZEO0FBR0QiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSwgc2V0ID0gbmV3IFNldCgpKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHZhbHVlLmZvckVhY2goKGNsYXNzTmFtZSkgPT4gc2V0LmFkZChjbGFzc05hbWUpKTtcbiAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgT2JqZWN0LmtleXModmFsdWUpLmZvckVhY2goKGtleSkgPT4gdmFsdWVba2V5XSAmJiBzZXQuYWRkKGtleSkpO1xuICB9IGVsc2Uge1xuICAgIHNldC5hZGQodmFsdWUpO1xuICB9XG5cbiAgcmV0dXJuIHNldDtcbn1cblxuY29uc3QgY2xhc3NNYXAgPSBuZXcgV2Vha01hcCgpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXNvbHZlQ2xhc3NMaXN0KGhvc3QsIHRhcmdldCwgdmFsdWUpIHtcbiAgY29uc3QgcHJldmlvdXNMaXN0ID0gY2xhc3NNYXAuZ2V0KHRhcmdldCkgfHwgbmV3IFNldCgpO1xuICBjb25zdCBsaXN0ID0gbm9ybWFsaXplVmFsdWUodmFsdWUpO1xuXG4gIGNsYXNzTWFwLnNldCh0YXJnZXQsIGxpc3QpO1xuXG4gIGxpc3QuZm9yRWFjaCgoY2xhc3NOYW1lKSA9PiB7XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICBwcmV2aW91c0xpc3QuZGVsZXRlKGNsYXNzTmFtZSk7XG4gIH0pO1xuXG4gIHByZXZpb3VzTGlzdC5mb3JFYWNoKChjbGFzc05hbWUpID0+IHtcbiAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICB9KTtcbn1cbiJdfQ==","function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { camelToDash, stringifyElement } from '../../utils';\nvar styleMap = new WeakMap();\nexport default function resolveStyle(host, target, value) {\n  if (value === null || _typeof(value) !== 'object') {\n    throw TypeError(\"Style value must be an object in \".concat(stringifyElement(target), \":\"), value);\n  }\n\n  var previousMap = styleMap.get(target) || new Map();\n  var nextMap = Object.keys(value).reduce(function (map, key) {\n    var dashKey = camelToDash(key);\n    var styleValue = value[key];\n\n    if (!styleValue && styleValue !== 0) {\n      target.style.removeProperty(dashKey);\n    } else {\n      target.style.setProperty(dashKey, styleValue);\n    }\n\n    map.set(dashKey, styleValue);\n    previousMap.delete(dashKey);\n    return map;\n  }, new Map());\n  previousMap.forEach(function (styleValue, key) {\n    target.style[key] = '';\n  });\n  styleMap.set(target, nextMap);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlcnMvc3R5bGUuanMiXSwibmFtZXMiOlsiY2FtZWxUb0Rhc2giLCJzdHJpbmdpZnlFbGVtZW50Iiwic3R5bGVNYXAiLCJXZWFrTWFwIiwicmVzb2x2ZVN0eWxlIiwiaG9zdCIsInRhcmdldCIsInZhbHVlIiwiVHlwZUVycm9yIiwicHJldmlvdXNNYXAiLCJnZXQiLCJNYXAiLCJuZXh0TWFwIiwiT2JqZWN0Iiwia2V5cyIsInJlZHVjZSIsIm1hcCIsImtleSIsImRhc2hLZXkiLCJzdHlsZVZhbHVlIiwic3R5bGUiLCJyZW1vdmVQcm9wZXJ0eSIsInNldFByb3BlcnR5Iiwic2V0IiwiZGVsZXRlIiwiZm9yRWFjaCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTQSxXQUFULEVBQXNCQyxnQkFBdEIsUUFBOEMsYUFBOUM7QUFFQSxJQUFNQyxRQUFRLEdBQUcsSUFBSUMsT0FBSixFQUFqQjtBQUVBLGVBQWUsU0FBU0MsWUFBVCxDQUFzQkMsSUFBdEIsRUFBNEJDLE1BQTVCLEVBQW9DQyxLQUFwQyxFQUEyQztBQUN4RCxNQUFJQSxLQUFLLEtBQUssSUFBVixJQUFrQixRQUFPQSxLQUFQLE1BQWlCLFFBQXZDLEVBQWlEO0FBQy9DLFVBQU1DLFNBQVMsNENBQXFDUCxnQkFBZ0IsQ0FBQ0ssTUFBRCxDQUFyRCxRQUFrRUMsS0FBbEUsQ0FBZjtBQUNEOztBQUVELE1BQU1FLFdBQVcsR0FBR1AsUUFBUSxDQUFDUSxHQUFULENBQWFKLE1BQWIsS0FBd0IsSUFBSUssR0FBSixFQUE1QztBQUVBLE1BQU1DLE9BQU8sR0FBR0MsTUFBTSxDQUFDQyxJQUFQLENBQVlQLEtBQVosRUFBbUJRLE1BQW5CLENBQTBCLFVBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQ3RELFFBQU1DLE9BQU8sR0FBR2xCLFdBQVcsQ0FBQ2lCLEdBQUQsQ0FBM0I7QUFDQSxRQUFNRSxVQUFVLEdBQUdaLEtBQUssQ0FBQ1UsR0FBRCxDQUF4Qjs7QUFFQSxRQUFJLENBQUNFLFVBQUQsSUFBZUEsVUFBVSxLQUFLLENBQWxDLEVBQXFDO0FBQ25DYixNQUFBQSxNQUFNLENBQUNjLEtBQVAsQ0FBYUMsY0FBYixDQUE0QkgsT0FBNUI7QUFDRCxLQUZELE1BRU87QUFDTFosTUFBQUEsTUFBTSxDQUFDYyxLQUFQLENBQWFFLFdBQWIsQ0FBeUJKLE9BQXpCLEVBQWtDQyxVQUFsQztBQUNEOztBQUVESCxJQUFBQSxHQUFHLENBQUNPLEdBQUosQ0FBUUwsT0FBUixFQUFpQkMsVUFBakI7QUFDQVYsSUFBQUEsV0FBVyxDQUFDZSxNQUFaLENBQW1CTixPQUFuQjtBQUVBLFdBQU9GLEdBQVA7QUFDRCxHQWRlLEVBY2IsSUFBSUwsR0FBSixFQWRhLENBQWhCO0FBZ0JBRixFQUFBQSxXQUFXLENBQUNnQixPQUFaLENBQW9CLFVBQUNOLFVBQUQsRUFBYUYsR0FBYixFQUFxQjtBQUFFWCxJQUFBQSxNQUFNLENBQUNjLEtBQVAsQ0FBYUgsR0FBYixJQUFvQixFQUFwQjtBQUF5QixHQUFwRTtBQUVBZixFQUFBQSxRQUFRLENBQUNxQixHQUFULENBQWFqQixNQUFiLEVBQXFCTSxPQUFyQjtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2FtZWxUb0Rhc2gsIHN0cmluZ2lmeUVsZW1lbnQgfSBmcm9tICcuLi8uLi91dGlscyc7XG5cbmNvbnN0IHN0eWxlTWFwID0gbmV3IFdlYWtNYXAoKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVzb2x2ZVN0eWxlKGhvc3QsIHRhcmdldCwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoYFN0eWxlIHZhbHVlIG11c3QgYmUgYW4gb2JqZWN0IGluICR7c3RyaW5naWZ5RWxlbWVudCh0YXJnZXQpfTpgLCB2YWx1ZSk7XG4gIH1cblxuICBjb25zdCBwcmV2aW91c01hcCA9IHN0eWxlTWFwLmdldCh0YXJnZXQpIHx8IG5ldyBNYXAoKTtcblxuICBjb25zdCBuZXh0TWFwID0gT2JqZWN0LmtleXModmFsdWUpLnJlZHVjZSgobWFwLCBrZXkpID0+IHtcbiAgICBjb25zdCBkYXNoS2V5ID0gY2FtZWxUb0Rhc2goa2V5KTtcbiAgICBjb25zdCBzdHlsZVZhbHVlID0gdmFsdWVba2V5XTtcblxuICAgIGlmICghc3R5bGVWYWx1ZSAmJiBzdHlsZVZhbHVlICE9PSAwKSB7XG4gICAgICB0YXJnZXQuc3R5bGUucmVtb3ZlUHJvcGVydHkoZGFzaEtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldC5zdHlsZS5zZXRQcm9wZXJ0eShkYXNoS2V5LCBzdHlsZVZhbHVlKTtcbiAgICB9XG5cbiAgICBtYXAuc2V0KGRhc2hLZXksIHN0eWxlVmFsdWUpO1xuICAgIHByZXZpb3VzTWFwLmRlbGV0ZShkYXNoS2V5KTtcblxuICAgIHJldHVybiBtYXA7XG4gIH0sIG5ldyBNYXAoKSk7XG5cbiAgcHJldmlvdXNNYXAuZm9yRWFjaCgoc3R5bGVWYWx1ZSwga2V5KSA9PiB7IHRhcmdldC5zdHlsZVtrZXldID0gJyc7IH0pO1xuXG4gIHN0eWxlTWFwLnNldCh0YXJnZXQsIG5leHRNYXApO1xufVxuIl19","import resolveEventListener from './event';\nimport resolveClassList from './class';\nimport resolveStyleList from './style';\nexport default function resolveProperty(attrName, propertyName, isSVG) {\n  if (propertyName.substr(0, 2) === 'on') {\n    var eventType = propertyName.substr(2);\n    return resolveEventListener(eventType);\n  }\n\n  switch (attrName) {\n    case 'class':\n      return resolveClassList;\n\n    case 'style':\n      return resolveStyleList;\n\n    default:\n      return function (host, target, value) {\n        if (!isSVG && !(target instanceof SVGElement) && propertyName in target) {\n          if (target[propertyName] !== value) {\n            target[propertyName] = value;\n          }\n        } else if (value === false || value === undefined || value === null) {\n          target.removeAttribute(attrName);\n        } else {\n          var attrValue = value === true ? '' : String(value);\n          target.setAttribute(attrName, attrValue);\n        }\n      };\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90ZW1wbGF0ZS9yZXNvbHZlcnMvcHJvcGVydHkuanMiXSwibmFtZXMiOlsicmVzb2x2ZUV2ZW50TGlzdGVuZXIiLCJyZXNvbHZlQ2xhc3NMaXN0IiwicmVzb2x2ZVN0eWxlTGlzdCIsInJlc29sdmVQcm9wZXJ0eSIsImF0dHJOYW1lIiwicHJvcGVydHlOYW1lIiwiaXNTVkciLCJzdWJzdHIiLCJldmVudFR5cGUiLCJob3N0IiwidGFyZ2V0IiwidmFsdWUiLCJTVkdFbGVtZW50IiwidW5kZWZpbmVkIiwicmVtb3ZlQXR0cmlidXRlIiwiYXR0clZhbHVlIiwiU3RyaW5nIiwic2V0QXR0cmlidXRlIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxvQkFBUCxNQUFpQyxTQUFqQztBQUNBLE9BQU9DLGdCQUFQLE1BQTZCLFNBQTdCO0FBQ0EsT0FBT0MsZ0JBQVAsTUFBNkIsU0FBN0I7QUFFQSxlQUFlLFNBQVNDLGVBQVQsQ0FBeUJDLFFBQXpCLEVBQW1DQyxZQUFuQyxFQUFpREMsS0FBakQsRUFBd0Q7QUFDckUsTUFBSUQsWUFBWSxDQUFDRSxNQUFiLENBQW9CLENBQXBCLEVBQXVCLENBQXZCLE1BQThCLElBQWxDLEVBQXdDO0FBQ3RDLFFBQU1DLFNBQVMsR0FBR0gsWUFBWSxDQUFDRSxNQUFiLENBQW9CLENBQXBCLENBQWxCO0FBQ0EsV0FBT1Asb0JBQW9CLENBQUNRLFNBQUQsQ0FBM0I7QUFDRDs7QUFFRCxVQUFRSixRQUFSO0FBQ0UsU0FBSyxPQUFMO0FBQWMsYUFBT0gsZ0JBQVA7O0FBQ2QsU0FBSyxPQUFMO0FBQWMsYUFBT0MsZ0JBQVA7O0FBQ2Q7QUFDRSxhQUFPLFVBQUNPLElBQUQsRUFBT0MsTUFBUCxFQUFlQyxLQUFmLEVBQXlCO0FBQzlCLFlBQUksQ0FBQ0wsS0FBRCxJQUFVLEVBQUVJLE1BQU0sWUFBWUUsVUFBcEIsQ0FBVixJQUE4Q1AsWUFBWSxJQUFJSyxNQUFsRSxFQUEyRTtBQUN6RSxjQUFJQSxNQUFNLENBQUNMLFlBQUQsQ0FBTixLQUF5Qk0sS0FBN0IsRUFBb0M7QUFDbENELFlBQUFBLE1BQU0sQ0FBQ0wsWUFBRCxDQUFOLEdBQXVCTSxLQUF2QjtBQUNEO0FBQ0YsU0FKRCxNQUlPLElBQUlBLEtBQUssS0FBSyxLQUFWLElBQW1CQSxLQUFLLEtBQUtFLFNBQTdCLElBQTBDRixLQUFLLEtBQUssSUFBeEQsRUFBOEQ7QUFDbkVELFVBQUFBLE1BQU0sQ0FBQ0ksZUFBUCxDQUF1QlYsUUFBdkI7QUFDRCxTQUZNLE1BRUE7QUFDTCxjQUFNVyxTQUFTLEdBQUdKLEtBQUssS0FBSyxJQUFWLEdBQWlCLEVBQWpCLEdBQXNCSyxNQUFNLENBQUNMLEtBQUQsQ0FBOUM7QUFDQUQsVUFBQUEsTUFBTSxDQUFDTyxZQUFQLENBQW9CYixRQUFwQixFQUE4QlcsU0FBOUI7QUFDRDtBQUNGLE9BWEQ7QUFKSjtBQWlCRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZXNvbHZlRXZlbnRMaXN0ZW5lciBmcm9tICcuL2V2ZW50JztcbmltcG9ydCByZXNvbHZlQ2xhc3NMaXN0IGZyb20gJy4vY2xhc3MnO1xuaW1wb3J0IHJlc29sdmVTdHlsZUxpc3QgZnJvbSAnLi9zdHlsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlc29sdmVQcm9wZXJ0eShhdHRyTmFtZSwgcHJvcGVydHlOYW1lLCBpc1NWRykge1xuICBpZiAocHJvcGVydHlOYW1lLnN1YnN0cigwLCAyKSA9PT0gJ29uJykge1xuICAgIGNvbnN0IGV2ZW50VHlwZSA9IHByb3BlcnR5TmFtZS5zdWJzdHIoMik7XG4gICAgcmV0dXJuIHJlc29sdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSk7XG4gIH1cblxuICBzd2l0Y2ggKGF0dHJOYW1lKSB7XG4gICAgY2FzZSAnY2xhc3MnOiByZXR1cm4gcmVzb2x2ZUNsYXNzTGlzdDtcbiAgICBjYXNlICdzdHlsZSc6IHJldHVybiByZXNvbHZlU3R5bGVMaXN0O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gKGhvc3QsIHRhcmdldCwgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKCFpc1NWRyAmJiAhKHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQpICYmIChwcm9wZXJ0eU5hbWUgaW4gdGFyZ2V0KSkge1xuICAgICAgICAgIGlmICh0YXJnZXRbcHJvcGVydHlOYW1lXSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wZXJ0eU5hbWVdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgdGFyZ2V0LnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgYXR0clZhbHVlID0gdmFsdWUgPT09IHRydWUgPyAnJyA6IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0clZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgfVxufVxuIl19","function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { stringifyElement, shadyCSS, IS_IE } from '../utils';\nimport { dataMap, removeTemplate } from './utils';\nimport resolveValue from './resolvers/value';\nimport resolveProperty from './resolvers/property';\n/* istanbul ignore next */\n\ntry {\n  process.env.NODE_ENV;\n} catch (e) {\n  var process = {\n    env: {\n      NODE_ENV: 'production'\n    }\n  };\n} // eslint-disable-line\n\n\nvar TIMESTAMP = Date.now();\nexport var getPlaceholder = function getPlaceholder() {\n  var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return \"{{h-\".concat(TIMESTAMP, \"-\").concat(id, \"}}\");\n};\nvar PLACEHOLDER_REGEXP_TEXT = getPlaceholder('(\\\\d+)');\nvar PLACEHOLDER_REGEXP_EQUAL = new RegExp(\"^\".concat(PLACEHOLDER_REGEXP_TEXT, \"$\"));\nvar PLACEHOLDER_REGEXP_ALL = new RegExp(PLACEHOLDER_REGEXP_TEXT, 'g');\nvar ATTR_PREFIX = \"--\".concat(TIMESTAMP, \"--\");\nvar ATTR_REGEXP = new RegExp(ATTR_PREFIX, 'g');\nvar preparedTemplates = new WeakMap();\n/* istanbul ignore next */\n\nfunction applyShadyCSS(template, tagName) {\n  if (!tagName) return template;\n  return shadyCSS(function (shady) {\n    var map = preparedTemplates.get(template);\n\n    if (!map) {\n      map = new Map();\n      preparedTemplates.set(template, map);\n    }\n\n    var clone = map.get(tagName);\n\n    if (!clone) {\n      clone = document.createElement('template');\n      clone.content.appendChild(template.content.cloneNode(true));\n      map.set(tagName, clone);\n      var styles = clone.content.querySelectorAll('style');\n      Array.from(styles).forEach(function (style) {\n        var count = style.childNodes.length + 1;\n\n        for (var i = 0; i < count; i += 1) {\n          style.parentNode.insertBefore(document.createTextNode(getPlaceholder()), style);\n        }\n      });\n      shady.prepareTemplate(clone, tagName.toLowerCase());\n    }\n\n    return clone;\n  }, template);\n}\n\nfunction createSignature(parts, styles) {\n  var signature = parts.reduce(function (acc, part, index) {\n    if (index === 0) {\n      return part;\n    }\n\n    if (parts.slice(index).join('').match(/^\\s*<\\/\\s*(table|tr|thead|tbody|tfoot|colgroup)>/)) {\n      return \"\".concat(acc, \"<!--\").concat(getPlaceholder(index - 1), \"-->\").concat(part);\n    }\n\n    return acc + getPlaceholder(index - 1) + part;\n  }, '');\n\n  if (styles) {\n    signature += \"<style>\\n\".concat(styles.join('\\n/*------*/\\n'), \"\\n</style>\");\n  }\n  /* istanbul ignore if */\n\n\n  if (IS_IE) {\n    return signature.replace(/style\\s*=\\s*([\"][^\"]+[\"]|['][^']+[']|[^\\s\"'<>/]+)/g, function (match) {\n      return \"\".concat(ATTR_PREFIX).concat(match);\n    });\n  }\n\n  return signature;\n}\n\nfunction getPropertyName(string) {\n  return string.replace(/\\s*=\\s*['\"]*$/g, '').split(' ').pop();\n}\n\nfunction replaceComments(fragment) {\n  var iterator = document.createNodeIterator(fragment, NodeFilter.SHOW_COMMENT, null, false);\n  var node; // eslint-disable-next-line no-cond-assign\n\n  while (node = iterator.nextNode()) {\n    if (PLACEHOLDER_REGEXP_EQUAL.test(node.textContent)) {\n      node.parentNode.insertBefore(document.createTextNode(node.textContent), node);\n      node.parentNode.removeChild(node);\n    }\n  }\n}\n\nexport function createInternalWalker(context) {\n  var node;\n  return {\n    get currentNode() {\n      return node;\n    },\n\n    nextNode: function nextNode() {\n      if (node === undefined) {\n        node = context.childNodes[0];\n      } else if (node.childNodes.length) {\n        node = node.childNodes[0];\n      } else if (node.nextSibling) {\n        node = node.nextSibling;\n      } else {\n        var parentNode = node.parentNode;\n        node = parentNode.nextSibling;\n\n        while (!node && parentNode !== context) {\n          parentNode = parentNode.parentNode;\n          node = parentNode.nextSibling;\n        }\n      }\n\n      return !!node;\n    }\n  };\n}\n\nfunction createExternalWalker(context) {\n  return document.createTreeWalker(context, // eslint-disable-next-line no-bitwise\n  NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT, null, false);\n}\n/* istanbul ignore next */\n\n\nvar createWalker = _typeof(window.ShadyDOM) === 'object' && window.ShadyDOM.inUse ? createInternalWalker : createExternalWalker;\nvar container = document.createElement('div');\nexport function compileTemplate(rawParts, isSVG, styles) {\n  var template = document.createElement('template');\n  var parts = [];\n  var signature = createSignature(rawParts, styles);\n  if (isSVG) signature = \"<svg>\".concat(signature, \"</svg>\");\n  /* istanbul ignore if */\n\n  if (IS_IE) {\n    template.innerHTML = signature;\n  } else {\n    container.innerHTML = \"<template>\".concat(signature, \"</template>\");\n    template.content.appendChild(container.children[0].content);\n  }\n\n  if (isSVG) {\n    var svgRoot = template.content.firstChild;\n    template.content.removeChild(svgRoot);\n    Array.from(svgRoot.childNodes).forEach(function (node) {\n      return template.content.appendChild(node);\n    });\n  }\n\n  replaceComments(template.content);\n  var compileWalker = createWalker(template.content);\n  var compileIndex = 0;\n\n  var _loop = function _loop() {\n    var node = compileWalker.currentNode;\n\n    if (node.nodeType === Node.TEXT_NODE) {\n      var text = node.textContent;\n\n      if (!text.match(PLACEHOLDER_REGEXP_EQUAL)) {\n        var results = text.match(PLACEHOLDER_REGEXP_ALL);\n\n        if (results) {\n          var currentNode = node;\n          results.reduce(function (acc, placeholder) {\n            var _acc$pop$split = acc.pop().split(placeholder),\n                _acc$pop$split2 = _slicedToArray(_acc$pop$split, 2),\n                before = _acc$pop$split2[0],\n                next = _acc$pop$split2[1];\n\n            if (before) acc.push(before);\n            acc.push(placeholder);\n            if (next) acc.push(next);\n            return acc;\n          }, [text]).forEach(function (part, index) {\n            if (index === 0) {\n              currentNode.textContent = part;\n            } else {\n              currentNode = currentNode.parentNode.insertBefore(document.createTextNode(part), currentNode.nextSibling);\n            }\n          });\n        }\n      }\n\n      var equal = node.textContent.match(PLACEHOLDER_REGEXP_EQUAL);\n\n      if (equal) {\n        /* istanbul ignore else */\n        if (!IS_IE) node.textContent = '';\n        parts[equal[1]] = [compileIndex, resolveValue];\n      }\n    } else {\n      /* istanbul ignore else */\n      // eslint-disable-next-line no-lonely-if\n      if (node.nodeType === Node.ELEMENT_NODE) {\n        Array.from(node.attributes).forEach(function (attr) {\n          var value = attr.value.trim();\n          /* istanbul ignore next */\n\n          var name = IS_IE ? attr.name.replace(ATTR_PREFIX, '') : attr.name;\n          var equal = value.match(PLACEHOLDER_REGEXP_EQUAL);\n\n          if (equal) {\n            var propertyName = getPropertyName(rawParts[equal[1]]);\n            parts[equal[1]] = [compileIndex, resolveProperty(name, propertyName, isSVG)];\n            node.removeAttribute(attr.name);\n          } else {\n            var _results = value.match(PLACEHOLDER_REGEXP_ALL);\n\n            if (_results) {\n              var partialName = \"attr__\".concat(name);\n\n              _results.forEach(function (placeholder, index) {\n                var _placeholder$match = placeholder.match(PLACEHOLDER_REGEXP_EQUAL),\n                    _placeholder$match2 = _slicedToArray(_placeholder$match, 2),\n                    id = _placeholder$match2[1];\n\n                parts[id] = [compileIndex, function (host, target, attrValue) {\n                  var data = dataMap.get(target, {});\n                  data[partialName] = (data[partialName] || value).replace(placeholder, attrValue == null ? '' : attrValue);\n\n                  if (_results.length === 1 || index + 1 === _results.length) {\n                    target.setAttribute(name, data[partialName]);\n                    data[partialName] = undefined;\n                  }\n                }];\n              });\n\n              attr.value = '';\n              /* istanbul ignore next */\n\n              if (IS_IE && name !== attr.name) {\n                node.removeAttribute(attr.name);\n                node.setAttribute(name, '');\n              }\n            }\n          }\n        });\n      }\n    }\n\n    compileIndex += 1;\n  };\n\n  while (compileWalker.nextNode()) {\n    _loop();\n  }\n\n  return function updateTemplateInstance(host, target, args) {\n    var data = dataMap.get(target, {\n      type: 'function'\n    });\n\n    if (template !== data.template) {\n      if (data.template || target.nodeType === Node.ELEMENT_NODE) removeTemplate(target);\n      data.prevArgs = null;\n      var fragment = document.importNode(applyShadyCSS(template, host.tagName).content, true);\n      var renderWalker = createWalker(fragment);\n      var clonedParts = parts.slice(0);\n      var renderIndex = 0;\n      var currentPart = clonedParts.shift();\n      var markers = [];\n      data.template = template;\n      data.markers = markers;\n\n      while (renderWalker.nextNode()) {\n        var node = renderWalker.currentNode;\n\n        if (node.nodeType === Node.TEXT_NODE) {\n          /* istanbul ignore next */\n          if (PLACEHOLDER_REGEXP_EQUAL.test(node.textContent)) {\n            node.textContent = '';\n          } else if (IS_IE) {\n            node.textContent = node.textContent.replace(ATTR_REGEXP, '');\n          }\n        } else if (process.env.NODE_ENV !== 'production' && node.nodeType === Node.ELEMENT_NODE) {\n          if (node.tagName.indexOf('-') > -1 && !customElements.get(node.tagName.toLowerCase())) {\n            throw Error(\"Missing '\".concat(stringifyElement(node), \"' element definition in '\").concat(stringifyElement(host), \"'\"));\n          }\n        }\n\n        while (currentPart && currentPart[0] === renderIndex) {\n          markers.push([node, currentPart[1]]);\n          currentPart = clonedParts.shift();\n        }\n\n        renderIndex += 1;\n      }\n\n      if (target.nodeType === Node.TEXT_NODE) {\n        data.startNode = fragment.childNodes[0];\n        data.endNode = fragment.childNodes[fragment.childNodes.length - 1];\n        var previousChild = target;\n        var child = fragment.childNodes[0];\n\n        while (child) {\n          target.parentNode.insertBefore(child, previousChild.nextSibling);\n          previousChild = child;\n          child = fragment.childNodes[0];\n        }\n      } else {\n        target.appendChild(fragment);\n      }\n    }\n\n    var prevArgs = data.prevArgs;\n    data.prevArgs = args;\n\n    for (var index = 0; index < data.markers.length; index += 1) {\n      var _data$markers$index = _slicedToArray(data.markers[index], 2),\n          _node = _data$markers$index[0],\n          marker = _data$markers$index[1];\n\n      if (!prevArgs || prevArgs[index] !== args[index]) {\n        marker(host, _node, args[index], prevArgs ? prevArgs[index] : undefined);\n      }\n    }\n\n    if (target.nodeType !== Node.TEXT_NODE) {\n      shadyCSS(function (shady) {\n        if (host.shadowRoot) {\n          if (prevArgs) {\n            shady.styleSubtree(host);\n          } else {\n            shady.styleElement(host);\n          }\n        }\n      });\n    }\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZW1wbGF0ZS9jb3JlLmpzIl0sIm5hbWVzIjpbInN0cmluZ2lmeUVsZW1lbnQiLCJzaGFkeUNTUyIsIklTX0lFIiwiZGF0YU1hcCIsInJlbW92ZVRlbXBsYXRlIiwicmVzb2x2ZVZhbHVlIiwicmVzb2x2ZVByb3BlcnR5IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiZSIsIlRJTUVTVEFNUCIsIkRhdGUiLCJub3ciLCJnZXRQbGFjZWhvbGRlciIsImlkIiwiUExBQ0VIT0xERVJfUkVHRVhQX1RFWFQiLCJQTEFDRUhPTERFUl9SRUdFWFBfRVFVQUwiLCJSZWdFeHAiLCJQTEFDRUhPTERFUl9SRUdFWFBfQUxMIiwiQVRUUl9QUkVGSVgiLCJBVFRSX1JFR0VYUCIsInByZXBhcmVkVGVtcGxhdGVzIiwiV2Vha01hcCIsImFwcGx5U2hhZHlDU1MiLCJ0ZW1wbGF0ZSIsInRhZ05hbWUiLCJzaGFkeSIsIm1hcCIsImdldCIsIk1hcCIsInNldCIsImNsb25lIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY29udGVudCIsImFwcGVuZENoaWxkIiwiY2xvbmVOb2RlIiwic3R5bGVzIiwicXVlcnlTZWxlY3RvckFsbCIsIkFycmF5IiwiZnJvbSIsImZvckVhY2giLCJzdHlsZSIsImNvdW50IiwiY2hpbGROb2RlcyIsImxlbmd0aCIsImkiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiY3JlYXRlVGV4dE5vZGUiLCJwcmVwYXJlVGVtcGxhdGUiLCJ0b0xvd2VyQ2FzZSIsImNyZWF0ZVNpZ25hdHVyZSIsInBhcnRzIiwic2lnbmF0dXJlIiwicmVkdWNlIiwiYWNjIiwicGFydCIsImluZGV4Iiwic2xpY2UiLCJqb2luIiwibWF0Y2giLCJyZXBsYWNlIiwiZ2V0UHJvcGVydHlOYW1lIiwic3RyaW5nIiwic3BsaXQiLCJwb3AiLCJyZXBsYWNlQ29tbWVudHMiLCJmcmFnbWVudCIsIml0ZXJhdG9yIiwiY3JlYXRlTm9kZUl0ZXJhdG9yIiwiTm9kZUZpbHRlciIsIlNIT1dfQ09NTUVOVCIsIm5vZGUiLCJuZXh0Tm9kZSIsInRlc3QiLCJ0ZXh0Q29udGVudCIsInJlbW92ZUNoaWxkIiwiY3JlYXRlSW50ZXJuYWxXYWxrZXIiLCJjb250ZXh0IiwiY3VycmVudE5vZGUiLCJ1bmRlZmluZWQiLCJuZXh0U2libGluZyIsImNyZWF0ZUV4dGVybmFsV2Fsa2VyIiwiY3JlYXRlVHJlZVdhbGtlciIsIlNIT1dfRUxFTUVOVCIsIlNIT1dfVEVYVCIsImNyZWF0ZVdhbGtlciIsIndpbmRvdyIsIlNoYWR5RE9NIiwiaW5Vc2UiLCJjb250YWluZXIiLCJjb21waWxlVGVtcGxhdGUiLCJyYXdQYXJ0cyIsImlzU1ZHIiwiaW5uZXJIVE1MIiwiY2hpbGRyZW4iLCJzdmdSb290IiwiZmlyc3RDaGlsZCIsImNvbXBpbGVXYWxrZXIiLCJjb21waWxlSW5kZXgiLCJub2RlVHlwZSIsIk5vZGUiLCJURVhUX05PREUiLCJ0ZXh0IiwicmVzdWx0cyIsInBsYWNlaG9sZGVyIiwiYmVmb3JlIiwibmV4dCIsInB1c2giLCJlcXVhbCIsIkVMRU1FTlRfTk9ERSIsImF0dHJpYnV0ZXMiLCJhdHRyIiwidmFsdWUiLCJ0cmltIiwibmFtZSIsInByb3BlcnR5TmFtZSIsInJlbW92ZUF0dHJpYnV0ZSIsInBhcnRpYWxOYW1lIiwiaG9zdCIsInRhcmdldCIsImF0dHJWYWx1ZSIsImRhdGEiLCJzZXRBdHRyaWJ1dGUiLCJ1cGRhdGVUZW1wbGF0ZUluc3RhbmNlIiwiYXJncyIsInR5cGUiLCJwcmV2QXJncyIsImltcG9ydE5vZGUiLCJyZW5kZXJXYWxrZXIiLCJjbG9uZWRQYXJ0cyIsInJlbmRlckluZGV4IiwiY3VycmVudFBhcnQiLCJzaGlmdCIsIm1hcmtlcnMiLCJpbmRleE9mIiwiY3VzdG9tRWxlbWVudHMiLCJFcnJvciIsInN0YXJ0Tm9kZSIsImVuZE5vZGUiLCJwcmV2aW91c0NoaWxkIiwiY2hpbGQiLCJtYXJrZXIiLCJzaGFkb3dSb290Iiwic3R5bGVTdWJ0cmVlIiwic3R5bGVFbGVtZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsU0FBU0EsZ0JBQVQsRUFBMkJDLFFBQTNCLEVBQXFDQyxLQUFyQyxRQUFrRCxVQUFsRDtBQUNBLFNBQVNDLE9BQVQsRUFBa0JDLGNBQWxCLFFBQXdDLFNBQXhDO0FBRUEsT0FBT0MsWUFBUCxNQUF5QixtQkFBekI7QUFDQSxPQUFPQyxlQUFQLE1BQTRCLHNCQUE1QjtBQUVBOztBQUNBLElBQUk7QUFBRUMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVo7QUFBc0IsQ0FBNUIsQ0FBNkIsT0FBTUMsQ0FBTixFQUFTO0FBQUUsTUFBSUgsT0FBTyxHQUFHO0FBQUVDLElBQUFBLEdBQUcsRUFBRTtBQUFFQyxNQUFBQSxRQUFRLEVBQUU7QUFBWjtBQUFQLEdBQWQ7QUFBb0QsQyxDQUFDOzs7QUFFN0YsSUFBTUUsU0FBUyxHQUFHQyxJQUFJLENBQUNDLEdBQUwsRUFBbEI7QUFFQSxPQUFPLElBQU1DLGNBQWMsR0FBRyxTQUFqQkEsY0FBaUI7QUFBQSxNQUFDQyxFQUFELHVFQUFNLENBQU47QUFBQSx1QkFBbUJKLFNBQW5CLGNBQWdDSSxFQUFoQztBQUFBLENBQXZCO0FBRVAsSUFBTUMsdUJBQXVCLEdBQUdGLGNBQWMsQ0FBQyxRQUFELENBQTlDO0FBQ0EsSUFBTUcsd0JBQXdCLEdBQUcsSUFBSUMsTUFBSixZQUFlRix1QkFBZixPQUFqQztBQUNBLElBQU1HLHNCQUFzQixHQUFHLElBQUlELE1BQUosQ0FBV0YsdUJBQVgsRUFBb0MsR0FBcEMsQ0FBL0I7QUFFQSxJQUFNSSxXQUFXLGVBQVFULFNBQVIsT0FBakI7QUFDQSxJQUFNVSxXQUFXLEdBQUcsSUFBSUgsTUFBSixDQUFXRSxXQUFYLEVBQXdCLEdBQXhCLENBQXBCO0FBRUEsSUFBTUUsaUJBQWlCLEdBQUcsSUFBSUMsT0FBSixFQUExQjtBQUVBOztBQUNBLFNBQVNDLGFBQVQsQ0FBdUJDLFFBQXZCLEVBQWlDQyxPQUFqQyxFQUEwQztBQUN4QyxNQUFJLENBQUNBLE9BQUwsRUFBYyxPQUFPRCxRQUFQO0FBRWQsU0FBT3hCLFFBQVEsQ0FBQyxVQUFDMEIsS0FBRCxFQUFXO0FBQ3pCLFFBQUlDLEdBQUcsR0FBR04saUJBQWlCLENBQUNPLEdBQWxCLENBQXNCSixRQUF0QixDQUFWOztBQUNBLFFBQUksQ0FBQ0csR0FBTCxFQUFVO0FBQ1JBLE1BQUFBLEdBQUcsR0FBRyxJQUFJRSxHQUFKLEVBQU47QUFDQVIsTUFBQUEsaUJBQWlCLENBQUNTLEdBQWxCLENBQXNCTixRQUF0QixFQUFnQ0csR0FBaEM7QUFDRDs7QUFFRCxRQUFJSSxLQUFLLEdBQUdKLEdBQUcsQ0FBQ0MsR0FBSixDQUFRSCxPQUFSLENBQVo7O0FBRUEsUUFBSSxDQUFDTSxLQUFMLEVBQVk7QUFDVkEsTUFBQUEsS0FBSyxHQUFHQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsVUFBdkIsQ0FBUjtBQUNBRixNQUFBQSxLQUFLLENBQUNHLE9BQU4sQ0FBY0MsV0FBZCxDQUEwQlgsUUFBUSxDQUFDVSxPQUFULENBQWlCRSxTQUFqQixDQUEyQixJQUEzQixDQUExQjtBQUVBVCxNQUFBQSxHQUFHLENBQUNHLEdBQUosQ0FBUUwsT0FBUixFQUFpQk0sS0FBakI7QUFFQSxVQUFNTSxNQUFNLEdBQUdOLEtBQUssQ0FBQ0csT0FBTixDQUFjSSxnQkFBZCxDQUErQixPQUEvQixDQUFmO0FBRUFDLE1BQUFBLEtBQUssQ0FBQ0MsSUFBTixDQUFXSCxNQUFYLEVBQW1CSSxPQUFuQixDQUEyQixVQUFDQyxLQUFELEVBQVc7QUFDcEMsWUFBTUMsS0FBSyxHQUFHRCxLQUFLLENBQUNFLFVBQU4sQ0FBaUJDLE1BQWpCLEdBQTBCLENBQXhDOztBQUNBLGFBQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0gsS0FBcEIsRUFBMkJHLENBQUMsSUFBSSxDQUFoQyxFQUFtQztBQUNqQ0osVUFBQUEsS0FBSyxDQUFDSyxVQUFOLENBQWlCQyxZQUFqQixDQUE4QmhCLFFBQVEsQ0FBQ2lCLGNBQVQsQ0FBd0JwQyxjQUFjLEVBQXRDLENBQTlCLEVBQXlFNkIsS0FBekU7QUFDRDtBQUNGLE9BTEQ7QUFPQWhCLE1BQUFBLEtBQUssQ0FBQ3dCLGVBQU4sQ0FBc0JuQixLQUF0QixFQUE2Qk4sT0FBTyxDQUFDMEIsV0FBUixFQUE3QjtBQUNEOztBQUNELFdBQU9wQixLQUFQO0FBQ0QsR0EzQmMsRUEyQlpQLFFBM0JZLENBQWY7QUE0QkQ7O0FBRUQsU0FBUzRCLGVBQVQsQ0FBeUJDLEtBQXpCLEVBQWdDaEIsTUFBaEMsRUFBd0M7QUFDdEMsTUFBSWlCLFNBQVMsR0FBR0QsS0FBSyxDQUFDRSxNQUFOLENBQWEsVUFBQ0MsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEtBQVosRUFBc0I7QUFDakQsUUFBSUEsS0FBSyxLQUFLLENBQWQsRUFBaUI7QUFDZixhQUFPRCxJQUFQO0FBQ0Q7O0FBRUQsUUFBSUosS0FBSyxDQUFDTSxLQUFOLENBQVlELEtBQVosRUFBbUJFLElBQW5CLENBQXdCLEVBQXhCLEVBQTRCQyxLQUE1QixDQUFrQyxrREFBbEMsQ0FBSixFQUEyRjtBQUN6Rix1QkFBVUwsR0FBVixpQkFBb0IzQyxjQUFjLENBQUM2QyxLQUFLLEdBQUcsQ0FBVCxDQUFsQyxnQkFBbURELElBQW5EO0FBQ0Q7O0FBQ0QsV0FBT0QsR0FBRyxHQUFHM0MsY0FBYyxDQUFDNkMsS0FBSyxHQUFHLENBQVQsQ0FBcEIsR0FBa0NELElBQXpDO0FBQ0QsR0FUZSxFQVNiLEVBVGEsQ0FBaEI7O0FBV0EsTUFBSXBCLE1BQUosRUFBWTtBQUNWaUIsSUFBQUEsU0FBUyx1QkFBZ0JqQixNQUFNLENBQUN1QixJQUFQLENBQVksZ0JBQVosQ0FBaEIsZUFBVDtBQUNEO0FBRUQ7OztBQUNBLE1BQUkzRCxLQUFKLEVBQVc7QUFDVCxXQUFPcUQsU0FBUyxDQUFDUSxPQUFWLENBQ0wsb0RBREssRUFFTCxVQUFDRCxLQUFEO0FBQUEsdUJBQWMxQyxXQUFkLFNBQTRCMEMsS0FBNUI7QUFBQSxLQUZLLENBQVA7QUFJRDs7QUFFRCxTQUFPUCxTQUFQO0FBQ0Q7O0FBRUQsU0FBU1MsZUFBVCxDQUF5QkMsTUFBekIsRUFBaUM7QUFDL0IsU0FBT0EsTUFBTSxDQUFDRixPQUFQLENBQWUsZ0JBQWYsRUFBaUMsRUFBakMsRUFBcUNHLEtBQXJDLENBQTJDLEdBQTNDLEVBQWdEQyxHQUFoRCxFQUFQO0FBQ0Q7O0FBRUQsU0FBU0MsZUFBVCxDQUF5QkMsUUFBekIsRUFBbUM7QUFDakMsTUFBTUMsUUFBUSxHQUFHckMsUUFBUSxDQUFDc0Msa0JBQVQsQ0FBNEJGLFFBQTVCLEVBQXNDRyxVQUFVLENBQUNDLFlBQWpELEVBQStELElBQS9ELEVBQXFFLEtBQXJFLENBQWpCO0FBQ0EsTUFBSUMsSUFBSixDQUZpQyxDQUdqQzs7QUFDQSxTQUFPQSxJQUFJLEdBQUdKLFFBQVEsQ0FBQ0ssUUFBVCxFQUFkLEVBQW1DO0FBQ2pDLFFBQUkxRCx3QkFBd0IsQ0FBQzJELElBQXpCLENBQThCRixJQUFJLENBQUNHLFdBQW5DLENBQUosRUFBcUQ7QUFDbkRILE1BQUFBLElBQUksQ0FBQzFCLFVBQUwsQ0FBZ0JDLFlBQWhCLENBQTZCaEIsUUFBUSxDQUFDaUIsY0FBVCxDQUF3QndCLElBQUksQ0FBQ0csV0FBN0IsQ0FBN0IsRUFBd0VILElBQXhFO0FBQ0FBLE1BQUFBLElBQUksQ0FBQzFCLFVBQUwsQ0FBZ0I4QixXQUFoQixDQUE0QkosSUFBNUI7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsT0FBTyxTQUFTSyxvQkFBVCxDQUE4QkMsT0FBOUIsRUFBdUM7QUFDNUMsTUFBSU4sSUFBSjtBQUVBLFNBQU87QUFDTCxRQUFJTyxXQUFKLEdBQWtCO0FBQUUsYUFBT1AsSUFBUDtBQUFjLEtBRDdCOztBQUVMQyxJQUFBQSxRQUZLLHNCQUVNO0FBQ1QsVUFBSUQsSUFBSSxLQUFLUSxTQUFiLEVBQXdCO0FBQ3RCUixRQUFBQSxJQUFJLEdBQUdNLE9BQU8sQ0FBQ25DLFVBQVIsQ0FBbUIsQ0FBbkIsQ0FBUDtBQUNELE9BRkQsTUFFTyxJQUFJNkIsSUFBSSxDQUFDN0IsVUFBTCxDQUFnQkMsTUFBcEIsRUFBNEI7QUFDakM0QixRQUFBQSxJQUFJLEdBQUdBLElBQUksQ0FBQzdCLFVBQUwsQ0FBZ0IsQ0FBaEIsQ0FBUDtBQUNELE9BRk0sTUFFQSxJQUFJNkIsSUFBSSxDQUFDUyxXQUFULEVBQXNCO0FBQzNCVCxRQUFBQSxJQUFJLEdBQUdBLElBQUksQ0FBQ1MsV0FBWjtBQUNELE9BRk0sTUFFQTtBQUNMLFlBQUluQyxVQUFVLEdBQUcwQixJQUFJLENBQUMxQixVQUF0QjtBQUNBMEIsUUFBQUEsSUFBSSxHQUFHMUIsVUFBVSxDQUFDbUMsV0FBbEI7O0FBRUEsZUFBTyxDQUFDVCxJQUFELElBQVMxQixVQUFVLEtBQUtnQyxPQUEvQixFQUF3QztBQUN0Q2hDLFVBQUFBLFVBQVUsR0FBR0EsVUFBVSxDQUFDQSxVQUF4QjtBQUNBMEIsVUFBQUEsSUFBSSxHQUFHMUIsVUFBVSxDQUFDbUMsV0FBbEI7QUFDRDtBQUNGOztBQUVELGFBQU8sQ0FBQyxDQUFDVCxJQUFUO0FBQ0Q7QUFwQkksR0FBUDtBQXNCRDs7QUFFRCxTQUFTVSxvQkFBVCxDQUE4QkosT0FBOUIsRUFBdUM7QUFDckMsU0FBTy9DLFFBQVEsQ0FBQ29ELGdCQUFULENBQ0xMLE9BREssRUFFTDtBQUNBUixFQUFBQSxVQUFVLENBQUNjLFlBQVgsR0FBMEJkLFVBQVUsQ0FBQ2UsU0FIaEMsRUFJTCxJQUpLLEVBS0wsS0FMSyxDQUFQO0FBT0Q7QUFFRDs7O0FBQ0EsSUFBTUMsWUFBWSxHQUFHLFFBQU9DLE1BQU0sQ0FBQ0MsUUFBZCxNQUEyQixRQUEzQixJQUF1Q0QsTUFBTSxDQUFDQyxRQUFQLENBQWdCQyxLQUF2RCxHQUErRFosb0JBQS9ELEdBQXNGSyxvQkFBM0c7QUFFQSxJQUFNUSxTQUFTLEdBQUczRCxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBbEI7QUFDQSxPQUFPLFNBQVMyRCxlQUFULENBQXlCQyxRQUF6QixFQUFtQ0MsS0FBbkMsRUFBMEN6RCxNQUExQyxFQUFrRDtBQUN2RCxNQUFNYixRQUFRLEdBQUdRLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixVQUF2QixDQUFqQjtBQUNBLE1BQU1vQixLQUFLLEdBQUcsRUFBZDtBQUVBLE1BQUlDLFNBQVMsR0FBR0YsZUFBZSxDQUFDeUMsUUFBRCxFQUFXeEQsTUFBWCxDQUEvQjtBQUNBLE1BQUl5RCxLQUFKLEVBQVd4QyxTQUFTLGtCQUFXQSxTQUFYLFdBQVQ7QUFFWDs7QUFDQSxNQUFJckQsS0FBSixFQUFXO0FBQ1R1QixJQUFBQSxRQUFRLENBQUN1RSxTQUFULEdBQXFCekMsU0FBckI7QUFDRCxHQUZELE1BRU87QUFDTHFDLElBQUFBLFNBQVMsQ0FBQ0ksU0FBVix1QkFBbUN6QyxTQUFuQztBQUNBOUIsSUFBQUEsUUFBUSxDQUFDVSxPQUFULENBQWlCQyxXQUFqQixDQUE2QndELFNBQVMsQ0FBQ0ssUUFBVixDQUFtQixDQUFuQixFQUFzQjlELE9BQW5EO0FBQ0Q7O0FBRUQsTUFBSTRELEtBQUosRUFBVztBQUNULFFBQU1HLE9BQU8sR0FBR3pFLFFBQVEsQ0FBQ1UsT0FBVCxDQUFpQmdFLFVBQWpDO0FBQ0ExRSxJQUFBQSxRQUFRLENBQUNVLE9BQVQsQ0FBaUIyQyxXQUFqQixDQUE2Qm9CLE9BQTdCO0FBQ0ExRCxJQUFBQSxLQUFLLENBQUNDLElBQU4sQ0FBV3lELE9BQU8sQ0FBQ3JELFVBQW5CLEVBQStCSCxPQUEvQixDQUF1QyxVQUFDZ0MsSUFBRDtBQUFBLGFBQVVqRCxRQUFRLENBQUNVLE9BQVQsQ0FBaUJDLFdBQWpCLENBQTZCc0MsSUFBN0IsQ0FBVjtBQUFBLEtBQXZDO0FBQ0Q7O0FBRUROLEVBQUFBLGVBQWUsQ0FBQzNDLFFBQVEsQ0FBQ1UsT0FBVixDQUFmO0FBRUEsTUFBTWlFLGFBQWEsR0FBR1osWUFBWSxDQUFDL0QsUUFBUSxDQUFDVSxPQUFWLENBQWxDO0FBQ0EsTUFBSWtFLFlBQVksR0FBRyxDQUFuQjs7QUF4QnVEO0FBMkJyRCxRQUFNM0IsSUFBSSxHQUFHMEIsYUFBYSxDQUFDbkIsV0FBM0I7O0FBRUEsUUFBSVAsSUFBSSxDQUFDNEIsUUFBTCxLQUFrQkMsSUFBSSxDQUFDQyxTQUEzQixFQUFzQztBQUNwQyxVQUFNQyxJQUFJLEdBQUcvQixJQUFJLENBQUNHLFdBQWxCOztBQUVBLFVBQUksQ0FBQzRCLElBQUksQ0FBQzNDLEtBQUwsQ0FBVzdDLHdCQUFYLENBQUwsRUFBMkM7QUFDekMsWUFBTXlGLE9BQU8sR0FBR0QsSUFBSSxDQUFDM0MsS0FBTCxDQUFXM0Msc0JBQVgsQ0FBaEI7O0FBQ0EsWUFBSXVGLE9BQUosRUFBYTtBQUNYLGNBQUl6QixXQUFXLEdBQUdQLElBQWxCO0FBQ0FnQyxVQUFBQSxPQUFPLENBQ0psRCxNQURILENBQ1UsVUFBQ0MsR0FBRCxFQUFNa0QsV0FBTixFQUFzQjtBQUFBLGlDQUNMbEQsR0FBRyxDQUFDVSxHQUFKLEdBQVVELEtBQVYsQ0FBZ0J5QyxXQUFoQixDQURLO0FBQUE7QUFBQSxnQkFDckJDLE1BRHFCO0FBQUEsZ0JBQ2JDLElBRGE7O0FBRTVCLGdCQUFJRCxNQUFKLEVBQVluRCxHQUFHLENBQUNxRCxJQUFKLENBQVNGLE1BQVQ7QUFDWm5ELFlBQUFBLEdBQUcsQ0FBQ3FELElBQUosQ0FBU0gsV0FBVDtBQUNBLGdCQUFJRSxJQUFKLEVBQVVwRCxHQUFHLENBQUNxRCxJQUFKLENBQVNELElBQVQ7QUFDVixtQkFBT3BELEdBQVA7QUFDRCxXQVBILEVBT0ssQ0FBQ2dELElBQUQsQ0FQTCxFQVFHL0QsT0FSSCxDQVFXLFVBQUNnQixJQUFELEVBQU9DLEtBQVAsRUFBaUI7QUFDeEIsZ0JBQUlBLEtBQUssS0FBSyxDQUFkLEVBQWlCO0FBQ2ZzQixjQUFBQSxXQUFXLENBQUNKLFdBQVosR0FBMEJuQixJQUExQjtBQUNELGFBRkQsTUFFTztBQUNMdUIsY0FBQUEsV0FBVyxHQUFHQSxXQUFXLENBQUNqQyxVQUFaLENBQ1hDLFlBRFcsQ0FDRWhCLFFBQVEsQ0FBQ2lCLGNBQVQsQ0FBd0JRLElBQXhCLENBREYsRUFDaUN1QixXQUFXLENBQUNFLFdBRDdDLENBQWQ7QUFFRDtBQUNGLFdBZkg7QUFnQkQ7QUFDRjs7QUFFRCxVQUFNNEIsS0FBSyxHQUFHckMsSUFBSSxDQUFDRyxXQUFMLENBQWlCZixLQUFqQixDQUF1QjdDLHdCQUF2QixDQUFkOztBQUNBLFVBQUk4RixLQUFKLEVBQVc7QUFDVDtBQUNBLFlBQUksQ0FBQzdHLEtBQUwsRUFBWXdFLElBQUksQ0FBQ0csV0FBTCxHQUFtQixFQUFuQjtBQUNadkIsUUFBQUEsS0FBSyxDQUFDeUQsS0FBSyxDQUFDLENBQUQsQ0FBTixDQUFMLEdBQWtCLENBQUNWLFlBQUQsRUFBZWhHLFlBQWYsQ0FBbEI7QUFDRDtBQUNGLEtBaENELE1BZ0NPO0FBQ0w7QUFBMkI7QUFDM0IsVUFBSXFFLElBQUksQ0FBQzRCLFFBQUwsS0FBa0JDLElBQUksQ0FBQ1MsWUFBM0IsRUFBeUM7QUFDdkN4RSxRQUFBQSxLQUFLLENBQUNDLElBQU4sQ0FBV2lDLElBQUksQ0FBQ3VDLFVBQWhCLEVBQTRCdkUsT0FBNUIsQ0FBb0MsVUFBQ3dFLElBQUQsRUFBVTtBQUM1QyxjQUFNQyxLQUFLLEdBQUdELElBQUksQ0FBQ0MsS0FBTCxDQUFXQyxJQUFYLEVBQWQ7QUFDQTs7QUFDQSxjQUFNQyxJQUFJLEdBQUduSCxLQUFLLEdBQUdnSCxJQUFJLENBQUNHLElBQUwsQ0FBVXRELE9BQVYsQ0FBa0IzQyxXQUFsQixFQUErQixFQUEvQixDQUFILEdBQXdDOEYsSUFBSSxDQUFDRyxJQUEvRDtBQUNBLGNBQU1OLEtBQUssR0FBR0ksS0FBSyxDQUFDckQsS0FBTixDQUFZN0Msd0JBQVosQ0FBZDs7QUFDQSxjQUFJOEYsS0FBSixFQUFXO0FBQ1QsZ0JBQU1PLFlBQVksR0FBR3RELGVBQWUsQ0FBQzhCLFFBQVEsQ0FBQ2lCLEtBQUssQ0FBQyxDQUFELENBQU4sQ0FBVCxDQUFwQztBQUNBekQsWUFBQUEsS0FBSyxDQUFDeUQsS0FBSyxDQUFDLENBQUQsQ0FBTixDQUFMLEdBQWtCLENBQUNWLFlBQUQsRUFBZS9GLGVBQWUsQ0FBQytHLElBQUQsRUFBT0MsWUFBUCxFQUFxQnZCLEtBQXJCLENBQTlCLENBQWxCO0FBQ0FyQixZQUFBQSxJQUFJLENBQUM2QyxlQUFMLENBQXFCTCxJQUFJLENBQUNHLElBQTFCO0FBQ0QsV0FKRCxNQUlPO0FBQ0wsZ0JBQU1YLFFBQU8sR0FBR1MsS0FBSyxDQUFDckQsS0FBTixDQUFZM0Msc0JBQVosQ0FBaEI7O0FBQ0EsZ0JBQUl1RixRQUFKLEVBQWE7QUFDWCxrQkFBTWMsV0FBVyxtQkFBWUgsSUFBWixDQUFqQjs7QUFFQVgsY0FBQUEsUUFBTyxDQUFDaEUsT0FBUixDQUFnQixVQUFDaUUsV0FBRCxFQUFjaEQsS0FBZCxFQUF3QjtBQUFBLHlDQUN2QmdELFdBQVcsQ0FBQzdDLEtBQVosQ0FBa0I3Qyx3QkFBbEIsQ0FEdUI7QUFBQTtBQUFBLG9CQUM3QkYsRUFENkI7O0FBRXRDdUMsZ0JBQUFBLEtBQUssQ0FBQ3ZDLEVBQUQsQ0FBTCxHQUFZLENBQUNzRixZQUFELEVBQWUsVUFBQ29CLElBQUQsRUFBT0MsTUFBUCxFQUFlQyxTQUFmLEVBQTZCO0FBQ3RELHNCQUFNQyxJQUFJLEdBQUd6SCxPQUFPLENBQUMwQixHQUFSLENBQVk2RixNQUFaLEVBQW9CLEVBQXBCLENBQWI7QUFDQUUsa0JBQUFBLElBQUksQ0FBQ0osV0FBRCxDQUFKLEdBQW9CLENBQUNJLElBQUksQ0FBQ0osV0FBRCxDQUFKLElBQXFCTCxLQUF0QixFQUE2QnBELE9BQTdCLENBQXFDNEMsV0FBckMsRUFBa0RnQixTQUFTLElBQUksSUFBYixHQUFvQixFQUFwQixHQUF5QkEsU0FBM0UsQ0FBcEI7O0FBRUEsc0JBQUtqQixRQUFPLENBQUM1RCxNQUFSLEtBQW1CLENBQXBCLElBQTJCYSxLQUFLLEdBQUcsQ0FBUixLQUFjK0MsUUFBTyxDQUFDNUQsTUFBckQsRUFBOEQ7QUFDNUQ0RSxvQkFBQUEsTUFBTSxDQUFDRyxZQUFQLENBQW9CUixJQUFwQixFQUEwQk8sSUFBSSxDQUFDSixXQUFELENBQTlCO0FBQ0FJLG9CQUFBQSxJQUFJLENBQUNKLFdBQUQsQ0FBSixHQUFvQnRDLFNBQXBCO0FBQ0Q7QUFDRixpQkFSVyxDQUFaO0FBU0QsZUFYRDs7QUFhQWdDLGNBQUFBLElBQUksQ0FBQ0MsS0FBTCxHQUFhLEVBQWI7QUFFQTs7QUFDQSxrQkFBSWpILEtBQUssSUFBSW1ILElBQUksS0FBS0gsSUFBSSxDQUFDRyxJQUEzQixFQUFpQztBQUMvQjNDLGdCQUFBQSxJQUFJLENBQUM2QyxlQUFMLENBQXFCTCxJQUFJLENBQUNHLElBQTFCO0FBQ0EzQyxnQkFBQUEsSUFBSSxDQUFDbUQsWUFBTCxDQUFrQlIsSUFBbEIsRUFBd0IsRUFBeEI7QUFDRDtBQUNGO0FBQ0Y7QUFDRixTQXBDRDtBQXFDRDtBQUNGOztBQUVEaEIsSUFBQUEsWUFBWSxJQUFJLENBQWhCO0FBeEdxRDs7QUEwQnZELFNBQU9ELGFBQWEsQ0FBQ3pCLFFBQWQsRUFBUCxFQUFpQztBQUFBO0FBK0VoQzs7QUFFRCxTQUFPLFNBQVNtRCxzQkFBVCxDQUFnQ0wsSUFBaEMsRUFBc0NDLE1BQXRDLEVBQThDSyxJQUE5QyxFQUFvRDtBQUN6RCxRQUFNSCxJQUFJLEdBQUd6SCxPQUFPLENBQUMwQixHQUFSLENBQVk2RixNQUFaLEVBQW9CO0FBQUVNLE1BQUFBLElBQUksRUFBRTtBQUFSLEtBQXBCLENBQWI7O0FBRUEsUUFBSXZHLFFBQVEsS0FBS21HLElBQUksQ0FBQ25HLFFBQXRCLEVBQWdDO0FBQzlCLFVBQUltRyxJQUFJLENBQUNuRyxRQUFMLElBQWlCaUcsTUFBTSxDQUFDcEIsUUFBUCxLQUFvQkMsSUFBSSxDQUFDUyxZQUE5QyxFQUE0RDVHLGNBQWMsQ0FBQ3NILE1BQUQsQ0FBZDtBQUM1REUsTUFBQUEsSUFBSSxDQUFDSyxRQUFMLEdBQWdCLElBQWhCO0FBRUEsVUFBTTVELFFBQVEsR0FBR3BDLFFBQVEsQ0FBQ2lHLFVBQVQsQ0FBb0IxRyxhQUFhLENBQUNDLFFBQUQsRUFBV2dHLElBQUksQ0FBQy9GLE9BQWhCLENBQWIsQ0FBc0NTLE9BQTFELEVBQW1FLElBQW5FLENBQWpCO0FBRUEsVUFBTWdHLFlBQVksR0FBRzNDLFlBQVksQ0FBQ25CLFFBQUQsQ0FBakM7QUFDQSxVQUFNK0QsV0FBVyxHQUFHOUUsS0FBSyxDQUFDTSxLQUFOLENBQVksQ0FBWixDQUFwQjtBQUVBLFVBQUl5RSxXQUFXLEdBQUcsQ0FBbEI7QUFDQSxVQUFJQyxXQUFXLEdBQUdGLFdBQVcsQ0FBQ0csS0FBWixFQUFsQjtBQUVBLFVBQU1DLE9BQU8sR0FBRyxFQUFoQjtBQUVBWixNQUFBQSxJQUFJLENBQUNuRyxRQUFMLEdBQWdCQSxRQUFoQjtBQUNBbUcsTUFBQUEsSUFBSSxDQUFDWSxPQUFMLEdBQWVBLE9BQWY7O0FBRUEsYUFBT0wsWUFBWSxDQUFDeEQsUUFBYixFQUFQLEVBQWdDO0FBQzlCLFlBQU1ELElBQUksR0FBR3lELFlBQVksQ0FBQ2xELFdBQTFCOztBQUVBLFlBQUlQLElBQUksQ0FBQzRCLFFBQUwsS0FBa0JDLElBQUksQ0FBQ0MsU0FBM0IsRUFBc0M7QUFDcEM7QUFDQSxjQUFJdkYsd0JBQXdCLENBQUMyRCxJQUF6QixDQUE4QkYsSUFBSSxDQUFDRyxXQUFuQyxDQUFKLEVBQXFEO0FBQ25ESCxZQUFBQSxJQUFJLENBQUNHLFdBQUwsR0FBbUIsRUFBbkI7QUFDRCxXQUZELE1BRU8sSUFBSTNFLEtBQUosRUFBVztBQUNoQndFLFlBQUFBLElBQUksQ0FBQ0csV0FBTCxHQUFtQkgsSUFBSSxDQUFDRyxXQUFMLENBQWlCZCxPQUFqQixDQUF5QjFDLFdBQXpCLEVBQXNDLEVBQXRDLENBQW5CO0FBQ0Q7QUFDRixTQVBELE1BT08sSUFBSWQsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBekIsSUFBeUNpRSxJQUFJLENBQUM0QixRQUFMLEtBQWtCQyxJQUFJLENBQUNTLFlBQXBFLEVBQWtGO0FBQ3ZGLGNBQUl0QyxJQUFJLENBQUNoRCxPQUFMLENBQWErRyxPQUFiLENBQXFCLEdBQXJCLElBQTRCLENBQUMsQ0FBN0IsSUFBa0MsQ0FBQ0MsY0FBYyxDQUFDN0csR0FBZixDQUFtQjZDLElBQUksQ0FBQ2hELE9BQUwsQ0FBYTBCLFdBQWIsRUFBbkIsQ0FBdkMsRUFBdUY7QUFDckYsa0JBQU11RixLQUFLLG9CQUFhM0ksZ0JBQWdCLENBQUMwRSxJQUFELENBQTdCLHNDQUErRDFFLGdCQUFnQixDQUFDeUgsSUFBRCxDQUEvRSxPQUFYO0FBQ0Q7QUFDRjs7QUFFRCxlQUFPYSxXQUFXLElBQUlBLFdBQVcsQ0FBQyxDQUFELENBQVgsS0FBbUJELFdBQXpDLEVBQXNEO0FBQ3BERyxVQUFBQSxPQUFPLENBQUMxQixJQUFSLENBQWEsQ0FBQ3BDLElBQUQsRUFBTzRELFdBQVcsQ0FBQyxDQUFELENBQWxCLENBQWI7QUFDQUEsVUFBQUEsV0FBVyxHQUFHRixXQUFXLENBQUNHLEtBQVosRUFBZDtBQUNEOztBQUVERixRQUFBQSxXQUFXLElBQUksQ0FBZjtBQUNEOztBQUVELFVBQUlYLE1BQU0sQ0FBQ3BCLFFBQVAsS0FBb0JDLElBQUksQ0FBQ0MsU0FBN0IsRUFBd0M7QUFDdENvQixRQUFBQSxJQUFJLENBQUNnQixTQUFMLEdBQWlCdkUsUUFBUSxDQUFDeEIsVUFBVCxDQUFvQixDQUFwQixDQUFqQjtBQUNBK0UsUUFBQUEsSUFBSSxDQUFDaUIsT0FBTCxHQUFleEUsUUFBUSxDQUFDeEIsVUFBVCxDQUFvQndCLFFBQVEsQ0FBQ3hCLFVBQVQsQ0FBb0JDLE1BQXBCLEdBQTZCLENBQWpELENBQWY7QUFFQSxZQUFJZ0csYUFBYSxHQUFHcEIsTUFBcEI7QUFFQSxZQUFJcUIsS0FBSyxHQUFHMUUsUUFBUSxDQUFDeEIsVUFBVCxDQUFvQixDQUFwQixDQUFaOztBQUNBLGVBQU9rRyxLQUFQLEVBQWM7QUFDWnJCLFVBQUFBLE1BQU0sQ0FBQzFFLFVBQVAsQ0FBa0JDLFlBQWxCLENBQStCOEYsS0FBL0IsRUFBc0NELGFBQWEsQ0FBQzNELFdBQXBEO0FBQ0EyRCxVQUFBQSxhQUFhLEdBQUdDLEtBQWhCO0FBQ0FBLFVBQUFBLEtBQUssR0FBRzFFLFFBQVEsQ0FBQ3hCLFVBQVQsQ0FBb0IsQ0FBcEIsQ0FBUjtBQUNEO0FBQ0YsT0FaRCxNQVlPO0FBQ0w2RSxRQUFBQSxNQUFNLENBQUN0RixXQUFQLENBQW1CaUMsUUFBbkI7QUFDRDtBQUNGOztBQUVELFFBQU00RCxRQUFRLEdBQUdMLElBQUksQ0FBQ0ssUUFBdEI7QUFDQUwsSUFBQUEsSUFBSSxDQUFDSyxRQUFMLEdBQWdCRixJQUFoQjs7QUFFQSxTQUFLLElBQUlwRSxLQUFLLEdBQUcsQ0FBakIsRUFBb0JBLEtBQUssR0FBR2lFLElBQUksQ0FBQ1ksT0FBTCxDQUFhMUYsTUFBekMsRUFBaURhLEtBQUssSUFBSSxDQUExRCxFQUE2RDtBQUFBLCtDQUNwQ2lFLElBQUksQ0FBQ1ksT0FBTCxDQUFhN0UsS0FBYixDQURvQztBQUFBLFVBQ3BEZSxLQURvRDtBQUFBLFVBQzlDc0UsTUFEOEM7O0FBRTNELFVBQUksQ0FBQ2YsUUFBRCxJQUFhQSxRQUFRLENBQUN0RSxLQUFELENBQVIsS0FBb0JvRSxJQUFJLENBQUNwRSxLQUFELENBQXpDLEVBQWtEO0FBQ2hEcUYsUUFBQUEsTUFBTSxDQUFDdkIsSUFBRCxFQUFPL0MsS0FBUCxFQUFhcUQsSUFBSSxDQUFDcEUsS0FBRCxDQUFqQixFQUEwQnNFLFFBQVEsR0FBR0EsUUFBUSxDQUFDdEUsS0FBRCxDQUFYLEdBQXFCdUIsU0FBdkQsQ0FBTjtBQUNEO0FBQ0Y7O0FBRUQsUUFBSXdDLE1BQU0sQ0FBQ3BCLFFBQVAsS0FBb0JDLElBQUksQ0FBQ0MsU0FBN0IsRUFBd0M7QUFDdEN2RyxNQUFBQSxRQUFRLENBQUMsVUFBQzBCLEtBQUQsRUFBVztBQUNsQixZQUFJOEYsSUFBSSxDQUFDd0IsVUFBVCxFQUFxQjtBQUNuQixjQUFJaEIsUUFBSixFQUFjO0FBQ1p0RyxZQUFBQSxLQUFLLENBQUN1SCxZQUFOLENBQW1CekIsSUFBbkI7QUFDRCxXQUZELE1BRU87QUFDTDlGLFlBQUFBLEtBQUssQ0FBQ3dILFlBQU4sQ0FBbUIxQixJQUFuQjtBQUNEO0FBQ0Y7QUFDRixPQVJPLENBQVI7QUFTRDtBQUNGLEdBbEZEO0FBbUZEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RyaW5naWZ5RWxlbWVudCwgc2hhZHlDU1MsIElTX0lFIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgZGF0YU1hcCwgcmVtb3ZlVGVtcGxhdGUgfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHJlc29sdmVWYWx1ZSBmcm9tICcuL3Jlc29sdmVycy92YWx1ZSc7XG5pbXBvcnQgcmVzb2x2ZVByb3BlcnR5IGZyb20gJy4vcmVzb2x2ZXJzL3Byb3BlcnR5JztcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbnRyeSB7IHByb2Nlc3MuZW52Lk5PREVfRU5WIH0gY2F0Y2goZSkgeyB2YXIgcHJvY2VzcyA9IHsgZW52OiB7IE5PREVfRU5WOiAncHJvZHVjdGlvbicgfSB9OyB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuY29uc3QgVElNRVNUQU1QID0gRGF0ZS5ub3coKTtcblxuZXhwb3J0IGNvbnN0IGdldFBsYWNlaG9sZGVyID0gKGlkID0gMCkgPT4gYHt7aC0ke1RJTUVTVEFNUH0tJHtpZH19fWA7XG5cbmNvbnN0IFBMQUNFSE9MREVSX1JFR0VYUF9URVhUID0gZ2V0UGxhY2Vob2xkZXIoJyhcXFxcZCspJyk7XG5jb25zdCBQTEFDRUhPTERFUl9SRUdFWFBfRVFVQUwgPSBuZXcgUmVnRXhwKGBeJHtQTEFDRUhPTERFUl9SRUdFWFBfVEVYVH0kYCk7XG5jb25zdCBQTEFDRUhPTERFUl9SRUdFWFBfQUxMID0gbmV3IFJlZ0V4cChQTEFDRUhPTERFUl9SRUdFWFBfVEVYVCwgJ2cnKTtcblxuY29uc3QgQVRUUl9QUkVGSVggPSBgLS0ke1RJTUVTVEFNUH0tLWA7XG5jb25zdCBBVFRSX1JFR0VYUCA9IG5ldyBSZWdFeHAoQVRUUl9QUkVGSVgsICdnJyk7XG5cbmNvbnN0IHByZXBhcmVkVGVtcGxhdGVzID0gbmV3IFdlYWtNYXAoKTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGFwcGx5U2hhZHlDU1ModGVtcGxhdGUsIHRhZ05hbWUpIHtcbiAgaWYgKCF0YWdOYW1lKSByZXR1cm4gdGVtcGxhdGU7XG5cbiAgcmV0dXJuIHNoYWR5Q1NTKChzaGFkeSkgPT4ge1xuICAgIGxldCBtYXAgPSBwcmVwYXJlZFRlbXBsYXRlcy5nZXQodGVtcGxhdGUpO1xuICAgIGlmICghbWFwKSB7XG4gICAgICBtYXAgPSBuZXcgTWFwKCk7XG4gICAgICBwcmVwYXJlZFRlbXBsYXRlcy5zZXQodGVtcGxhdGUsIG1hcCk7XG4gICAgfVxuXG4gICAgbGV0IGNsb25lID0gbWFwLmdldCh0YWdOYW1lKTtcblxuICAgIGlmICghY2xvbmUpIHtcbiAgICAgIGNsb25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgICAgIGNsb25lLmNvbnRlbnQuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gICAgICBtYXAuc2V0KHRhZ05hbWUsIGNsb25lKTtcblxuICAgICAgY29uc3Qgc3R5bGVzID0gY2xvbmUuY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpO1xuXG4gICAgICBBcnJheS5mcm9tKHN0eWxlcykuZm9yRWFjaCgoc3R5bGUpID0+IHtcbiAgICAgICAgY29uc3QgY291bnQgPSBzdHlsZS5jaGlsZE5vZGVzLmxlbmd0aCArIDE7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkgKz0gMSkge1xuICAgICAgICAgIHN0eWxlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGdldFBsYWNlaG9sZGVyKCkpLCBzdHlsZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzaGFkeS5wcmVwYXJlVGVtcGxhdGUoY2xvbmUsIHRhZ05hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgfVxuICAgIHJldHVybiBjbG9uZTtcbiAgfSwgdGVtcGxhdGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTaWduYXR1cmUocGFydHMsIHN0eWxlcykge1xuICBsZXQgc2lnbmF0dXJlID0gcGFydHMucmVkdWNlKChhY2MsIHBhcnQsIGluZGV4KSA9PiB7XG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICByZXR1cm4gcGFydDtcbiAgICB9XG5cbiAgICBpZiAocGFydHMuc2xpY2UoaW5kZXgpLmpvaW4oJycpLm1hdGNoKC9eXFxzKjxcXC9cXHMqKHRhYmxlfHRyfHRoZWFkfHRib2R5fHRmb290fGNvbGdyb3VwKT4vKSkge1xuICAgICAgcmV0dXJuIGAke2FjY308IS0tJHtnZXRQbGFjZWhvbGRlcihpbmRleCAtIDEpfS0tPiR7cGFydH1gO1xuICAgIH1cbiAgICByZXR1cm4gYWNjICsgZ2V0UGxhY2Vob2xkZXIoaW5kZXggLSAxKSArIHBhcnQ7XG4gIH0sICcnKTtcblxuICBpZiAoc3R5bGVzKSB7XG4gICAgc2lnbmF0dXJlICs9IGA8c3R5bGU+XFxuJHtzdHlsZXMuam9pbignXFxuLyotLS0tLS0qL1xcbicpfVxcbjwvc3R5bGU+YDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoSVNfSUUpIHtcbiAgICByZXR1cm4gc2lnbmF0dXJlLnJlcGxhY2UoXG4gICAgICAvc3R5bGVcXHMqPVxccyooW1wiXVteXCJdK1tcIl18WyddW14nXStbJ118W15cXHNcIic8Pi9dKykvZyxcbiAgICAgIChtYXRjaCkgPT4gYCR7QVRUUl9QUkVGSVh9JHttYXRjaH1gLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gc2lnbmF0dXJlO1xufVxuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eU5hbWUoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZSgvXFxzKj1cXHMqWydcIl0qJC9nLCAnJykuc3BsaXQoJyAnKS5wb3AoKTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZUNvbW1lbnRzKGZyYWdtZW50KSB7XG4gIGNvbnN0IGl0ZXJhdG9yID0gZG9jdW1lbnQuY3JlYXRlTm9kZUl0ZXJhdG9yKGZyYWdtZW50LCBOb2RlRmlsdGVyLlNIT1dfQ09NTUVOVCwgbnVsbCwgZmFsc2UpO1xuICBsZXQgbm9kZTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbmQtYXNzaWduXG4gIHdoaWxlIChub2RlID0gaXRlcmF0b3IubmV4dE5vZGUoKSkge1xuICAgIGlmIChQTEFDRUhPTERFUl9SRUdFWFBfRVFVQUwudGVzdChub2RlLnRleHRDb250ZW50KSkge1xuICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLnRleHRDb250ZW50KSwgbm9kZSk7XG4gICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnRlcm5hbFdhbGtlcihjb250ZXh0KSB7XG4gIGxldCBub2RlO1xuXG4gIHJldHVybiB7XG4gICAgZ2V0IGN1cnJlbnROb2RlKCkgeyByZXR1cm4gbm9kZTsgfSxcbiAgICBuZXh0Tm9kZSgpIHtcbiAgICAgIGlmIChub2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZSA9IGNvbnRleHQuY2hpbGROb2Rlc1swXTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzWzBdO1xuICAgICAgfSBlbHNlIGlmIChub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIG5vZGUgPSBwYXJlbnROb2RlLm5leHRTaWJsaW5nO1xuXG4gICAgICAgIHdoaWxlICghbm9kZSAmJiBwYXJlbnROb2RlICE9PSBjb250ZXh0KSB7XG4gICAgICAgICAgcGFyZW50Tm9kZSA9IHBhcmVudE5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICBub2RlID0gcGFyZW50Tm9kZS5uZXh0U2libGluZztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gISFub2RlO1xuICAgIH0sXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUV4dGVybmFsV2Fsa2VyKGNvbnRleHQpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoXG4gICAgY29udGV4dCxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgIE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5UIHwgTm9kZUZpbHRlci5TSE9XX1RFWFQsXG4gICAgbnVsbCxcbiAgICBmYWxzZSxcbiAgKTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmNvbnN0IGNyZWF0ZVdhbGtlciA9IHR5cGVvZiB3aW5kb3cuU2hhZHlET00gPT09ICdvYmplY3QnICYmIHdpbmRvdy5TaGFkeURPTS5pblVzZSA/IGNyZWF0ZUludGVybmFsV2Fsa2VyIDogY3JlYXRlRXh0ZXJuYWxXYWxrZXI7XG5cbmNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBpbGVUZW1wbGF0ZShyYXdQYXJ0cywgaXNTVkcsIHN0eWxlcykge1xuICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gIGNvbnN0IHBhcnRzID0gW107XG5cbiAgbGV0IHNpZ25hdHVyZSA9IGNyZWF0ZVNpZ25hdHVyZShyYXdQYXJ0cywgc3R5bGVzKTtcbiAgaWYgKGlzU1ZHKSBzaWduYXR1cmUgPSBgPHN2Zz4ke3NpZ25hdHVyZX08L3N2Zz5gO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoSVNfSUUpIHtcbiAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBzaWduYXR1cmU7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IGA8dGVtcGxhdGU+JHtzaWduYXR1cmV9PC90ZW1wbGF0ZT5gO1xuICAgIHRlbXBsYXRlLmNvbnRlbnQuYXBwZW5kQ2hpbGQoY29udGFpbmVyLmNoaWxkcmVuWzBdLmNvbnRlbnQpO1xuICB9XG5cbiAgaWYgKGlzU1ZHKSB7XG4gICAgY29uc3Qgc3ZnUm9vdCA9IHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICB0ZW1wbGF0ZS5jb250ZW50LnJlbW92ZUNoaWxkKHN2Z1Jvb3QpO1xuICAgIEFycmF5LmZyb20oc3ZnUm9vdC5jaGlsZE5vZGVzKS5mb3JFYWNoKChub2RlKSA9PiB0ZW1wbGF0ZS5jb250ZW50LmFwcGVuZENoaWxkKG5vZGUpKTtcbiAgfVxuXG4gIHJlcGxhY2VDb21tZW50cyh0ZW1wbGF0ZS5jb250ZW50KTtcblxuICBjb25zdCBjb21waWxlV2Fsa2VyID0gY3JlYXRlV2Fsa2VyKHRlbXBsYXRlLmNvbnRlbnQpO1xuICBsZXQgY29tcGlsZUluZGV4ID0gMDtcblxuICB3aGlsZSAoY29tcGlsZVdhbGtlci5uZXh0Tm9kZSgpKSB7XG4gICAgY29uc3Qgbm9kZSA9IGNvbXBpbGVXYWxrZXIuY3VycmVudE5vZGU7XG5cbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgIGNvbnN0IHRleHQgPSBub2RlLnRleHRDb250ZW50O1xuXG4gICAgICBpZiAoIXRleHQubWF0Y2goUExBQ0VIT0xERVJfUkVHRVhQX0VRVUFMKSkge1xuICAgICAgICBjb25zdCByZXN1bHRzID0gdGV4dC5tYXRjaChQTEFDRUhPTERFUl9SRUdFWFBfQUxMKTtcbiAgICAgICAgaWYgKHJlc3VsdHMpIHtcbiAgICAgICAgICBsZXQgY3VycmVudE5vZGUgPSBub2RlO1xuICAgICAgICAgIHJlc3VsdHNcbiAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgcGxhY2Vob2xkZXIpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgW2JlZm9yZSwgbmV4dF0gPSBhY2MucG9wKCkuc3BsaXQocGxhY2Vob2xkZXIpO1xuICAgICAgICAgICAgICBpZiAoYmVmb3JlKSBhY2MucHVzaChiZWZvcmUpO1xuICAgICAgICAgICAgICBhY2MucHVzaChwbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgIGlmIChuZXh0KSBhY2MucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIFt0ZXh0XSlcbiAgICAgICAgICAgIC5mb3JFYWNoKChwYXJ0LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Tm9kZS50ZXh0Q29udGVudCA9IHBhcnQ7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VycmVudE5vZGUgPSBjdXJyZW50Tm9kZS5wYXJlbnROb2RlXG4gICAgICAgICAgICAgICAgICAuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBhcnQpLCBjdXJyZW50Tm9kZS5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVxdWFsID0gbm9kZS50ZXh0Q29udGVudC5tYXRjaChQTEFDRUhPTERFUl9SRUdFWFBfRVFVQUwpO1xuICAgICAgaWYgKGVxdWFsKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmICghSVNfSUUpIG5vZGUudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgcGFydHNbZXF1YWxbMV1dID0gW2NvbXBpbGVJbmRleCwgcmVzb2x2ZVZhbHVlXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvbmVseS1pZlxuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIEFycmF5LmZyb20obm9kZS5hdHRyaWJ1dGVzKS5mb3JFYWNoKChhdHRyKSA9PiB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyLnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIGNvbnN0IG5hbWUgPSBJU19JRSA/IGF0dHIubmFtZS5yZXBsYWNlKEFUVFJfUFJFRklYLCAnJykgOiBhdHRyLm5hbWU7XG4gICAgICAgICAgY29uc3QgZXF1YWwgPSB2YWx1ZS5tYXRjaChQTEFDRUhPTERFUl9SRUdFWFBfRVFVQUwpO1xuICAgICAgICAgIGlmIChlcXVhbCkge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0gZ2V0UHJvcGVydHlOYW1lKHJhd1BhcnRzW2VxdWFsWzFdXSk7XG4gICAgICAgICAgICBwYXJ0c1tlcXVhbFsxXV0gPSBbY29tcGlsZUluZGV4LCByZXNvbHZlUHJvcGVydHkobmFtZSwgcHJvcGVydHlOYW1lLCBpc1NWRyldO1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0ci5uYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IHZhbHVlLm1hdGNoKFBMQUNFSE9MREVSX1JFR0VYUF9BTEwpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgY29uc3QgcGFydGlhbE5hbWUgPSBgYXR0cl9fJHtuYW1lfWA7XG5cbiAgICAgICAgICAgICAgcmVzdWx0cy5mb3JFYWNoKChwbGFjZWhvbGRlciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbLCBpZF0gPSBwbGFjZWhvbGRlci5tYXRjaChQTEFDRUhPTERFUl9SRUdFWFBfRVFVQUwpO1xuICAgICAgICAgICAgICAgIHBhcnRzW2lkXSA9IFtjb21waWxlSW5kZXgsIChob3N0LCB0YXJnZXQsIGF0dHJWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRhdGFNYXAuZ2V0KHRhcmdldCwge30pO1xuICAgICAgICAgICAgICAgICAgZGF0YVtwYXJ0aWFsTmFtZV0gPSAoZGF0YVtwYXJ0aWFsTmFtZV0gfHwgdmFsdWUpLnJlcGxhY2UocGxhY2Vob2xkZXIsIGF0dHJWYWx1ZSA9PSBudWxsID8gJycgOiBhdHRyVmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoKHJlc3VsdHMubGVuZ3RoID09PSAxKSB8fCAoaW5kZXggKyAxID09PSByZXN1bHRzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZShuYW1lLCBkYXRhW3BhcnRpYWxOYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbcGFydGlhbE5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBhdHRyLnZhbHVlID0gJyc7XG5cbiAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgaWYgKElTX0lFICYmIG5hbWUgIT09IGF0dHIubmFtZSkge1xuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHIubmFtZSk7XG4gICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgJycpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb21waWxlSW5kZXggKz0gMTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVUZW1wbGF0ZUluc3RhbmNlKGhvc3QsIHRhcmdldCwgYXJncykge1xuICAgIGNvbnN0IGRhdGEgPSBkYXRhTWFwLmdldCh0YXJnZXQsIHsgdHlwZTogJ2Z1bmN0aW9uJyB9KTtcblxuICAgIGlmICh0ZW1wbGF0ZSAhPT0gZGF0YS50ZW1wbGF0ZSkge1xuICAgICAgaWYgKGRhdGEudGVtcGxhdGUgfHwgdGFyZ2V0Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkgcmVtb3ZlVGVtcGxhdGUodGFyZ2V0KTtcbiAgICAgIGRhdGEucHJldkFyZ3MgPSBudWxsO1xuXG4gICAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmltcG9ydE5vZGUoYXBwbHlTaGFkeUNTUyh0ZW1wbGF0ZSwgaG9zdC50YWdOYW1lKS5jb250ZW50LCB0cnVlKTtcblxuICAgICAgY29uc3QgcmVuZGVyV2Fsa2VyID0gY3JlYXRlV2Fsa2VyKGZyYWdtZW50KTtcbiAgICAgIGNvbnN0IGNsb25lZFBhcnRzID0gcGFydHMuc2xpY2UoMCk7XG5cbiAgICAgIGxldCByZW5kZXJJbmRleCA9IDA7XG4gICAgICBsZXQgY3VycmVudFBhcnQgPSBjbG9uZWRQYXJ0cy5zaGlmdCgpO1xuXG4gICAgICBjb25zdCBtYXJrZXJzID0gW107XG5cbiAgICAgIGRhdGEudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgIGRhdGEubWFya2VycyA9IG1hcmtlcnM7XG5cbiAgICAgIHdoaWxlIChyZW5kZXJXYWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICBjb25zdCBub2RlID0gcmVuZGVyV2Fsa2VyLmN1cnJlbnROb2RlO1xuXG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgaWYgKFBMQUNFSE9MREVSX1JFR0VYUF9FUVVBTC50ZXN0KG5vZGUudGV4dENvbnRlbnQpKSB7XG4gICAgICAgICAgICBub2RlLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgICAgfSBlbHNlIGlmIChJU19JRSkge1xuICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IG5vZGUudGV4dENvbnRlbnQucmVwbGFjZShBVFRSX1JFR0VYUCwgJycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgaWYgKG5vZGUudGFnTmFtZS5pbmRleE9mKCctJykgPiAtMSAmJiAhY3VzdG9tRWxlbWVudHMuZ2V0KG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYE1pc3NpbmcgJyR7c3RyaW5naWZ5RWxlbWVudChub2RlKX0nIGVsZW1lbnQgZGVmaW5pdGlvbiBpbiAnJHtzdHJpbmdpZnlFbGVtZW50KGhvc3QpfSdgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAoY3VycmVudFBhcnQgJiYgY3VycmVudFBhcnRbMF0gPT09IHJlbmRlckluZGV4KSB7XG4gICAgICAgICAgbWFya2Vycy5wdXNoKFtub2RlLCBjdXJyZW50UGFydFsxXV0pO1xuICAgICAgICAgIGN1cnJlbnRQYXJ0ID0gY2xvbmVkUGFydHMuc2hpZnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlckluZGV4ICs9IDE7XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICAgIGRhdGEuc3RhcnROb2RlID0gZnJhZ21lbnQuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgZGF0YS5lbmROb2RlID0gZnJhZ21lbnQuY2hpbGROb2Rlc1tmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGxldCBwcmV2aW91c0NoaWxkID0gdGFyZ2V0O1xuXG4gICAgICAgIGxldCBjaGlsZCA9IGZyYWdtZW50LmNoaWxkTm9kZXNbMF07XG4gICAgICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgICAgIHRhcmdldC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjaGlsZCwgcHJldmlvdXNDaGlsZC5uZXh0U2libGluZyk7XG4gICAgICAgICAgcHJldmlvdXNDaGlsZCA9IGNoaWxkO1xuICAgICAgICAgIGNoaWxkID0gZnJhZ21lbnQuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwcmV2QXJncyA9IGRhdGEucHJldkFyZ3M7XG4gICAgZGF0YS5wcmV2QXJncyA9IGFyZ3M7XG5cbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZGF0YS5tYXJrZXJzLmxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgICAgY29uc3QgW25vZGUsIG1hcmtlcl0gPSBkYXRhLm1hcmtlcnNbaW5kZXhdO1xuICAgICAgaWYgKCFwcmV2QXJncyB8fCBwcmV2QXJnc1tpbmRleF0gIT09IGFyZ3NbaW5kZXhdKSB7XG4gICAgICAgIG1hcmtlcihob3N0LCBub2RlLCBhcmdzW2luZGV4XSwgcHJldkFyZ3MgPyBwcmV2QXJnc1tpbmRleF0gOiB1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT09IE5vZGUuVEVYVF9OT0RFKSB7XG4gICAgICBzaGFkeUNTUygoc2hhZHkpID0+IHtcbiAgICAgICAgaWYgKGhvc3Quc2hhZG93Um9vdCkge1xuICAgICAgICAgIGlmIChwcmV2QXJncykge1xuICAgICAgICAgICAgc2hhZHkuc3R5bGVTdWJ0cmVlKGhvc3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaGFkeS5zdHlsZUVsZW1lbnQoaG9zdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG4iXX0=","var setCache = new Map();\nexport function set(propertyName, value) {\n  if (!propertyName) throw Error(\"Target property name missing: \".concat(propertyName));\n\n  if (arguments.length === 2) {\n    return function (host) {\n      host[propertyName] = value;\n    };\n  }\n\n  var fn = setCache.get(propertyName);\n\n  if (!fn) {\n    fn = function fn(host, _ref) {\n      var target = _ref.target;\n      host[propertyName] = target.value;\n    };\n\n    setCache.set(propertyName, fn);\n  }\n\n  return fn;\n}\nvar promiseMap = new WeakMap();\nexport function resolve(promise, placeholder) {\n  var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 200;\n  return function (host, target) {\n    var timeout;\n\n    if (placeholder) {\n      timeout = setTimeout(function () {\n        timeout = undefined;\n        requestAnimationFrame(function () {\n          placeholder(host, target);\n        });\n      }, delay);\n    }\n\n    promiseMap.set(target, promise);\n    promise.then(function (template) {\n      if (timeout) clearTimeout(timeout);\n\n      if (promiseMap.get(target) === promise) {\n        template(host, target);\n        promiseMap.set(target, null);\n      }\n    });\n  };\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZW1wbGF0ZS9oZWxwZXJzLmpzIl0sIm5hbWVzIjpbInNldENhY2hlIiwiTWFwIiwic2V0IiwicHJvcGVydHlOYW1lIiwidmFsdWUiLCJFcnJvciIsImFyZ3VtZW50cyIsImxlbmd0aCIsImhvc3QiLCJmbiIsImdldCIsInRhcmdldCIsInByb21pc2VNYXAiLCJXZWFrTWFwIiwicmVzb2x2ZSIsInByb21pc2UiLCJwbGFjZWhvbGRlciIsImRlbGF5IiwidGltZW91dCIsInNldFRpbWVvdXQiLCJ1bmRlZmluZWQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aGVuIiwidGVtcGxhdGUiLCJjbGVhclRpbWVvdXQiXSwibWFwcGluZ3MiOiJBQUFBLElBQU1BLFFBQVEsR0FBRyxJQUFJQyxHQUFKLEVBQWpCO0FBQ0EsT0FBTyxTQUFTQyxHQUFULENBQWFDLFlBQWIsRUFBMkJDLEtBQTNCLEVBQWtDO0FBQ3ZDLE1BQUksQ0FBQ0QsWUFBTCxFQUFtQixNQUFNRSxLQUFLLHlDQUFrQ0YsWUFBbEMsRUFBWDs7QUFFbkIsTUFBSUcsU0FBUyxDQUFDQyxNQUFWLEtBQXFCLENBQXpCLEVBQTRCO0FBQzFCLFdBQU8sVUFBQ0MsSUFBRCxFQUFVO0FBQUVBLE1BQUFBLElBQUksQ0FBQ0wsWUFBRCxDQUFKLEdBQXFCQyxLQUFyQjtBQUE2QixLQUFoRDtBQUNEOztBQUVELE1BQUlLLEVBQUUsR0FBR1QsUUFBUSxDQUFDVSxHQUFULENBQWFQLFlBQWIsQ0FBVDs7QUFFQSxNQUFJLENBQUNNLEVBQUwsRUFBUztBQUNQQSxJQUFBQSxFQUFFLEdBQUcsWUFBQ0QsSUFBRCxRQUFzQjtBQUFBLFVBQWJHLE1BQWEsUUFBYkEsTUFBYTtBQUFFSCxNQUFBQSxJQUFJLENBQUNMLFlBQUQsQ0FBSixHQUFxQlEsTUFBTSxDQUFDUCxLQUE1QjtBQUFvQyxLQUFqRTs7QUFDQUosSUFBQUEsUUFBUSxDQUFDRSxHQUFULENBQWFDLFlBQWIsRUFBMkJNLEVBQTNCO0FBQ0Q7O0FBRUQsU0FBT0EsRUFBUDtBQUNEO0FBRUQsSUFBTUcsVUFBVSxHQUFHLElBQUlDLE9BQUosRUFBbkI7QUFDQSxPQUFPLFNBQVNDLE9BQVQsQ0FBaUJDLE9BQWpCLEVBQTBCQyxXQUExQixFQUFvRDtBQUFBLE1BQWJDLEtBQWEsdUVBQUwsR0FBSztBQUN6RCxTQUFPLFVBQUNULElBQUQsRUFBT0csTUFBUCxFQUFrQjtBQUN2QixRQUFJTyxPQUFKOztBQUVBLFFBQUlGLFdBQUosRUFBaUI7QUFDZkUsTUFBQUEsT0FBTyxHQUFHQyxVQUFVLENBQUMsWUFBTTtBQUN6QkQsUUFBQUEsT0FBTyxHQUFHRSxTQUFWO0FBRUFDLFFBQUFBLHFCQUFxQixDQUFDLFlBQU07QUFDMUJMLFVBQUFBLFdBQVcsQ0FBQ1IsSUFBRCxFQUFPRyxNQUFQLENBQVg7QUFDRCxTQUZvQixDQUFyQjtBQUdELE9BTm1CLEVBTWpCTSxLQU5pQixDQUFwQjtBQU9EOztBQUVETCxJQUFBQSxVQUFVLENBQUNWLEdBQVgsQ0FBZVMsTUFBZixFQUF1QkksT0FBdkI7QUFFQUEsSUFBQUEsT0FBTyxDQUFDTyxJQUFSLENBQWEsVUFBQ0MsUUFBRCxFQUFjO0FBQ3pCLFVBQUlMLE9BQUosRUFBYU0sWUFBWSxDQUFDTixPQUFELENBQVo7O0FBRWIsVUFBSU4sVUFBVSxDQUFDRixHQUFYLENBQWVDLE1BQWYsTUFBMkJJLE9BQS9CLEVBQXdDO0FBQ3RDUSxRQUFBQSxRQUFRLENBQUNmLElBQUQsRUFBT0csTUFBUCxDQUFSO0FBQ0FDLFFBQUFBLFVBQVUsQ0FBQ1YsR0FBWCxDQUFlUyxNQUFmLEVBQXVCLElBQXZCO0FBQ0Q7QUFDRixLQVBEO0FBUUQsR0F2QkQ7QUF3QkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzZXRDYWNoZSA9IG5ldyBNYXAoKTtcbmV4cG9ydCBmdW5jdGlvbiBzZXQocHJvcGVydHlOYW1lLCB2YWx1ZSkge1xuICBpZiAoIXByb3BlcnR5TmFtZSkgdGhyb3cgRXJyb3IoYFRhcmdldCBwcm9wZXJ0eSBuYW1lIG1pc3Npbmc6ICR7cHJvcGVydHlOYW1lfWApO1xuXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgcmV0dXJuIChob3N0KSA9PiB7IGhvc3RbcHJvcGVydHlOYW1lXSA9IHZhbHVlOyB9O1xuICB9XG5cbiAgbGV0IGZuID0gc2V0Q2FjaGUuZ2V0KHByb3BlcnR5TmFtZSk7XG5cbiAgaWYgKCFmbikge1xuICAgIGZuID0gKGhvc3QsIHsgdGFyZ2V0IH0pID0+IHsgaG9zdFtwcm9wZXJ0eU5hbWVdID0gdGFyZ2V0LnZhbHVlOyB9O1xuICAgIHNldENhY2hlLnNldChwcm9wZXJ0eU5hbWUsIGZuKTtcbiAgfVxuXG4gIHJldHVybiBmbjtcbn1cblxuY29uc3QgcHJvbWlzZU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCBwbGFjZWhvbGRlciwgZGVsYXkgPSAyMDApIHtcbiAgcmV0dXJuIChob3N0LCB0YXJnZXQpID0+IHtcbiAgICBsZXQgdGltZW91dDtcblxuICAgIGlmIChwbGFjZWhvbGRlcikge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aW1lb3V0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgcGxhY2Vob2xkZXIoaG9zdCwgdGFyZ2V0KTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBkZWxheSk7XG4gICAgfVxuXG4gICAgcHJvbWlzZU1hcC5zZXQodGFyZ2V0LCBwcm9taXNlKTtcblxuICAgIHByb21pc2UudGhlbigodGVtcGxhdGUpID0+IHtcbiAgICAgIGlmICh0aW1lb3V0KSBjbGVhclRpbWVvdXQodGltZW91dCk7XG5cbiAgICAgIGlmIChwcm9taXNlTWFwLmdldCh0YXJnZXQpID09PSBwcm9taXNlKSB7XG4gICAgICAgIHRlbXBsYXRlKGhvc3QsIHRhcmdldCk7XG4gICAgICAgIHByb21pc2VNYXAuc2V0KHRhcmdldCwgbnVsbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG4iXX0=","import defineElements from '../define';\nimport { compileTemplate, getPlaceholder } from './core';\nimport * as helpers from './helpers';\nvar PLACEHOLDER = getPlaceholder();\nvar SVG_PLACEHOLDER = getPlaceholder('svg');\nvar templatesMap = new Map();\nvar stylesMap = new WeakMap();\nvar methods = {\n  define: function define(elements) {\n    defineElements(elements);\n    return this;\n  },\n  key: function key(id) {\n    this.id = id;\n    return this;\n  },\n  style: function style() {\n    for (var _len = arguments.length, styles = new Array(_len), _key = 0; _key < _len; _key++) {\n      styles[_key] = arguments[_key];\n    }\n\n    stylesMap.set(this, styles);\n    return this;\n  }\n};\n\nfunction create(parts, args, isSVG) {\n  var createTemplate = function createTemplate(host) {\n    var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : host;\n    var styles = stylesMap.get(createTemplate);\n    var id = parts.join(PLACEHOLDER);\n    if (styles) id += styles.join(PLACEHOLDER);\n    if (isSVG) id += SVG_PLACEHOLDER;\n    var render = templatesMap.get(id);\n\n    if (!render) {\n      render = compileTemplate(parts, isSVG, styles);\n      templatesMap.set(id, render);\n    }\n\n    render(host, target, args);\n  };\n\n  return Object.assign(createTemplate, methods);\n}\n\nexport function html(parts) {\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  return create(parts, args);\n}\nexport function svg(parts) {\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n\n  return create(parts, args, true);\n}\nObject.assign(html, helpers);\nObject.assign(svg, helpers);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy90ZW1wbGF0ZS9pbmRleC5qcyJdLCJuYW1lcyI6WyJkZWZpbmVFbGVtZW50cyIsImNvbXBpbGVUZW1wbGF0ZSIsImdldFBsYWNlaG9sZGVyIiwiaGVscGVycyIsIlBMQUNFSE9MREVSIiwiU1ZHX1BMQUNFSE9MREVSIiwidGVtcGxhdGVzTWFwIiwiTWFwIiwic3R5bGVzTWFwIiwiV2Vha01hcCIsIm1ldGhvZHMiLCJkZWZpbmUiLCJlbGVtZW50cyIsImtleSIsImlkIiwic3R5bGUiLCJzdHlsZXMiLCJzZXQiLCJjcmVhdGUiLCJwYXJ0cyIsImFyZ3MiLCJpc1NWRyIsImNyZWF0ZVRlbXBsYXRlIiwiaG9zdCIsInRhcmdldCIsImdldCIsImpvaW4iLCJyZW5kZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJodG1sIiwic3ZnIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxjQUFQLE1BQTJCLFdBQTNCO0FBRUEsU0FBU0MsZUFBVCxFQUEwQkMsY0FBMUIsUUFBZ0QsUUFBaEQ7QUFDQSxPQUFPLEtBQUtDLE9BQVosTUFBeUIsV0FBekI7QUFFQSxJQUFNQyxXQUFXLEdBQUdGLGNBQWMsRUFBbEM7QUFDQSxJQUFNRyxlQUFlLEdBQUdILGNBQWMsQ0FBQyxLQUFELENBQXRDO0FBRUEsSUFBTUksWUFBWSxHQUFHLElBQUlDLEdBQUosRUFBckI7QUFDQSxJQUFNQyxTQUFTLEdBQUcsSUFBSUMsT0FBSixFQUFsQjtBQUVBLElBQU1DLE9BQU8sR0FBRztBQUNkQyxFQUFBQSxNQURjLGtCQUNQQyxRQURPLEVBQ0c7QUFDZlosSUFBQUEsY0FBYyxDQUFDWSxRQUFELENBQWQ7QUFDQSxXQUFPLElBQVA7QUFDRCxHQUphO0FBS2RDLEVBQUFBLEdBTGMsZUFLVkMsRUFMVSxFQUtOO0FBQ04sU0FBS0EsRUFBTCxHQUFVQSxFQUFWO0FBQ0EsV0FBTyxJQUFQO0FBQ0QsR0FSYTtBQVNkQyxFQUFBQSxLQVRjLG1CQVNHO0FBQUEsc0NBQVJDLE1BQVE7QUFBUkEsTUFBQUEsTUFBUTtBQUFBOztBQUNmUixJQUFBQSxTQUFTLENBQUNTLEdBQVYsQ0FBYyxJQUFkLEVBQW9CRCxNQUFwQjtBQUNBLFdBQU8sSUFBUDtBQUNEO0FBWmEsQ0FBaEI7O0FBZUEsU0FBU0UsTUFBVCxDQUFnQkMsS0FBaEIsRUFBdUJDLElBQXZCLEVBQTZCQyxLQUE3QixFQUFvQztBQUNsQyxNQUFNQyxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUNDLElBQUQsRUFBeUI7QUFBQSxRQUFsQkMsTUFBa0IsdUVBQVRELElBQVM7QUFDOUMsUUFBTVAsTUFBTSxHQUFHUixTQUFTLENBQUNpQixHQUFWLENBQWNILGNBQWQsQ0FBZjtBQUNBLFFBQUlSLEVBQUUsR0FBR0ssS0FBSyxDQUFDTyxJQUFOLENBQVd0QixXQUFYLENBQVQ7QUFDQSxRQUFJWSxNQUFKLEVBQVlGLEVBQUUsSUFBSUUsTUFBTSxDQUFDVSxJQUFQLENBQVl0QixXQUFaLENBQU47QUFDWixRQUFJaUIsS0FBSixFQUFXUCxFQUFFLElBQUlULGVBQU47QUFFWCxRQUFJc0IsTUFBTSxHQUFHckIsWUFBWSxDQUFDbUIsR0FBYixDQUFpQlgsRUFBakIsQ0FBYjs7QUFDQSxRQUFJLENBQUNhLE1BQUwsRUFBYTtBQUNYQSxNQUFBQSxNQUFNLEdBQUcxQixlQUFlLENBQUNrQixLQUFELEVBQVFFLEtBQVIsRUFBZUwsTUFBZixDQUF4QjtBQUNBVixNQUFBQSxZQUFZLENBQUNXLEdBQWIsQ0FBaUJILEVBQWpCLEVBQXFCYSxNQUFyQjtBQUNEOztBQUVEQSxJQUFBQSxNQUFNLENBQUNKLElBQUQsRUFBT0MsTUFBUCxFQUFlSixJQUFmLENBQU47QUFDRCxHQWJEOztBQWVBLFNBQU9RLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjUCxjQUFkLEVBQThCWixPQUE5QixDQUFQO0FBQ0Q7O0FBRUQsT0FBTyxTQUFTb0IsSUFBVCxDQUFjWCxLQUFkLEVBQThCO0FBQUEscUNBQU5DLElBQU07QUFBTkEsSUFBQUEsSUFBTTtBQUFBOztBQUNuQyxTQUFPRixNQUFNLENBQUNDLEtBQUQsRUFBUUMsSUFBUixDQUFiO0FBQ0Q7QUFFRCxPQUFPLFNBQVNXLEdBQVQsQ0FBYVosS0FBYixFQUE2QjtBQUFBLHFDQUFOQyxJQUFNO0FBQU5BLElBQUFBLElBQU07QUFBQTs7QUFDbEMsU0FBT0YsTUFBTSxDQUFDQyxLQUFELEVBQVFDLElBQVIsRUFBYyxJQUFkLENBQWI7QUFDRDtBQUVEUSxNQUFNLENBQUNDLE1BQVAsQ0FBY0MsSUFBZCxFQUFvQjNCLE9BQXBCO0FBQ0F5QixNQUFNLENBQUNDLE1BQVAsQ0FBY0UsR0FBZCxFQUFtQjVCLE9BQW5CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlZmluZUVsZW1lbnRzIGZyb20gJy4uL2RlZmluZSc7XG5cbmltcG9ydCB7IGNvbXBpbGVUZW1wbGF0ZSwgZ2V0UGxhY2Vob2xkZXIgfSBmcm9tICcuL2NvcmUnO1xuaW1wb3J0ICogYXMgaGVscGVycyBmcm9tICcuL2hlbHBlcnMnO1xuXG5jb25zdCBQTEFDRUhPTERFUiA9IGdldFBsYWNlaG9sZGVyKCk7XG5jb25zdCBTVkdfUExBQ0VIT0xERVIgPSBnZXRQbGFjZWhvbGRlcignc3ZnJyk7XG5cbmNvbnN0IHRlbXBsYXRlc01hcCA9IG5ldyBNYXAoKTtcbmNvbnN0IHN0eWxlc01hcCA9IG5ldyBXZWFrTWFwKCk7XG5cbmNvbnN0IG1ldGhvZHMgPSB7XG4gIGRlZmluZShlbGVtZW50cykge1xuICAgIGRlZmluZUVsZW1lbnRzKGVsZW1lbnRzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAga2V5KGlkKSB7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBzdHlsZSguLi5zdHlsZXMpIHtcbiAgICBzdHlsZXNNYXAuc2V0KHRoaXMsIHN0eWxlcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG59O1xuXG5mdW5jdGlvbiBjcmVhdGUocGFydHMsIGFyZ3MsIGlzU1ZHKSB7XG4gIGNvbnN0IGNyZWF0ZVRlbXBsYXRlID0gKGhvc3QsIHRhcmdldCA9IGhvc3QpID0+IHtcbiAgICBjb25zdCBzdHlsZXMgPSBzdHlsZXNNYXAuZ2V0KGNyZWF0ZVRlbXBsYXRlKTtcbiAgICBsZXQgaWQgPSBwYXJ0cy5qb2luKFBMQUNFSE9MREVSKTtcbiAgICBpZiAoc3R5bGVzKSBpZCArPSBzdHlsZXMuam9pbihQTEFDRUhPTERFUik7XG4gICAgaWYgKGlzU1ZHKSBpZCArPSBTVkdfUExBQ0VIT0xERVI7XG5cbiAgICBsZXQgcmVuZGVyID0gdGVtcGxhdGVzTWFwLmdldChpZCk7XG4gICAgaWYgKCFyZW5kZXIpIHtcbiAgICAgIHJlbmRlciA9IGNvbXBpbGVUZW1wbGF0ZShwYXJ0cywgaXNTVkcsIHN0eWxlcyk7XG4gICAgICB0ZW1wbGF0ZXNNYXAuc2V0KGlkLCByZW5kZXIpO1xuICAgIH1cblxuICAgIHJlbmRlcihob3N0LCB0YXJnZXQsIGFyZ3MpO1xuICB9O1xuXG4gIHJldHVybiBPYmplY3QuYXNzaWduKGNyZWF0ZVRlbXBsYXRlLCBtZXRob2RzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh0bWwocGFydHMsIC4uLmFyZ3MpIHtcbiAgcmV0dXJuIGNyZWF0ZShwYXJ0cywgYXJncyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdmcocGFydHMsIC4uLmFyZ3MpIHtcbiAgcmV0dXJuIGNyZWF0ZShwYXJ0cywgYXJncywgdHJ1ZSk7XG59XG5cbk9iamVjdC5hc3NpZ24oaHRtbCwgaGVscGVycyk7XG5PYmplY3QuYXNzaWduKHN2ZywgaGVscGVycyk7XG4iXX0=","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t? self // if in worker\n\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n * MIT license http://www.opensource.org/licenses/mit-license.php/\n * @author Lea Verou http://lea.verou.me\n */\n\nvar Prism = (function (_self){\n\n// Private helper vars\nvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\nvar uniqueId = 0;\n\n\nvar _ = {\n\tmanual: _self.Prism && _self.Prism.manual,\n\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\tutil: {\n\t\tencode: function (tokens) {\n\t\t\tif (tokens instanceof Token) {\n\t\t\t\treturn new Token(tokens.type, _.util.encode(tokens.content), tokens.alias);\n\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\treturn tokens.map(_.util.encode);\n\t\t\t} else {\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t}\n\t\t},\n\n\t\ttype: function (o) {\n\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t},\n\n\t\tobjId: function (obj) {\n\t\t\tif (!obj['__id']) {\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t}\n\t\t\treturn obj['__id'];\n\t\t},\n\n\t\t// Deep clone a language definition (e.g. to extend it)\n\t\tclone: function deepClone(o, visited) {\n\t\t\tvar clone, id, type = _.util.type(o);\n\t\t\tvisited = visited || {};\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'Object':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = {};\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn clone;\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t}\n\t\t\t\t\tclone = [];\n\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\to.forEach(function (v, i) {\n\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn clone;\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn o;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t *\n\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t *\n\t\t * @param {Element} element\n\t\t * @returns {string}\n\t\t */\n\t\tgetLanguage: function (element) {\n\t\t\twhile (element && !lang.test(element.className)) {\n\t\t\t\telement = element.parentElement;\n\t\t\t}\n\t\t\tif (element) {\n\t\t\t\treturn (element.className.match(lang) || [, 'none'])[1].toLowerCase();\n\t\t\t}\n\t\t\treturn 'none';\n\t\t},\n\n\t\t/**\n\t\t * Returns the script element that is currently executing.\n\t\t *\n\t\t * This does __not__ work for line script element.\n\t\t *\n\t\t * @returns {HTMLScriptElement | null}\n\t\t */\n\t\tcurrentScript: function () {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif ('currentScript' in document) {\n\t\t\t\treturn document.currentScript;\n\t\t\t}\n\n\t\t\t// IE11 workaround\n\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t// this will not work for inline scripts\n\n\t\t\ttry {\n\t\t\t\tthrow new Error();\n\t\t\t} catch (err) {\n\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t// A stack will look like this:\n\t\t\t\t//\n\t\t\t\t// Error\n\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):.+:.+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\tif (src) {\n\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t},\n\n\tlanguages: {\n\t\textend: function (id, redef) {\n\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\tfor (var key in redef) {\n\t\t\t\tlang[key] = redef[key];\n\t\t\t}\n\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Insert a token before another token in a language literal\n\t\t * As this needs to recreate the object (we cannot actually insert before keys in object literals),\n\t\t * we cannot just provide an object, we need an object and a key.\n\t\t * @param inside The key (or language id) of the parent\n\t\t * @param before The key to insert before.\n\t\t * @param insert Object with the key/value pairs to insert\n\t\t * @param root The object that contains `inside`. If equal to Prism.languages, it can be omitted.\n\t\t */\n\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\troot = root || _.languages;\n\t\t\tvar grammar = root[inside];\n\t\t\tvar ret = {};\n\n\t\t\tfor (var token in grammar) {\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar old = root[inside];\n\t\t\troot[inside] = ret;\n\n\t\t\t// Update references in other language definitions\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\n\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\tthis[key] = ret;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn ret;\n\t\t},\n\n\t\t// Traverse a language definition with Depth First Search\n\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\tvisited = visited || {};\n\n\t\t\tvar objId = _.util.objId;\n\n\t\t\tfor (var i in o) {\n\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\tvar property = o[i],\n\t\t\t\t\t    propertyType = _.util.type(property);\n\n\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tplugins: {},\n\n\thighlightAll: function(async, callback) {\n\t\t_.highlightAllUnder(document, async, callback);\n\t},\n\n\thighlightAllUnder: function(container, async, callback) {\n\t\tvar env = {\n\t\t\tcallback: callback,\n\t\t\tcontainer: container,\n\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t};\n\n\t\t_.hooks.run('before-highlightall', env);\n\n\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\tfor (var i = 0, element; element = env.elements[i++];) {\n\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t}\n\t},\n\n\thighlightElement: function(element, async, callback) {\n\t\t// Find language\n\t\tvar language = _.util.getLanguage(element);\n\t\tvar grammar = _.languages[language];\n\n\t\t// Set language on the element, if not present\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\t// Set language on the parent, for styling\n\t\tvar parent = element.parentNode;\n\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t}\n\n\t\tvar code = element.textContent;\n\n\t\tvar env = {\n\t\t\telement: element,\n\t\t\tlanguage: language,\n\t\t\tgrammar: grammar,\n\t\t\tcode: code\n\t\t};\n\n\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t}\n\n\t\t_.hooks.run('before-sanity-check', env);\n\n\t\tif (!env.code) {\n\t\t\t_.hooks.run('complete', env);\n\t\t\tcallback && callback.call(env.element);\n\t\t\treturn;\n\t\t}\n\n\t\t_.hooks.run('before-highlight', env);\n\n\t\tif (!env.grammar) {\n\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\treturn;\n\t\t}\n\n\t\tif (async && _self.Worker) {\n\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\tworker.onmessage = function(evt) {\n\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t};\n\n\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\tlanguage: env.language,\n\t\t\t\tcode: env.code,\n\t\t\t\timmediateClose: true\n\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t}\n\t},\n\n\thighlight: function (text, grammar, language) {\n\t\tvar env = {\n\t\t\tcode: text,\n\t\t\tgrammar: grammar,\n\t\t\tlanguage: language\n\t\t};\n\t\t_.hooks.run('before-tokenize', env);\n\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t_.hooks.run('after-tokenize', env);\n\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t},\n\n\tmatchGrammar: function (text, strarr, grammar, index, startPos, oneshot, target) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (target && target == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar pattern = patterns[j],\n\t\t\t\t\tinside = pattern.inside,\n\t\t\t\t\tlookbehind = !!pattern.lookbehind,\n\t\t\t\t\tgreedy = !!pattern.greedy,\n\t\t\t\t\tlookbehindLength = 0,\n\t\t\t\t\talias = pattern.alias;\n\n\t\t\t\tif (greedy && !pattern.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = pattern.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpattern.pattern = RegExp(pattern.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\tpattern = pattern.pattern || pattern;\n\n\t\t\t\t// Dont cache length as it changes during the loop\n\t\t\t\tfor (var i = index, pos = startPos; i < strarr.length; pos += strarr[i].length, ++i) {\n\n\t\t\t\t\tvar str = strarr[i];\n\n\t\t\t\t\tif (strarr.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (greedy && i != strarr.length - 1) {\n\t\t\t\t\t\tpattern.lastIndex = pos;\n\t\t\t\t\t\tvar match = pattern.exec(text);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index + (lookbehind && match[1] ? match[1].length : 0),\n\t\t\t\t\t\t    to = match.index + match[0].length,\n\t\t\t\t\t\t    k = i,\n\t\t\t\t\t\t    p = pos;\n\n\t\t\t\t\t\tfor (var len = strarr.length; k < len && (p < to || (!strarr[k].type && !strarr[k - 1].greedy)); ++k) {\n\t\t\t\t\t\t\tp += strarr[k].length;\n\t\t\t\t\t\t\t// Move the index i to the element in strarr that is closest to from\n\t\t\t\t\t\t\tif (from >= p) {\n\t\t\t\t\t\t\t\t++i;\n\t\t\t\t\t\t\t\tpos = p;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If strarr[i] is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (strarr[i] instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Number of tokens to delete and replace with the new match\n\t\t\t\t\t\tdelNum = k - i;\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpattern.lastIndex = 0;\n\n\t\t\t\t\t\tvar match = pattern.exec(str),\n\t\t\t\t\t\t\tdelNum = 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tif (oneshot) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(lookbehind) {\n\t\t\t\t\t\tlookbehindLength = match[1] ? match[1].length : 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar from = match.index + lookbehindLength,\n\t\t\t\t\t    match = match[0].slice(lookbehindLength),\n\t\t\t\t\t    to = from + match.length,\n\t\t\t\t\t    before = str.slice(0, from),\n\t\t\t\t\t    after = str.slice(to);\n\n\t\t\t\t\tvar args = [i, delNum];\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\t++i;\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t\targs.push(before);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar wrapped = new Token(token, inside? _.tokenize(match, inside) : match, alias, match, greedy);\n\n\t\t\t\t\targs.push(wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\targs.push(after);\n\t\t\t\t\t}\n\n\t\t\t\t\tArray.prototype.splice.apply(strarr, args);\n\n\t\t\t\t\tif (delNum != 1)\n\t\t\t\t\t\t_.matchGrammar(text, strarr, grammar, i, pos, true, token + ',' + j);\n\n\t\t\t\t\tif (oneshot)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\ttokenize: function(text, grammar) {\n\t\tvar strarr = [text];\n\n\t\tvar rest = grammar.rest;\n\n\t\tif (rest) {\n\t\t\tfor (var token in rest) {\n\t\t\t\tgrammar[token] = rest[token];\n\t\t\t}\n\n\t\t\tdelete grammar.rest;\n\t\t}\n\n\t\t_.matchGrammar(text, strarr, grammar, 0, 0, false);\n\n\t\treturn strarr;\n\t},\n\n\thooks: {\n\t\tall: {},\n\n\t\tadd: function (name, callback) {\n\t\t\tvar hooks = _.hooks.all;\n\n\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\thooks[name].push(callback);\n\t\t},\n\n\t\trun: function (name, env) {\n\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\n\t\t\t\tcallback(env);\n\t\t\t}\n\t\t}\n\t},\n\n\tToken: Token\n};\n\n_self.Prism = _;\n\nfunction Token(type, content, alias, matchedStr, greedy) {\n\tthis.type = type;\n\tthis.content = content;\n\tthis.alias = alias;\n\t// Copy of the full string this token was created from\n\tthis.length = (matchedStr || '').length|0;\n\tthis.greedy = !!greedy;\n}\n\nToken.stringify = function(o, language) {\n\tif (typeof o == 'string') {\n\t\treturn o;\n\t}\n\n\tif (Array.isArray(o)) {\n\t\treturn o.map(function(element) {\n\t\t\treturn Token.stringify(element, language);\n\t\t}).join('');\n\t}\n\n\tvar env = {\n\t\ttype: o.type,\n\t\tcontent: Token.stringify(o.content, language),\n\t\ttag: 'span',\n\t\tclasses: ['token', o.type],\n\t\tattributes: {},\n\t\tlanguage: language\n\t};\n\n\tif (o.alias) {\n\t\tvar aliases = Array.isArray(o.alias) ? o.alias : [o.alias];\n\t\tArray.prototype.push.apply(env.classes, aliases);\n\t}\n\n\t_.hooks.run('wrap', env);\n\n\tvar attributes = Object.keys(env.attributes).map(function(name) {\n\t\treturn name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t}).join(' ');\n\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + (attributes ? ' ' + attributes : '') + '>' + env.content + '</' + env.tag + '>';\n};\n\nif (!_self.document) {\n\tif (!_self.addEventListener) {\n\t\t// in Node.js\n\t\treturn _;\n\t}\n\n\tif (!_.disableWorkerMessageHandler) {\n\t\t// In worker\n\t\t_self.addEventListener('message', function (evt) {\n\t\t\tvar message = JSON.parse(evt.data),\n\t\t\t\tlang = message.language,\n\t\t\t\tcode = message.code,\n\t\t\t\timmediateClose = message.immediateClose;\n\n\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\tif (immediateClose) {\n\t\t\t\t_self.close();\n\t\t\t}\n\t\t}, false);\n\t}\n\n\treturn _;\n}\n\n//Get current script and highlight\nvar script = _.util.currentScript();\n\nif (script) {\n\t_.filename = script.src;\n\n\tif (script.hasAttribute('data-manual')) {\n\t\t_.manual = true;\n\t}\n}\n\nif (!_.manual) {\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t// See https://github.com/PrismJS/prism/issues/2102\n\tvar readyState = document.readyState;\n\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t} else {\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t}\n\t}\n}\n\nreturn _;\n\n})(_self);\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': /<!--[\\s\\S]*?-->/,\n\t'prolog': /<\\?[\\s\\S]+?\\?>/,\n\t'doctype': {\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:(?!<!--)[^\"'\\]]|\"[^\"]*\"|'[^']*'|<!--[\\s\\S]*?-->)*\\]\\s*)?>/i,\n\t\tgreedy: true\n\t},\n\t'cdata': /<!\\[CDATA\\[[\\s\\S]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t/^=/,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': /&#?[\\da-z]{1,8};/i\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function(env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[\\s\\S]*?>)(?:<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\s*|[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, tagName), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(\"|')(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: /@[\\w-]+[\\s\\S]*?(?:;|(?=\\s*\\{))/,\n\t\t\tinside: {\n\t\t\t\t'rule': /@[\\w-]+/\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\tpattern: RegExp('url\\\\((?:' + string.source + '|[^\\n\\r()]*)\\\\)', 'i'),\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/\n\t\t\t}\n\t\t},\n\t\t'selector': RegExp('[^{}\\\\s](?:[^{};\"\\']|' + string.source + ')*?(?=\\\\s*\\\\{)'),\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': /[-_a-z\\xA0-\\uFFFF][-\\w\\xA0-\\uFFFF]*(?=\\s*:)/i,\n\t\t'important': /!important\\b/i,\n\t\t'function': /[-a-z0-9]+(?=\\()/i,\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\n\t\tPrism.languages.insertBefore('inside', 'attr-value', {\n\t\t\t'style-attr': {\n\t\t\t\tpattern: /\\s*style=(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'attr-name': {\n\t\t\t\t\t\tpattern: /^\\s*style/i,\n\t\t\t\t\t\tinside: markup.tag.inside\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n\t\t\t\t\t'attr-value': {\n\t\t\t\t\t\tpattern: /.+/i,\n\t\t\t\t\t\tinside: Prism.languages.css\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\talias: 'language-css'\n\t\t\t}\n\t\t}, markup.tag);\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n\t'boolean': /\\b(?:true|false)\\b/,\n\t'function': /\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+\\.?\\d*|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])[_$A-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\.(?:prototype|constructor))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|})\\s*)(?:catch|finally)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t'number': /\\b(?:(?:0[xX](?:[\\dA-Fa-f](?:_[\\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\\d(?:_\\d)?)+n|NaN|Infinity)\\b|(?:\\b(?:\\d(?:_\\d)?)+\\.?(?:\\d(?:_\\d)?)*|\\B\\.(?:\\d(?:_\\d)?)+)(?:[Ee][+-]?(?:\\d(?:_\\d)?)+)?/,\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&|\\|\\||[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?[.?]?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|interface|extends|implements|instanceof|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: /((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s])\\s*)\\/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[gimyus]{0,6}(?=(?:\\s|\\/\\*[\\s\\S]*?\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|[_$a-zA-Z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*)?\\s*\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /[_$a-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*(?=\\s*=>)/i,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:[_$A-Za-z\\xA0-\\uFFFF][$\\w\\xA0-\\uFFFF]*\\s*)\\(\\s*)(?!\\s)(?:[^()]|\\([^()]*\\))+?(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\\${)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\${|}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t}\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\tif (typeof self === 'undefined' || !self.Prism || !self.document || !document.querySelector) {\n\t\treturn;\n\t}\n\n\t/**\n\t * @param {Element} [container=document]\n\t */\n\tself.Prism.fileHighlight = function(container) {\n\t\tcontainer = container || document;\n\n\t\tvar Extensions = {\n\t\t\t'js': 'javascript',\n\t\t\t'py': 'python',\n\t\t\t'rb': 'ruby',\n\t\t\t'ps1': 'powershell',\n\t\t\t'psm1': 'powershell',\n\t\t\t'sh': 'bash',\n\t\t\t'bat': 'batch',\n\t\t\t'h': 'c',\n\t\t\t'tex': 'latex'\n\t\t};\n\n\t\tArray.prototype.slice.call(container.querySelectorAll('pre[data-src]')).forEach(function (pre) {\n\t\t\t// ignore if already loaded\n\t\t\tif (pre.hasAttribute('data-src-loaded')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// load current\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language, parent = pre;\n\t\t\tvar lang = /\\blang(?:uage)?-([\\w-]+)\\b/i;\n\t\t\twhile (parent && !lang.test(parent.className)) {\n\t\t\t\tparent = parent.parentNode;\n\t\t\t}\n\n\t\t\tif (parent) {\n\t\t\t\tlanguage = (pre.className.match(lang) || [, ''])[1];\n\t\t\t}\n\n\t\t\tif (!language) {\n\t\t\t\tvar extension = (src.match(/\\.(\\w+)$/) || [, ''])[1];\n\t\t\t\tlanguage = Extensions[extension] || extension;\n\t\t\t}\n\n\t\t\tvar code = document.createElement('code');\n\t\t\tcode.className = 'language-' + language;\n\n\t\t\tpre.textContent = '';\n\n\t\t\tcode.textContent = 'Loading';\n\n\t\t\tpre.appendChild(code);\n\n\t\t\tvar xhr = new XMLHttpRequest();\n\n\t\t\txhr.open('GET', src, true);\n\n\t\t\txhr.onreadystatechange = function () {\n\t\t\t\tif (xhr.readyState == 4) {\n\n\t\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\t\tcode.textContent = xhr.responseText;\n\n\t\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t\t\t// mark as loaded\n\t\t\t\t\t\tpre.setAttribute('data-src-loaded', '');\n\t\t\t\t\t}\n\t\t\t\t\telse if (xhr.status >= 400) {\n\t\t\t\t\t\tcode.textContent = ' Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcode.textContent = ' Error: File does not exist or is empty';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\txhr.send(null);\n\t\t});\n\t};\n\n\tdocument.addEventListener('DOMContentLoaded', function () {\n\t\t// execute inside handler, for dropping Event as argument\n\t\tself.Prism.fileHighlight();\n\t});\n\n})();\n","import { html, define } from 'hybrids';\nimport prism from 'prismjs';\n\nvar hostInit = html`\n  <style>\n    :host {\n      display: block;\n    }\n    :host[hidden] {\n      display: none;\n    }\n  </style>\n`;\n\nvar index = {\n  render: () => html`\n    ${hostInit}\n    <style>\n      :host {\n        --form-flow: column wrap;\n        --form-font: sans-serif;\n        --form-font-size: 1.25em;\n        --form-margins: 0 0 1.25em 0;\n\n        --button-bg: white;\n        --button-fg: black;\n        --button-font-size: 1.25em;\n        --button-border: 4px solid black;\n        --button-radius: 0.5em;\n        --button-padding: 1em;\n\n        /* Internal qs-fieldset theming */\n        --group-background: white;\n        --group-border: 2px solid black;\n        --group-padding: 0.25em;\n        --group-label-font-size: var(--form-font-size);\n        --group-label-padding: 0 0.75em;\n        --group-label-weight: 700;\n\n        --group-option-label-font-size: var(--form-font-size);\n        --group-option-label-weight: 400;\n        --group-option-input-border: 4px solid black;\n        --group-option-input-font-size: var(--group-option-label-font-size);\n        --group-option-input-radius: 0.5em;\n        --group-option-input-padding: 0.75em;\n\n        /* Internal qs-field theming */\n        --field-label-font-size: var(--form-font-size);\n        --field-label-weight: 700;\n        --field-label-margin: 0.5em 0 0 0;\n\n        --field-input-background: white;\n        --field-input-border: 4px solid black;\n        --field-input-font-size: var(--form-font-size);\n        --field-input-radius: 0.5em;\n        --field-input-padding: 0.75em;\n        --field-color-height: 3em;\n      }\n\n      form {\n        display: flex;\n        flex-flow: var(--form-flow);\n        font-family: var(--form-font);\n        margin: var(--form-margins);\n      }\n\n      ::slotted(qs-fieldset) {\n        --fieldset-background: var(--group-background);\n        --fieldset-border: var(--group-border);\n        --fieldset-padding: var(--group-padding);\n        --fieldset-font: var(--form-font);\n        --legend-font-size: var(--group-label-font-size);\n        --legend-padding: var(--group-label-padding);\n        --legend-weight: var(--group-label-weight);\n        --option-label-weight: var(--group-option-label-weight);\n        --option-label-font-size: var(--group-option-label-font-size);\n        --option-input-border: var(--group-option-input-border);\n        --option-input-font-size: var(--group-option-input-font-size);\n        --option-input-radius: var(--group-option-input-radius);\n        --option-input-padding: var(--group-option-input-padding);\n      }\n\n      ::slotted(qs-field) {\n        --field-font: var(--form-font);\n        --label-font-size: var(--field-label-font-size);\n        --label-margin: var(--field-label-margin);\n        --label-weight: var(--field-label-weight);\n        --input-background: var(--field-input-background);\n        --input-border: var(--field-input-border);\n        --input-font-size: var(--field-input-font-size);\n        --input-radius: var(--field-input-radius);\n        --input-padding: var(--field-input-padding);\n        --color-input-height: var(--field-color-height);\n      }\n\n      ::slotted(button) {\n        background: var(--button-bg);\n        border: var(--button-border);\n        border-radius: var(--button-radius);\n        color: var(--button-fg);\n        font-size: var(--button-font-size);\n        padding: var(--button-padding);\n      }\n    </style>\n    <form action=\"\">\n      <slot></slot>\n    </form>\n  `\n};\n\nvar index$1 = {\n  group: 'The Legend of Fieldset',\n  render: ({\n    group\n  }) => html`\n    ${hostInit}\n    <style>\n      :host {\n        --fieldset-background: white;\n        --fieldset-border: 2px solid black;\n        --fieldset-font: sans-serif;\n        --fieldset-padding: 1em;\n\n        --legend-font-size: 1.25em;\n        --legend-padding: 0 0.5em;\n        --legend-weight: 700;\n\n        /* Internal qs-field options */\n        --option-label-font-size: 1em;\n        --option-label-weight: 400;\n        --option-input-border: 4px solid black;\n        --option-input-font-size: var(--label-font-size);\n        --option-input-radius: 0.5em;\n        --option-input-padding: 0.75em;\n\n        --option-color-height: 3em;\n\n        font-family: var(--fieldset-font);\n      }\n\n      fieldset {\n        background: var(--fieldset-background);\n        border: var(--fieldset-border);\n        padding: var(--fieldset-padding);\n      }\n\n      legend {\n        font-size: var(--legend-font-size);\n        font-weight: var(--legend-weight);\n        padding: var(--legend-padding);\n      }\n\n      ::slotted(qs-field) {\n        --label-weight: var(--option-label-weight);\n        --label-font-size: var(--option-label-font-size);\n\n        --input-border: 4px solid black;\n        --input-font-size: var(--label-font-size);\n        --input-radius: 0.5em;\n        --input-padding: 0.75em;\n\n        --color-input-height: 3em;\n\n        display: inline-block;\n      }\n    </style>\n    <fieldset>\n      <legend>${group}</legend>\n      <slot></slot>\n    </fieldset>\n  `\n};\n\nvar index$2 = {\n  label: 'Read the Label',\n  labelPos: 'top',\n  labelFor: '',\n  render: ({\n    label,\n    labelPos,\n    labelFor\n  }) => html`\n    ${hostInit}\n    <style>\n      :host {\n        --field-font: sans-serif;\n\n        --label-font-size: 1.25em;\n        --label-weight: 700;\n\n        --input-background: white;\n        --input-border: 4px solid black;\n        --input-font-size: var(--label-font-size);\n        --input-radius: 0.5em;\n        --input-padding: 0.75em;\n\n        --color-input-height: 3em;\n\n        font-family: var(--field-font);\n      }\n\n      label {\n        display: block;\n        font-size: var(--label-font-size);\n        font-weight: var(--label-weight);\n      }\n\n      ::slotted(input[type='file']),\n      ::slotted(input[type='text']),\n      ::slotted(input[type='number']) {\n        background: var(--input-background);\n        border: var(--input-border);\n        box-sizing: border-box;\n        border-radius: var(--input-radius);\n        font-size: var(--input-font-size);\n        padding: var(--input-padding);\n        width: 100%;\n      }\n\n      ::slotted(input[type='range']) {\n        width: 100%;\n      }\n\n      ::slotted(input[type='color']) {\n        background: transparent;\n        box-sizing: border-box;\n        border: none;\n        border-radius: 0;\n        padding: 0;\n        width: 100%;\n        height: var(--color-input-height);\n      }\n    </style>\n    ${labelPos === 'top' && html`\n        <style>\n          :host {\n            --label-margin: 0.5em 0 0 0;\n          }\n\n          ::slotted(input) {\n            margin: var(--label-margin);\n          }\n        </style>\n        <label for=\"${labelFor}\">${label}</label>\n        <slot></slot>\n      `}\n    ${labelPos === 'right' && html`\n        <style>\n          :host {\n            --label-margin: 0 0.25em 0 0;\n          }\n\n          ::slotted(input) {\n            margin: var(--label-margin);\n          }\n        </style>\n        <label><slot></slot> ${label}</label>\n      `}\n    ${labelPos === 'bottom' && html`\n        <style>\n          :host {\n            --label-margin: 0 0 0.5em 0;\n          }\n\n          ::slotted(input) {\n            margin: var(--label-margin);\n          }\n        </style>\n        <slot></slot>\n        <label for=\"${labelFor}\">${label}</label>\n      `}\n    ${labelPos === 'left' && html`\n        <style>\n          :host {\n            --label-margin: 0 0 0 0.5em;\n          }\n\n          ::slotted(input) {\n            margin: var(--label-margin);\n          }\n        </style>\n        <label>${label} <slot></slot></label>\n      `}\n  `\n};\n\nvar index$3 = {\n  data: {},\n  variable: 'output',\n  label: 'code',\n  format: ({\n    data\n  }) => JSON.stringify(data, null, 2),\n  output: ({\n    format,\n    variable\n  }) => prism.highlight(`const ${variable} = ${format};`, prism.languages.javascript, 'javascript'),\n  render: ({\n    data,\n    variable,\n    label,\n    output\n  }) => html`\n      ${hostInit}\n      <style>\n        :host {\n          --font: monospace;\n          --border: 4px solid black;\n          --font-size: 1.25em;\n          --padding: 1em;\n\n          --theme-bg: white;\n          --theme-padding: var(--padding);\n          --theme-keyword-color: crimson;\n          --theme-string-color: forestgreen;\n\n          font-family: var(--font);\n          font-size: var(--font-size);\n        }\n\n        pre {\n          background: var(--theme-bg);\n          border: var(--border);\n          overflow-x: auto;\n          padding: var(--theme-padding);\n        }\n\n        /* prism theme */\n        .token.keyword {\n          color: var(--theme-keyword-color);\n          font-weight: 700;\n        }\n\n        .token.string {\n          color: var(--theme-string-color);\n        }\n      </style>\n      <pre><code innerHTML=\"${output}\"></code></pre>\n    `\n};\n\nvar index$4 = {\n  label: 'base',\n  value: '1rem',\n  render: ({\n    label,\n    value\n  }) => html`\n      ${hostInit}\n      <style>\n        :host {\n          --element-color: black;\n          --element-margin: 0 0 0.5em 0;\n          --element-width: 100%;\n\n          --label-size: 1rem;\n\n          --flex-flow: column nowrap;\n          --align-items: center;\n\n          display: flex;\n          flex-flow: var(--flex-flow);\n          align-items: var(--align-items);\n        }\n\n        div {\n          background: var(--element-color);\n          margin: var(--element-margin);\n          width: var(--element-width);\n          height: ${value};\n        }\n\n        code {\n          font-size: var(--label-size);\n        }\n      </style>\n      <div></div>\n      <code>${label}: ${value}</code>\n    `\n};\n\nvar index$5 = {\n  label: 'Sans',\n  stack: 'sans-serif',\n  render: ({\n    label,\n    stack\n  }) => html`\n    ${hostInit}\n    <style>\n      :host {\n        --label-bg: black;\n        --label-fg: white;\n        --label-padding: 1em;\n        --label-size: 1.25em;\n        --label-font: sans-serif;\n\n        --value-font: monospace;\n        --value-opacity: 0.8;\n\n        --content-bg: var(--label-fg);\n        --content-fg: var(--label-bg);\n        --content-border: 4px solid black;\n        --content-padding: calc(var(--label-padding) / 1.5);\n        --content-size: calc(var(--label-size) * 1.25);\n      }\n\n      .label {\n        background: var(--label-bg);\n        color: var(--label-fg);\n        padding: var(--label-padding);\n        font-family: var(--label-font);\n        font-size: var(--label-size);\n        font-weight: 700;\n      }\n\n      .label > code {\n        opacity: var(--value-opacity);\n        font-family: var(--value-font);\n        font-weight: 400;\n      }\n\n      .content {\n        background: var(--content-bg);\n        color: var(--content-fg);\n        border: var(--content-border);\n        padding: var(--content-padding);\n        font-family: ${stack};\n        font-size: var(--content-size);\n      }\n    </style>\n    <div class=\"label\">${label}: <code>${stack}</code></div>\n    <div class=\"content\">The quick brown fox jumps over the lazy dog.</div>\n  `\n};\n\nvar index$6 = {\n  label: 'base',\n  value: '1rem',\n  content: 'The quick brown fox jumps over the lazy dog.',\n  render: ({\n    label,\n    value,\n    content\n  }) => html`\n      ${hostInit}\n      <style>\n        :host {\n          --label-bg: black;\n          --label-fg: white;\n\n          --label-font: sans-serif;\n          --label-size: 1.25em;\n          --label-padding: 1em;\n\n          --value-font: monospace;\n          --value-opacity: 0.8;\n\n          --content-bg: var(--label-fg);\n          --content-fg: var(--label-bg);\n          --content-border: 4px solid black;\n          --content-padding: var(--label-padding);\n        }\n\n        .label {\n          background: var(--label-bg);\n          color: var(--label-fg);\n          display: inline-block;\n          font-family: var(--label-font);\n          font-size: var(--label-size);\n          padding: var(--label-padding);\n        }\n\n        .label > code {\n          opacity: var(--value-opacity);\n          font-family: var(--value-font);\n        }\n\n        .content {\n          border: var(--content-border);\n          background: var(--content-bg);\n          color: var(--content-fg);\n          padding: var(--content-padding);\n          font-family: var(--font-system-serif);\n          font-size: ${value};\n        }\n      </style>\n      <div class=\"label\">${label}: <code>${value}</code></div>\n      <div class=\"content\">${content}</div>\n    `\n};\n\nvar index$7 = {\n  value: '#aaaaaa',\n  render: ({\n    value\n  }) => html`\n      ${hostInit}\n      <style>\n        :host {\n          --border-color: black;\n          --border-width: 4px;\n          --border-radius: 0;\n\n          --swatch-padding: 1.5em;\n\n          --value-font: monospace;\n          --value-padding: calc(var(--swatch-padding) / 2);\n          --value-size: 1rem;\n        }\n\n        div {\n          background: ${value};\n          border: var(--border-width) solid var(--border-color);\n          border-radius: var(--border-radius);\n          padding: var(--swatch-padding);\n        }\n\n        code {\n          background: rgba(255, 255, 255, 0.8);\n          border-radius: calc(var(--border-radius) / 2);\n          display: block;\n          font-family: var(--value-font);\n          font-size: var(--value-size);\n          padding: var(--value-padding);\n          text-align: center;\n        }\n      </style>\n      <div>\n        <code>${value}</code>\n      </div>\n    `\n};\n\n// Control Elements\n\nvar components = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  QSControls: index,\n  QSFieldset: index$1,\n  QSField: index$2,\n  QSData: index$3,\n  QSElement: index$4,\n  QSFont: index$5,\n  QSScale: index$6,\n  QSSwatch: index$7\n});\n\ndefine({ ...components\n});\n//# sourceMappingURL=index.js.map\n"],"names":["camelToDashMap","Map","camelToDash","str","result","undefined","shadyCSS","fn","fallback","shady","window","ShadyCSS","nativeShadow","stringifyElement","element","tagName","String","toLowerCase","concat","IS_IE","defaultTransform","v","objectTransform","value","_typeof","TypeError","Object","callbacks","WeakMap","queue","Set","execute","target","e","size","dispatch","requestAnimationFrame","entries","getEntry","key","targetMap","entry","contexts","deps","state","checksum","observed","calculateChecksum","depEntry","dispatchDeep","emitter","contextStack","get","getter","Error","context","nextValue","observe","lastValue","unsubscribe","cb","emitter.subscribe","process","env","NODE_ENV","defaultMethod","host","compile","Hybrid","descriptors","config","desc","type","customOptions","arguments","length","options","_objectSpread","shadowRoot","shadowRootInit","mode","update","flush","render","Array","connect","transform","val","set","oldValue","invalidate","attrName","attrValue","property","cache","newValue","setter","force","enumerable","configurable","clearValue","disconnects","defineElement","hybridsOrConstructor","CustomElement","_HTMLElement","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","apply","_inherits","_wrapNativeSuper","HTMLElement","constructor","list","index","customElements","defineMap","elements","keys","reduce","acc","define","map","dataMap","defaultValue","getTemplateEnd","node","data","endNode","removeTemplate","Node","TEXT_NODE","child","startNode","lastNextSibling","nextSibling","arrayMap","movePlaceholder","previousSibling","prevNode","nextNode","resolveValue","lastEntries","item","id","placeholder","available","ids","filter","lastIndex","matchedEntry","i","document","resolveArray","targets","classMap","resolveClassList","previousList","className","normalizeValue","styleMap","resolveStyle","previousMap","nextMap","dashKey","styleValue","resolveProperty","propertyName","isSVG","eventType","eventMap","_eventMap","callback","resolveEventListener","resolveStyleList","SVGElement","TIMESTAMP","Date","now","getPlaceholder","PLACEHOLDER_REGEXP_TEXT","PLACEHOLDER_REGEXP_EQUAL","RegExp","PLACEHOLDER_REGEXP_ALL","ATTR_PREFIX","ATTR_REGEXP","preparedTemplates","createWalker","ShadyDOM","inUse","parentNode","NodeFilter","container","compileTemplate","rawParts","styles","template","parts","signature","part","replace","match","createSignature","svgRoot","firstChild","fragment","iterator","textContent","replaceComments","compileWalker","content","compileIndex","_loop","currentNode","text","results","_acc$pop$split2","_slicedToArray","before","next","equal","ELEMENT_NODE","attr","trim","name","string","pop","_results","partialName","args","clone","style","count","applyShadyCSS","renderWalker","clonedParts","renderIndex","currentPart","shift","markers","previousChild","prevArgs","_data$markers$index","marker","_node","setCache","promiseMap","_ref","promise","delay","timeout","setTimeout","clearTimeout","PLACEHOLDER","SVG_PLACEHOLDER","templatesMap","stylesMap","methods","defineElements","_len","_key","create","createTemplate","html","_len2","_key2","_len3","_key3","prism","commonjsHelpers","module","Prism","_self","lang","uniqueId","_","manual","disableWorkerMessageHandler","util","encode","tokens","Token","alias","isArray","o","prototype","toString","call","slice","objId","obj","defineProperty","deepClone","visited","hasOwnProperty","forEach","getLanguage","test","parentElement","currentScript","err","src","exec","stack","scripts","getElementsByTagName","languages","extend","redef","insertBefore","inside","insert","root","grammar","ret","token","newToken","old","DFS","propertyType","plugins","highlightAll","async","highlightAllUnder","selector","hooks","run","querySelectorAll","highlightElement","language","parent","nodeName","code","insertHighlightedCode","highlightedCode","innerHTML","Worker","worker","filename","onmessage","evt","postMessage","JSON","stringify","immediateClose","highlight","tokenize","matchGrammar","strarr","startPos","oneshot","patterns","j","pattern","lookbehind","greedy","lookbehindLength","global","flags","source","pos","from","to","k","p","len","delNum","after","push","wrapped","splice","rest","all","add","matchedStr","join","tag","classes","attributes","aliases","addEventListener","message","parse","close","script","hasAttribute","highlightAutomaticallyCallback","readyState","defer","WorkerGlobalScope","self","exports","markup","includedCdataInside","def","xml","mathml","svg","css","addInlined","clike","javascript","js","querySelector","fileHighlight","Extensions","pre","getAttribute","extension","createElement","appendChild","xhr","XMLHttpRequest","open","onreadystatechange","status","responseText","setAttribute","statusText","send","hostInit"],"mappings":"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"}